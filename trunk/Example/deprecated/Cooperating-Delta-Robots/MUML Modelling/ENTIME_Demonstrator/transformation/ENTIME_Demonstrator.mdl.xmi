<?xml version="1.0" encoding="ASCII"?>
<model:SimulinkContainer xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:model="de.uni_paderborn.fujaba.simulink" xmlns:stateflow="de.uni_paderborn.fujaba.simulink.model.stateflow" id="_KbQZsI2CEeKjOIt6xW2jaA">
  <models id="_KlTtkI2CEeKjOIt6xW2jaA" name="LibraryReference">
    <lines id="_KlUUo42CEeKjOIt6xW2jaA" sourcePort="_KlWJ0I2CEeKjOIt6xW2jaA" targetPort="_KlX_AI2CEeKjOIt6xW2jaA" sourceBlock="_KlUUoY2CEeKjOIt6xW2jaA" targetBlock="_KlWJ0o2CEeKjOIt6xW2jaA" bus="_KlUUoI2CEeKjOIt6xW2jaA"/>
    <lines id="_KlU7sI2CEeKjOIt6xW2jaA" sourcePort="_KlYmEI2CEeKjOIt6xW2jaA" targetPort="_KlWJ0Y2CEeKjOIt6xW2jaA" sourceBlock="_KlWJ0o2CEeKjOIt6xW2jaA" targetBlock="_KlUUoo2CEeKjOIt6xW2jaA" bus="_KlUUoI2CEeKjOIt6xW2jaA"/>
    <lines id="_LwH64I2CEeKjOIt6xW2jaA" sourcePort="_LwIh8Y2CEeKjOIt6xW2jaA" targetPort="_LwGswI2CEeKjOIt6xW2jaA" sourceBlock="_LwHT0I2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_LwS6AI2CEeKjOIt6xW2jaA" sourcePort="_LwThEo2CEeKjOIt6xW2jaA" targetPort="_LwRr4I2CEeKjOIt6xW2jaA" sourceBlock="_LwSS8I2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <lines id="_L0s44I2CEeKjOIt6xW2jaA" sourcePort="_Ko83cI2CEeKjOIt6xW2jaA" targetPort="_LtA8gI2CEeKjOIt6xW2jaA" sourceBlock="_KopVcI2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_L0xKUI2CEeKjOIt6xW2jaA" sourcePort="_KpIdoI2CEeKjOIt6xW2jaA" targetPort="_LtyYkI2CEeKjOIt6xW2jaA" sourceBlock="_KopVcI2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_L0y_gI2CEeKjOIt6xW2jaA" sourcePort="_Ko83cI2CEeKjOIt6xW2jaA" targetPort="_LuKMAI2CEeKjOIt6xW2jaA" sourceBlock="_KopVcI2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_L01bwI2CEeKjOIt6xW2jaA" sourcePort="_KpYVQI2CEeKjOIt6xW2jaA" targetPort="_LugKQI2CEeKjOIt6xW2jaA" sourceBlock="_KopVcI2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_L03Q8I2CEeKjOIt6xW2jaA" sourcePort="_KpOkQI2CEeKjOIt6xW2jaA" targetPort="_Lu7BAI2CEeKjOIt6xW2jaA" sourceBlock="_KopVcI2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_L05tMI2CEeKjOIt6xW2jaA" sourcePort="_KpdNwI2CEeKjOIt6xW2jaA" targetPort="_LvS0cI2CEeKjOIt6xW2jaA" sourceBlock="_KopVcI2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_MDlCYI2CEeKjOIt6xW2jaA" sourcePort="_KpiGQI2CEeKjOIt6xW2jaA" targetPort="_LtJfYI2CEeKjOIt6xW2jaA" sourceBlock="_Kos_0I2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <lines id="_MeJegI2CEeKjOIt6xW2jaA" sourcePort="_KqgWoI2CEeKjOIt6xW2jaA" targetPort="_Lt-l0I2CEeKjOIt6xW2jaA" sourceBlock="_Kos_0I2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <lines id="_M-MQgI2CEeKjOIt6xW2jaA" sourcePort="_KpiGQI2CEeKjOIt6xW2jaA" targetPort="_LuVyMI2CEeKjOIt6xW2jaA" sourceBlock="_Kos_0I2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <lines id="_NkcYMI2CEeKjOIt6xW2jaA" sourcePort="_KqlPII2CEeKjOIt6xW2jaA" targetPort="_LurJYI2CEeKjOIt6xW2jaA" sourceBlock="_Kos_0I2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <lines id="_OQhbEI2CEeKjOIt6xW2jaA" sourcePort="_KqZB4I2CEeKjOIt6xW2jaA" targetPort="_LvHOQI2CEeKjOIt6xW2jaA" sourceBlock="_Kos_0I2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <lines id="_PEHbMI2CEeKjOIt6xW2jaA" sourcePort="_KquZEI2CEeKjOIt6xW2jaA" targetPort="_LvdMgI2CEeKjOIt6xW2jaA" sourceBlock="_Kos_0I2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <lines id="_Tinm0Y2CEeKjOIt6xW2jaA" sourcePort="_LwGFsY2CEeKjOIt6xW2jaA" targetPort="_TipcAY2CEeKjOIt6xW2jaA" sourceBlock="_KmwfEI2CEeKjOIt6xW2jaA" targetBlock="_KlUUoY2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
    <lines id="_Tinm0I2CEeKjOIt6xW2jaA" sourcePort="_LwRE0I2CEeKjOIt6xW2jaA" targetPort="_TipcAo2CEeKjOIt6xW2jaA" sourceBlock="_KnISgI2CEeKjOIt6xW2jaA" targetBlock="_KlUUoY2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
    <lines id="_Tinm042CEeKjOIt6xW2jaA" sourcePort="_TioN4I2CEeKjOIt6xW2jaA" targetPort="_LwQdwI2CEeKjOIt6xW2jaA" sourceBlock="_KlUUoo2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
    <lines id="_Tinm0o2CEeKjOIt6xW2jaA" sourcePort="_Tinm1I2CEeKjOIt6xW2jaA" targetPort="_LwGFsI2CEeKjOIt6xW2jaA" sourceBlock="_KlUUoo2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
    <lines id="_Tio08I2CEeKjOIt6xW2jaA" sourcePort="_Tir4QI2CEeKjOIt6xW2jaA" targetPort="_LwGswY2CEeKjOIt6xW2jaA" sourceBlock="_TioN4Y2CEeKjOIt6xW2jaA" targetBlock="_KmwfEI2CEeKjOIt6xW2jaA"/>
    <lines id="_TipcAI2CEeKjOIt6xW2jaA" sourcePort="_TisfUI2CEeKjOIt6xW2jaA" targetPort="_LwRr4Y2CEeKjOIt6xW2jaA" sourceBlock="_Tio08Y2CEeKjOIt6xW2jaA" targetBlock="_KnISgI2CEeKjOIt6xW2jaA"/>
    <blocks xsi:type="model:BusCreator" id="_KlUUoY2CEeKjOIt6xW2jaA" incomingLines="_Tinm0Y2CEeKjOIt6xW2jaA _Tinm0I2CEeKjOIt6xW2jaA" outgoingLines="_KlUUo42CEeKjOIt6xW2jaA">
      <parameters name="Position" value="[900, 500, 920, 620]"/>
      <outPorts id="_KlWJ0I2CEeKjOIt6xW2jaA"/>
      <inPorts id="_TipcAY2CEeKjOIt6xW2jaA"/>
      <inPorts id="_TipcAo2CEeKjOIt6xW2jaA"/>
    </blocks>
    <blocks xsi:type="model:BusSelector" id="_KlUUoo2CEeKjOIt6xW2jaA" incomingLines="_KlU7sI2CEeKjOIt6xW2jaA" outgoingLines="_Tinm042CEeKjOIt6xW2jaA _Tinm0o2CEeKjOIt6xW2jaA">
      <parameters name="Position" value="[1160, 500, 1180, 620]"/>
      <outPorts id="_Tinm1I2CEeKjOIt6xW2jaA"/>
      <outPorts id="_TioN4I2CEeKjOIt6xW2jaA"/>
      <inPorts id="_KlWJ0Y2CEeKjOIt6xW2jaA"/>
    </blocks>
    <blocks xsi:type="model:SubSystem" id="_KlWJ0o2CEeKjOIt6xW2jaA" name="communicationSwitch" incomingLines="_KlUUo42CEeKjOIt6xW2jaA" outgoingLines="_KlU7sI2CEeKjOIt6xW2jaA">
      <parameters name="System.Location" value="[559, 228, 1057, 528]"/>
      <parameters name="System.ModelBrowserWidth" value="200"/>
      <parameters name="Position" value="[980, 500, 1080, 620]"/>
      <outPorts id="_KlYmEI2CEeKjOIt6xW2jaA" name="Out" incomingLines="_KlWw4Y2CEeKjOIt6xW2jaA" dimensions="-1" type="Bus">
        <parameters name="Position" value="[425, 118, 455, 132]"/>
        <inPorts id="_KlcQcY2CEeKjOIt6xW2jaA" name="In1"/>
      </outPorts>
      <inPorts id="_KlX_AI2CEeKjOIt6xW2jaA" name="In" outgoingLines="_KlWw4o2CEeKjOIt6xW2jaA" dimensions="-1" type="Bus">
        <parameters name="Position" value="[100, 118, 130, 132]"/>
        <outPorts id="_Klc3gI2CEeKjOIt6xW2jaA" name="Out1"/>
      </inPorts>
      <lines id="_KlWw4o2CEeKjOIt6xW2jaA" sourcePort="_Klc3gI2CEeKjOIt6xW2jaA" targetPort="_KldekI2CEeKjOIt6xW2jaA" sourceBlock="_KlX_AI2CEeKjOIt6xW2jaA" targetBlock="_KlZNIY2CEeKjOIt6xW2jaA" bus="_KlUUoI2CEeKjOIt6xW2jaA"/>
      <lines id="_KlWw4Y2CEeKjOIt6xW2jaA" sourcePort="_KlcQcI2CEeKjOIt6xW2jaA" targetPort="_KlcQcY2CEeKjOIt6xW2jaA" sourceBlock="_KlZNII2CEeKjOIt6xW2jaA" targetBlock="_KlYmEI2CEeKjOIt6xW2jaA" bus="_KlUUoI2CEeKjOIt6xW2jaA"/>
      <lines id="_KlWw4I2CEeKjOIt6xW2jaA" sourcePort="_KlbCUI2CEeKjOIt6xW2jaA" targetPort="_KlbpYI2CEeKjOIt6xW2jaA" sourceBlock="_KlZNIY2CEeKjOIt6xW2jaA" targetBlock="_KlZNII2CEeKjOIt6xW2jaA" bus="_KlUUoI2CEeKjOIt6xW2jaA"/>
      <blocks xsi:type="model:UnitDelay" id="_KlZNII2CEeKjOIt6xW2jaA" name="Unit Delay" incomingLines="_KlWw4I2CEeKjOIt6xW2jaA" outgoingLines="_KlWw4Y2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[350, 108, 385, 142]"/>
        <outPorts id="_KlcQcI2CEeKjOIt6xW2jaA"/>
        <inPorts id="_KlbpYI2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:EmbeddedMatlabFunction" id="_KlZNIY2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_KlWw4o2CEeKjOIt6xW2jaA" outgoingLines="_KlWw4I2CEeKjOIt6xW2jaA" code="function outBus = BusImpl(inBus)&#xA;%#eml&#xA;eml.extrinsic('fieldnames','disp','setfield','fprintf');&#xA;&#xA;busSize = 1;&#xA;queueSize = 10*busSize; %length of queue&#xA;numShuttles = 0; %Define data type&#xA;numShuttles = numel(fieldnames(inBus)); %Shuttles connected to the bus&#xA;assert(numShuttles &lt;= 20) %Defines an upper bound for number of shuttles. &#xA;%Important for static memory allocation. &#xA;lookupTableSize = 200;&#xA;&#xA;&#xA;&#xA;NOT_ASSIGNED = -1;&#xA;&#xA;%We need persistent queues&#xA;persistent queue;&#xA;persistent lookupTable;&#xA;&#xA;%Initialize the queues&#xA;if isempty(queue)&#xA;    queue = repmat(emptyPacket(), numShuttles, queueSize);&#xA;end&#xA;&#xA;if isempty(lookupTable)&#xA;    lookupTable = repmat(NOT_ASSIGNED, lookupTableSize,1);&#xA;end&#xA;&#xA;%Clean outbus&#xA;outBus = inBus;&#xA;for i = 1:numShuttles&#xA;    outBus = setfield(outBus, createRailCabName(i), emptyBus(busSize));&#xA;end&#xA;&#xA;%Retrieve packets&#xA;for i = 1:numShuttles&#xA;    %Get current bus&#xA;    currentBus = getBusFromIndex(inBus, busSize, i);&#xA;    for j = 1:busSize&#xA;        %Read packet&#xA;        packet = getPacketFromBus(currentBus, j);&#xA;        &#xA;        %Check if new packet&#xA;        if isValid(packet, numShuttles)&#xA;             %Save sender bus element to lookup table&#xA;            if lookupTable(packet.from) == NOT_ASSIGNED&#xA;                lookupTable(packet.from) = i;&#xA;            end&#xA;            &#xA;            %Save packet in queue&#xA;            target = lookupTable(packet.to);&#xA;            %Destination unkown. Send to all unassigned.&#xA;            if target == NOT_ASSIGNED&#xA;                for k = 1:numShuttles&#xA;                    if(lookupTable(packet.from) ~= k)&#xA;                        queue(k,:) = enqueue(queue(k,:), packet); &#xA;                    end&#xA;                end                &#xA;            %Destination known&#xA;            else &#xA;                queue(target,:) = enqueue(queue(target,:), packet);&#xA;            end            &#xA;        end&#xA;    end&#xA;&#xA;end&#xA;&#xA;%Send packet from queue&#xA;for i = 1:numShuttles    &#xA;    currentBus = getBusFromIndex(outBus, busSize, i);&#xA;    for j = 1:busSize&#xA;        if ~isEmpty(queue(i,:))&#xA;            &#xA;            &#xA;            %Read last packet&#xA;            packet = front(queue(i,:));&#xA;            queue(i,:) = dequeue(queue(i,:)); &#xA;            &#xA;%            if packet.msg ~= 255 %No ACK&#xA;%                fprintf('Sending on port %u[%u/%u]: %s', i, j, busSize, toString(packet));&#xA;%            end            &#xA;            &#xA;            %Save packet to bus&#xA;            currentBus = setPacketToBus(currentBus, j, packet);&#xA;            &#xA;        else&#xA;            break;&#xA;        end&#xA;    end &#xA;    %Save bus&#xA;    outBus = setBusToIndex(outBus, i, currentBus);&#xA;end&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% BUS&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function name = createRailCabName(index) %#eml&#xA;%Create name for the railcab used on the bus&#xA;eml.extrinsic('sprintf');&#xA;name = sprintf('rc%d', index);&#xA;&#xA;function bus = getBusFromIndex(inBus, busSize, index) %eml&#xA;%Retrieve a PacketBus from the RailCaBbus&#xA;eml.extrinsic('getfield');&#xA;busName = createRailCabName(index);&#xA;bus = emptyBus(busSize);&#xA;bus = getfield(inBus, busName);&#xA;&#xA;function rcBus = setBusToIndex(rcBus, index, packetBus) %eml&#xA;%Save a PacketBus to RailCabBus&#xA;eml.extrinsic('setfield');&#xA;busName = createRailCabName(index);&#xA;rcBus = setfield(rcBus, busName, packetBus);&#xA;&#xA;function packet = getPacketFromBus(packetBus, index) %eml&#xA;%Retrieve a packet from the bus&#xA;packet = emptyPacket();&#xA;packet.from = packetBus.from(index);&#xA;packet.to = packetBus.to(index);&#xA;packet.msg = packetBus.msg(index);&#xA;packet.param = packetBus.param (index);&#xA;packet.pkgid = packetBus.pkgid(index);&#xA;packet.time = packetBus.time(index);&#xA;&#xA;function packetBus = setPacketToBus(packetBus, index, packet) %eml&#xA;%Save a packet to the bus&#xA;packetBus.from(index) = packet.from;&#xA;packetBus.to(index) = packet.to;&#xA;packetBus.msg(index) = packet.msg;&#xA;packetBus.param (index) = packet.param;&#xA;packetBus.pkgid(index) = packet.pkgid;&#xA;packetBus.time(index) = packet.time;&#xA;&#xA;function bus = emptyBus(size) %emp&#xA;%Create an empty bus&#xA;bus = struct('from', zeros(size,1,'uint8'),'to', zeros(size,1,'uint8'),'msg', zeros(size,1,'uint16'),'param', zeros(size,1,'double'),'pkgid', zeros(size,1,'uint32'), 'time', zeros(size,1,'double'));&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% PACKET&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;function packet = emptyPacket() %#eml&#xA;%Creates an empty packet&#xA;packet = struct('from', uint8(0),'to', uint8(0),'msg', uint16(0),'param', double(0.0),'pkgid', uint32(0), 'time', double(0));&#xA;&#xA;function valid = isValid(packet, numShuttles) %#eml&#xA;%Checks wether the given packet is valid and transported by the bus&#xA;eml.extrinsic('getfield');&#xA;valid = false;&#xA;if packet.to > 0 &amp;&amp; packet.to &lt;= numShuttles &#xA;    if packet.from > 0 &amp;&amp; packet.from &lt;= numShuttles&#xA;        valid = true;&#xA;    end&#xA;end&#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% QUEUE&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function queue = enqueue(queue, packet) %#eml&#xA;%Insert the packet at the end of the queue&#xA;eml.extrinsic('warning');&#xA;for i=1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;%No empty entry found&#xA;warning('RailCab:Bus','Bus: buffer overflow for outgoing queue to %d', queue(1).to);&#xA;&#xA;function queue = dequeue(queue) %#eml&#xA;%Removes the first packet of the queue&#xA;for i = 1:length(queue)-1&#xA;    queue(i) = queue(i+1);&#xA;    if queue(i).to == 0&#xA;        %end reached&#xA;        return;&#xA;    end&#xA;end&#xA;queue(length(queue)) = emptyPacket();&#xA;&#xA;function packet = front(queue) %#eml&#xA;%Returns the first element from the queue&#xA;packet = queue(1);&#xA;&#xA;function empty = isEmpty(queue) %#eml&#xA;%Checks whether the queue is empty or not&#xA;packet = queue(1);&#xA;if packet.to == 0&#xA;    empty = true;&#xA;else&#xA;    empty = false;&#xA;end">
        <parameters name="System.Location" value="[257, 457, 812, 717]"/>
        <parameters name="System.ModelBrowserWidth" value="200"/>
        <parameters name="Position" value="[200, 89, 310, 161]"/>
        <outPorts id="_KlbCUI2CEeKjOIt6xW2jaA" name="outBus" dimensions="-1" type="Bus">
          <parameters name="Position" value="[460, 101, 480, 119]"/>
          <inPorts id="_Klgh4I2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_KldekI2CEeKjOIt6xW2jaA" name="inBus" dimensions="-1" type="Bus">
          <parameters name="Position" value="[20, 101, 40, 119]"/>
          <outPorts id="_KlhI8I2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
      </blocks>
    </blocks>
    <blocks xsi:type="model:LibraryReference" id="_KmwfEI2CEeKjOIt6xW2jaA" name="robot1" incomingLines="_LwH64I2CEeKjOIt6xW2jaA _L0s44I2CEeKjOIt6xW2jaA _L0xKUI2CEeKjOIt6xW2jaA _L0y_gI2CEeKjOIt6xW2jaA _L01bwI2CEeKjOIt6xW2jaA _L03Q8I2CEeKjOIt6xW2jaA _L05tMI2CEeKjOIt6xW2jaA _Tinm0o2CEeKjOIt6xW2jaA _Tio08I2CEeKjOIt6xW2jaA" outgoingLines="_Tinm0Y2CEeKjOIt6xW2jaA" sourceBlock="_KmxtMI2CEeKjOIt6xW2jaA">
      <parameters name="Position" value="[200, 100, 450, 800]"/>
    </blocks>
    <blocks xsi:type="model:LibraryReference" id="_KnISgI2CEeKjOIt6xW2jaA" name="robot2" incomingLines="_LwS6AI2CEeKjOIt6xW2jaA _MDlCYI2CEeKjOIt6xW2jaA _MeJegI2CEeKjOIt6xW2jaA _M-MQgI2CEeKjOIt6xW2jaA _NkcYMI2CEeKjOIt6xW2jaA _OQhbEI2CEeKjOIt6xW2jaA _PEHbMI2CEeKjOIt6xW2jaA _Tinm042CEeKjOIt6xW2jaA _TipcAI2CEeKjOIt6xW2jaA" outgoingLines="_Tinm0I2CEeKjOIt6xW2jaA" sourceBlock="_KnI5kI2CEeKjOIt6xW2jaA">
      <parameters name="Position" value="[1500, 100, 1750, 800]"/>
    </blocks>
    <blocks xsi:type="model:LibraryReference" id="_KopVcI2CEeKjOIt6xW2jaA" name="instance" outgoingLines="_L0s44I2CEeKjOIt6xW2jaA _L0xKUI2CEeKjOIt6xW2jaA _L0y_gI2CEeKjOIt6xW2jaA _L01bwI2CEeKjOIt6xW2jaA _L03Q8I2CEeKjOIt6xW2jaA _L05tMI2CEeKjOIt6xW2jaA" sourceBlock="_KkToAI2CEeKjOIt6xW2jaA">
      <parameters name="Position" value="[200, 860, 450, 1560]"/>
    </blocks>
    <blocks xsi:type="model:LibraryReference" id="_Kos_0I2CEeKjOIt6xW2jaA" name="instance2" outgoingLines="_MDlCYI2CEeKjOIt6xW2jaA _MeJegI2CEeKjOIt6xW2jaA _M-MQgI2CEeKjOIt6xW2jaA _NkcYMI2CEeKjOIt6xW2jaA _OQhbEI2CEeKjOIt6xW2jaA _PEHbMI2CEeKjOIt6xW2jaA" sourceBlock="_KkcK4I2CEeKjOIt6xW2jaA">
      <parameters name="Position" value="[1500, 860, 1750, 1560]"/>
    </blocks>
    <blocks xsi:type="model:Constant" id="_LwHT0I2CEeKjOIt6xW2jaA" name="robot1_BAT_Information_Other_Robot_net_address" outgoingLines="_LwH64I2CEeKjOIt6xW2jaA" type="uint8">
      <parameters name="Position" value="[100, 170, 130, 200]"/>
      <outPorts id="_LwIh8Y2CEeKjOIt6xW2jaA" type="uint8"/>
    </blocks>
    <blocks xsi:type="model:Constant" id="_LwSS8I2CEeKjOIt6xW2jaA" name="robot2_BAT_Information_Other_Robot_net_address" outgoingLines="_LwS6AI2CEeKjOIt6xW2jaA" value="2" type="uint8">
      <parameters name="Position" value="[1400, 170, 1430, 200]"/>
      <outPorts id="_LwThEo2CEeKjOIt6xW2jaA" type="uint8"/>
    </blocks>
    <blocks xsi:type="model:Constant" id="_TioN4Y2CEeKjOIt6xW2jaA" name="robot1_BAT_Information_Other_Robot_send_receiver_net_address" outgoingLines="_Tio08I2CEeKjOIt6xW2jaA" value="2" type="uint8">
      <parameters name="Position" value="[100, 220, 130, 250]"/>
      <outPorts id="_Tir4QI2CEeKjOIt6xW2jaA" type="uint8"/>
    </blocks>
    <blocks xsi:type="model:Constant" id="_Tio08Y2CEeKjOIt6xW2jaA" name="robot2_BAT_Information_Other_Robot_send_receiver_net_address" outgoingLines="_TipcAI2CEeKjOIt6xW2jaA" type="uint8">
      <parameters name="Position" value="[1400, 220, 1430, 250]"/>
      <outPorts id="_TisfUI2CEeKjOIt6xW2jaA" type="uint8"/>
    </blocks>
  </models>
  <libraries id="_KcWl4Y2CEeKjOIt6xW2jaA" name="AtomicLibrary">
    <blocks xsi:type="model:SubSystem" id="_KkToAI2CEeKjOIt6xW2jaA" name="Environment1">
      <parameters name="Position" value="[20, 20, 270, 720]"/>
      <outPorts id="_Ko83cI2CEeKjOIt6xW2jaA" name="Pos_Y" type="boolean">
        <parameters name="Position" value="[700, 40, 730, 70]"/>
        <inPorts id="_Ko-soI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KpC-EI2CEeKjOIt6xW2jaA" name="isMaster1" type="boolean">
        <parameters name="Position" value="[700, 150, 730, 180]"/>
        <inPorts id="_KpEMMI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KpIdoI2CEeKjOIt6xW2jaA" name="Pos_X" type="boolean">
        <parameters name="Position" value="[700, 260, 730, 290]"/>
        <inPorts id="_KpJrwI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KpOkQI2CEeKjOIt6xW2jaA" name="Time" type="boolean">
        <parameters name="Position" value="[700, 370, 730, 400]"/>
        <inPorts id="_KpPyYI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KpTcwI2CEeKjOIt6xW2jaA" name="ObjectRecognition" type="boolean">
        <parameters name="Position" value="[700, 480, 730, 510]"/>
        <inPorts id="_KpUq4I2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KpYVQI2CEeKjOIt6xW2jaA" name="Pos_Z" type="boolean">
        <parameters name="Position" value="[700, 590, 730, 620]"/>
        <inPorts id="_KpZjYI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KpdNwI2CEeKjOIt6xW2jaA" name="Velocity" type="boolean">
        <parameters name="Position" value="[700, 700, 730, 730]"/>
        <inPorts id="_Kpeb4I2CEeKjOIt6xW2jaA"/>
      </outPorts>
    </blocks>
    <blocks xsi:type="model:SubSystem" id="_KkcK4I2CEeKjOIt6xW2jaA" name="Environment2">
      <parameters name="Position" value="[330, 20, 580, 720]"/>
      <outPorts id="_KpiGQI2CEeKjOIt6xW2jaA" name="Pos_Y" type="boolean">
        <parameters name="Position" value="[700, 40, 730, 70]"/>
        <inPorts id="_KpjUYI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KqJxUI2CEeKjOIt6xW2jaA" name="isMaster2" type="boolean">
        <parameters name="Position" value="[700, 150, 730, 180]"/>
        <inPorts id="_KqOCwI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KqZB4I2CEeKjOIt6xW2jaA" name="Time" type="boolean">
        <parameters name="Position" value="[700, 260, 730, 290]"/>
        <inPorts id="_KqbeII2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KqgWoI2CEeKjOIt6xW2jaA" name="Pos_X" type="boolean">
        <parameters name="Position" value="[700, 370, 730, 400]"/>
        <inPorts id="_KqhkwI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KqlPII2CEeKjOIt6xW2jaA" name="Pos_Z" type="boolean">
        <parameters name="Position" value="[700, 480, 730, 510]"/>
        <inPorts id="_Kql2MI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KqpgkI2CEeKjOIt6xW2jaA" name="ObjectRecognition" type="boolean">
        <parameters name="Position" value="[700, 590, 730, 620]"/>
        <inPorts id="_KqqusI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_KquZEI2CEeKjOIt6xW2jaA" name="Velocity" type="boolean">
        <parameters name="Position" value="[700, 700, 730, 730]"/>
        <inPorts id="_KqvnMI2CEeKjOIt6xW2jaA"/>
      </outPorts>
    </blocks>
    <blocks xsi:type="model:SubSystem" id="_KkspkI2CEeKjOIt6xW2jaA" name="MainControl">
      <parameters name="Position" value="[640, 20, 890, 720]"/>
      <outPorts id="_KudplI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_send" incomingLines="_Kudpk42CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[860, 720, 890, 750]"/>
        <inPorts id="_KuvWYY2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_K0Ty4Y2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControl_send" incomingLines="_K0Ty4I2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[860, 1180, 890, 1210]"/>
        <inPorts id="_K0mt0I2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <outPorts id="_K6WJco2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessing_send" incomingLines="_K6WJcY2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[860, 1640, 890, 1670]"/>
        <inPorts id="_K6odUI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <inPorts id="_KkuewI2CEeKjOIt6xW2jaA" name="clockSignal" outgoingLines="_KkuewY2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 30, 220, 60]"/>
        <outPorts id="_KkvF0I2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_KrLsEY2CEeKjOIt6xW2jaA" name="isMaster" outgoingLines="_KrOIUI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[60, 90, 90, 120]"/>
        <outPorts id="_KrP9gI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_KueQoI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_recv" outgoingLines="_Kudpko2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 720, 220, 750]"/>
        <outPorts id="_KuvWYI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_KufewI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_net_address" outgoingLines="_KugF0Y2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 780, 220, 810]"/>
        <outPorts id="_Ku8KsI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_KugF0I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_receiver_net_address" outgoingLines="_Kugs4I2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 840, 220, 870]"/>
        <outPorts id="_Ku8xwI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_K0UZ8I2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControl_recv" outgoingLines="_K0TL0o2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 1180, 220, 1210]"/>
        <outPorts id="_K0mGwI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_K0WPII2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControl_net_address" outgoingLines="_K0YEUI2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 1240, 220, 1270]"/>
        <outPorts id="_K00JMo2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_K0XdQI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControl_receiver_net_address" outgoingLines="_K0YEUY2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 1300, 220, 1330]"/>
        <outPorts id="_K00wQI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_K6WwgI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessing_recv" outgoingLines="_K6WJcI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 1640, 220, 1670]"/>
        <outPorts id="_K6n2QI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_K6X-oY2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessing_net_address" outgoingLines="_K6ZMwI2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 1700, 220, 1730]"/>
        <outPorts id="_K66KII2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_K6YlsI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessing_receiver_net_address" outgoingLines="_K6ZMwY2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 1760, 220, 1790]"/>
        <outPorts id="_K66xMI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <lines id="_KkuewY2CEeKjOIt6xW2jaA" sourcePort="_KkvF0I2CEeKjOIt6xW2jaA" targetPort="_Kkuewo2CEeKjOIt6xW2jaA" sourceBlock="_KkuewI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_KrOIUI2CEeKjOIt6xW2jaA" sourcePort="_KrP9gI2CEeKjOIt6xW2jaA" targetPort="_KrQkkY2CEeKjOIt6xW2jaA" sourceBlock="_KrLsEY2CEeKjOIt6xW2jaA" targetBlock="_KrNhQI2CEeKjOIt6xW2jaA"/>
      <lines id="_KrLsEI2CEeKjOIt6xW2jaA" sourcePort="_KrQkkI2CEeKjOIt6xW2jaA" targetPort="_KrJ24I2CEeKjOIt6xW2jaA" sourceBlock="_KrNhQI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_Kudpk42CEeKjOIt6xW2jaA" sourcePort="_KuthMI2CEeKjOIt6xW2jaA" targetPort="_KuvWYY2CEeKjOIt6xW2jaA" sourceBlock="_Kue3sI2CEeKjOIt6xW2jaA" targetBlock="_KudplI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_Kudpko2CEeKjOIt6xW2jaA" sourcePort="_KuvWYI2CEeKjOIt6xW2jaA" targetPort="_KurE8I2CEeKjOIt6xW2jaA" sourceBlock="_KueQoI2CEeKjOIt6xW2jaA" targetBlock="_Kue3sI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_KuXi8Y2CEeKjOIt6xW2jaA" sourcePort="_KubNUI2CEeKjOIt6xW2jaA" targetPort="_Kugs4Y2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_Kue3sI2CEeKjOIt6xW2jaA"/>
      <lines id="_KuYKAI2CEeKjOIt6xW2jaA" sourcePort="_KuhT8I2CEeKjOIt6xW2jaA" targetPort="_KuZYIY2CEeKjOIt6xW2jaA" sourceBlock="_Kue3sI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_KuYKAY2CEeKjOIt6xW2jaA" sourcePort="_Kuh7AI2CEeKjOIt6xW2jaA" targetPort="_KuZ_MI2CEeKjOIt6xW2jaA" sourceBlock="_Kue3sI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_KuYxEI2CEeKjOIt6xW2jaA" sourcePort="_KubNUY2CEeKjOIt6xW2jaA" targetPort="_KuiiEI2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_Kue3sI2CEeKjOIt6xW2jaA"/>
      <lines id="_KuYxEY2CEeKjOIt6xW2jaA" sourcePort="_Kub0YI2CEeKjOIt6xW2jaA" targetPort="_KujwMI2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_Kue3sI2CEeKjOIt6xW2jaA"/>
      <lines id="_KuYxEo2CEeKjOIt6xW2jaA" sourcePort="_KucbcI2CEeKjOIt6xW2jaA" targetPort="_KukXQI2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_Kue3sI2CEeKjOIt6xW2jaA"/>
      <lines id="_KuYxE42CEeKjOIt6xW2jaA" sourcePort="_Kuk-UI2CEeKjOIt6xW2jaA" targetPort="_KuZ_MY2CEeKjOIt6xW2jaA" sourceBlock="_Kue3sI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_KuZYII2CEeKjOIt6xW2jaA" sourcePort="_KunakI2CEeKjOIt6xW2jaA" targetPort="_KuamQI2CEeKjOIt6xW2jaA" sourceBlock="_Kue3sI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_KugF0Y2CEeKjOIt6xW2jaA" sourcePort="_Ku8KsI2CEeKjOIt6xW2jaA" targetPort="_Kuv9cI2CEeKjOIt6xW2jaA" sourceBlock="_KufewI2CEeKjOIt6xW2jaA" targetBlock="_Kue3sI2CEeKjOIt6xW2jaA"/>
      <lines id="_Kugs4I2CEeKjOIt6xW2jaA" sourcePort="_Ku8xwI2CEeKjOIt6xW2jaA" targetPort="_KuwkgI2CEeKjOIt6xW2jaA" sourceBlock="_KugF0I2CEeKjOIt6xW2jaA" targetBlock="_Kue3sI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0Ty4I2CEeKjOIt6xW2jaA" sourcePort="_K0jqgI2CEeKjOIt6xW2jaA" targetPort="_K0mt0I2CEeKjOIt6xW2jaA" sourceBlock="_K0VoEI2CEeKjOIt6xW2jaA" targetBlock="_K0Ty4Y2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_K0TL0o2CEeKjOIt6xW2jaA" sourcePort="_K0mGwI2CEeKjOIt6xW2jaA" targetPort="_K0icYI2CEeKjOIt6xW2jaA" sourceBlock="_K0UZ8I2CEeKjOIt6xW2jaA" targetBlock="_K0VoEI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_K0MeII2CEeKjOIt6xW2jaA" sourcePort="_K0PhcI2CEeKjOIt6xW2jaA" targetPort="_K0ZScI2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K0VoEI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0MeIY2CEeKjOIt6xW2jaA" sourcePort="_K0agkI2CEeKjOIt6xW2jaA" targetPort="_K0NsQY2CEeKjOIt6xW2jaA" sourceBlock="_K0VoEI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0NFMI2CEeKjOIt6xW2jaA" sourcePort="_K0cVwI2CEeKjOIt6xW2jaA" targetPort="_K0OTUI2CEeKjOIt6xW2jaA" sourceBlock="_K0VoEI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0NFMY2CEeKjOIt6xW2jaA" sourcePort="_K0QIgI2CEeKjOIt6xW2jaA" targetPort="_K0dj4I2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K0VoEI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0NFMo2CEeKjOIt6xW2jaA" sourcePort="_K0QvkI2CEeKjOIt6xW2jaA" targetPort="_K0eK8I2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K0VoEI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0NFM42CEeKjOIt6xW2jaA" sourcePort="_K0RWoI2CEeKjOIt6xW2jaA" targetPort="_K0fZEI2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K0VoEI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0NFNI2CEeKjOIt6xW2jaA" sourcePort="_K0gAII2CEeKjOIt6xW2jaA" targetPort="_K0O6YI2CEeKjOIt6xW2jaA" sourceBlock="_K0VoEI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0NsQI2CEeKjOIt6xW2jaA" sourcePort="_K0gnMI2CEeKjOIt6xW2jaA" targetPort="_K0O6YY2CEeKjOIt6xW2jaA" sourceBlock="_K0VoEI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0YEUI2CEeKjOIt6xW2jaA" sourcePort="_K00JMo2CEeKjOIt6xW2jaA" targetPort="_K0n78I2CEeKjOIt6xW2jaA" sourceBlock="_K0WPII2CEeKjOIt6xW2jaA" targetBlock="_K0VoEI2CEeKjOIt6xW2jaA"/>
      <lines id="_K0YEUY2CEeKjOIt6xW2jaA" sourcePort="_K00wQI2CEeKjOIt6xW2jaA" targetPort="_K0ojAI2CEeKjOIt6xW2jaA" sourceBlock="_K0XdQI2CEeKjOIt6xW2jaA" targetBlock="_K0VoEI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6WJcY2CEeKjOIt6xW2jaA" sourcePort="_K6ky8I2CEeKjOIt6xW2jaA" targetPort="_K6odUI2CEeKjOIt6xW2jaA" sourceBlock="_K6X-oI2CEeKjOIt6xW2jaA" targetBlock="_K6WJco2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_K6WJcI2CEeKjOIt6xW2jaA" sourcePort="_K6n2QI2CEeKjOIt6xW2jaA" targetPort="_K6iWsY2CEeKjOIt6xW2jaA" sourceBlock="_K6WwgI2CEeKjOIt6xW2jaA" targetBlock="_K6X-oI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_K6O0sI2CEeKjOIt6xW2jaA" sourcePort="_K6TGII2CEeKjOIt6xW2jaA" targetPort="_K6Zz0I2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K6X-oI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6O0sY2CEeKjOIt6xW2jaA" sourcePort="_K6aa4I2CEeKjOIt6xW2jaA" targetPort="_K6QC0o2CEeKjOIt6xW2jaA" sourceBlock="_K6X-oI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6PbwI2CEeKjOIt6xW2jaA" sourcePort="_K6bpAI2CEeKjOIt6xW2jaA" targetPort="_K6Qp4I2CEeKjOIt6xW2jaA" sourceBlock="_K6X-oI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6PbwY2CEeKjOIt6xW2jaA" sourcePort="_K6TtMI2CEeKjOIt6xW2jaA" targetPort="_K6cQEI2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K6X-oI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6Pbwo2CEeKjOIt6xW2jaA" sourcePort="_K6UUQI2CEeKjOIt6xW2jaA" targetPort="_K6c3II2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K6X-oI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6Pbw42CEeKjOIt6xW2jaA" sourcePort="_K6UUQY2CEeKjOIt6xW2jaA" targetPort="_K6eFQI2CEeKjOIt6xW2jaA" sourceBlock="_KktQoI2CEeKjOIt6xW2jaA" targetBlock="_K6X-oI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6QC0I2CEeKjOIt6xW2jaA" sourcePort="_K6esUI2CEeKjOIt6xW2jaA" targetPort="_K6RQ8I2CEeKjOIt6xW2jaA" sourceBlock="_K6X-oI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6QC0Y2CEeKjOIt6xW2jaA" sourcePort="_K6fTYI2CEeKjOIt6xW2jaA" targetPort="_K6R4AI2CEeKjOIt6xW2jaA" sourceBlock="_K6X-oI2CEeKjOIt6xW2jaA" targetBlock="_KktQoI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6ZMwI2CEeKjOIt6xW2jaA" sourcePort="_K66KII2CEeKjOIt6xW2jaA" targetPort="_K6qSgI2CEeKjOIt6xW2jaA" sourceBlock="_K6X-oY2CEeKjOIt6xW2jaA" targetBlock="_K6X-oI2CEeKjOIt6xW2jaA"/>
      <lines id="_K6ZMwY2CEeKjOIt6xW2jaA" sourcePort="_K66xMI2CEeKjOIt6xW2jaA" targetPort="_K6rgoI2CEeKjOIt6xW2jaA" sourceBlock="_K6YlsI2CEeKjOIt6xW2jaA" targetBlock="_K6X-oI2CEeKjOIt6xW2jaA"/>
      <blocks xsi:type="model:ChartBlock" id="_KktQoI2CEeKjOIt6xW2jaA" name="MainControl_Statechart" incomingLines="_KkuewY2CEeKjOIt6xW2jaA _KrLsEI2CEeKjOIt6xW2jaA _KuYKAI2CEeKjOIt6xW2jaA _KuYKAY2CEeKjOIt6xW2jaA _KuYxE42CEeKjOIt6xW2jaA _KuZYII2CEeKjOIt6xW2jaA _K0MeIY2CEeKjOIt6xW2jaA _K0NFMI2CEeKjOIt6xW2jaA _K0NFNI2CEeKjOIt6xW2jaA _K0NsQI2CEeKjOIt6xW2jaA _K6O0sY2CEeKjOIt6xW2jaA _K6PbwI2CEeKjOIt6xW2jaA _K6QC0I2CEeKjOIt6xW2jaA _K6QC0Y2CEeKjOIt6xW2jaA" outgoingLines="_KuXi8Y2CEeKjOIt6xW2jaA _KuYxEI2CEeKjOIt6xW2jaA _KuYxEY2CEeKjOIt6xW2jaA _KuYxEo2CEeKjOIt6xW2jaA _K0MeII2CEeKjOIt6xW2jaA _K0NFMY2CEeKjOIt6xW2jaA _K0NFMo2CEeKjOIt6xW2jaA _K0NFM42CEeKjOIt6xW2jaA _K6O0sI2CEeKjOIt6xW2jaA _K6PbwY2CEeKjOIt6xW2jaA _K6Pbwo2CEeKjOIt6xW2jaA _K6Pbw42CEeKjOIt6xW2jaA" chart="_KdAGII2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[250, 30, 800, 660]"/>
        <outPorts id="_KubNUI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotReadOut" type="uint8">
          <inPorts id="_Kup20I2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_KubNUY2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamReadOut" type="double">
          <inPorts id="_Kup20Y2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_Kub0YI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotWriteOut" type="uint8">
          <inPorts id="_Kuqd4I2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_KucbcI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamWriteOut" type="double">
          <inPorts id="_Kuqd4Y2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K0PhcI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlReadOut" type="uint8">
          <inPorts id="_K0h1UY2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K0QIgI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamReadOut" type="double">
          <inPorts id="_K0h1Uo2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K0QvkI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlWriteOut" type="uint8">
          <inPorts id="_K0h1U42CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K0RWoI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamWriteOut" type="double">
          <inPorts id="_K0h1VI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K6TGII2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingReadOut" type="uint8">
          <inPorts id="_K6hIko2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K6TtMI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamReadOut" type="double">
          <inPorts id="_K6hvoI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K6UUQI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingWriteOut" type="uint8">
          <inPorts id="_K6hvoY2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K6UUQY2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamWriteOut" type="double">
          <inPorts id="_K6iWsI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_Kkuewo2CEeKjOIt6xW2jaA" name="clockSignal">
          <outPorts id="_KkvF0Y2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KrJ24I2CEeKjOIt6xW2jaA" name="isMaster" type="boolean">
          <outPorts id="_KrP9gY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KuZYIY2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotReadIn" type="uint8">
          <outPorts id="_KuoosI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KuZ_MI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamReadIn" type="double">
          <outPorts id="_KuoosY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KuZ_MY2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotWriteIn" type="uint8">
          <outPorts id="_KupPwI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KuamQI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamWriteIn" type="double">
          <outPorts id="_KupPwY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K0NsQY2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlReadIn" type="uint8">
          <outPorts id="_K0hOQI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K0OTUI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamReadIn" type="double">
          <outPorts id="_K0hOQY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K0O6YI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlWriteIn" type="uint8">
          <outPorts id="_K0hOQo2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K0O6YY2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamWriteIn" type="double">
          <outPorts id="_K0h1UI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K6QC0o2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingReadIn" type="uint8">
          <outPorts id="_K6ghgI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K6Qp4I2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamReadIn" type="double">
          <outPorts id="_K6ghgY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K6RQ8I2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingWriteIn" type="uint8">
          <outPorts id="_K6hIkI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K6R4AI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamWriteIn" type="double">
          <outPorts id="_K6hIkY2CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:ZeroOrderHold" id="_KrNhQI2CEeKjOIt6xW2jaA" name="isMaster_ZeroOrderHold" incomingLines="_KrOIUI2CEeKjOIt6xW2jaA" outgoingLines="_KrLsEI2CEeKjOIt6xW2jaA" sampleTime="0.0010">
        <parameters name="Position" value="[160, 90, 190, 120]"/>
        <outPorts id="_KrQkkI2CEeKjOIt6xW2jaA">
          <inPorts id="_KrQkko2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_KrQkkY2CEeKjOIt6xW2jaA">
          <outPorts id="_KrQkk42CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:SubSystem" id="_Kue3sI2CEeKjOIt6xW2jaA" name="Link Layer BAT_Information_Other_Robot" incomingLines="_KuXi8Y2CEeKjOIt6xW2jaA _KuYxEI2CEeKjOIt6xW2jaA _KuYxEY2CEeKjOIt6xW2jaA _KuYxEo2CEeKjOIt6xW2jaA _Kudpko2CEeKjOIt6xW2jaA _KugF0Y2CEeKjOIt6xW2jaA _Kugs4I2CEeKjOIt6xW2jaA" outgoingLines="_KuYKAI2CEeKjOIt6xW2jaA _KuYKAY2CEeKjOIt6xW2jaA _KuYxE42CEeKjOIt6xW2jaA _KuZYII2CEeKjOIt6xW2jaA _Kudpk42CEeKjOIt6xW2jaA">
        <parameters name="System.Location" value="[1284, 164, 2556, 887]"/>
        <parameters name="Position" value="[250, 720, 800, 1120]"/>
        <outPorts id="_KuthMI2CEeKjOIt6xW2jaA" name="port_out" incomingLines="_KudpkY2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[960, 143, 990, 157]"/>
          <inPorts id="_KuuvUI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_KuhT8I2CEeKjOIt6xW2jaA" name="write_event_queue_in" incomingLines="_Ku6Vgo2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[1245, 543, 1275, 557]"/>
          <inPorts id="_Ku_OAI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_Kuh7AI2CEeKjOIt6xW2jaA" name="write_event_param_queue_in" incomingLines="_Ku35Qo2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[1245, 623, 1275, 637]"/>
          <inPorts id="_Ku_1EI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_Kuk-UI2CEeKjOIt6xW2jaA" name="write_event_queue_out" incomingLines="_Ku5uco2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[495, 693, 525, 707]"/>
          <inPorts id="_KvC4YI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_KunakI2CEeKjOIt6xW2jaA" name="write_event_param_queue_out" incomingLines="_Ku68kY2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[495, 748, 525, 762]"/>
          <inPorts id="_KvDfcI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_KurE8I2CEeKjOIt6xW2jaA" name="port_in" outgoingLines="_KudpkI2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[55, 148, 85, 162]"/>
          <outPorts id="_KusTEI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_Kuv9cI2CEeKjOIt6xW2jaA" name="net_address" outgoingLines="_Ku6VgI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 263, 265, 277]"/>
          <outPorts id="_KvLbQI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_KuwkgI2CEeKjOIt6xW2jaA" name="receiver_net_address" outgoingLines="_Ku2rII2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 298, 265, 312]"/>
          <outPorts id="_KvMCUI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_Kugs4Y2CEeKjOIt6xW2jaA" name="read_event_queue_in" outgoingLines="_Ku4gUI2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[780, 673, 810, 687]"/>
          <outPorts id="_Ku9_4I2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_KuiiEI2CEeKjOIt6xW2jaA" name="read_event_param_queue_in" outgoingLines="_Ku2EEo2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[780, 723, 810, 737]"/>
          <outPorts id="_KvAcII2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_KujwMI2CEeKjOIt6xW2jaA" name="read_event_queue_out" outgoingLines="_Ku2rIo2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[55, 638, 85, 652]"/>
          <outPorts id="_KvBqQI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_KukXQI2CEeKjOIt6xW2jaA" name="read_event_param_queue_out" outgoingLines="_Ku3SMo2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[55, 728, 85, 742]"/>
          <outPorts id="_KvCRUI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <lines id="_KudpkI2CEeKjOIt6xW2jaA" sourcePort="_KusTEI2CEeKjOIt6xW2jaA" targetPort="_Kus6II2CEeKjOIt6xW2jaA" sourceBlock="_KurE8I2CEeKjOIt6xW2jaA" targetBlock="_KursAI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_KudpkY2CEeKjOIt6xW2jaA" sourcePort="_KuuIQY2CEeKjOIt6xW2jaA" targetPort="_KuuvUI2CEeKjOIt6xW2jaA" sourceBlock="_KuuIQI2CEeKjOIt6xW2jaA" targetBlock="_KuthMI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku1dAI2CEeKjOIt6xW2jaA" sourcePort="_KvUlMI2CEeKjOIt6xW2jaA" targetPort="_KvI_AY2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuuIQI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku1dAY2CEeKjOIt6xW2jaA" sourcePort="_KvY2oI2CEeKjOIt6xW2jaA" targetPort="_Kv4l4I2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuzAwY2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku1dAo2CEeKjOIt6xW2jaA" sourcePort="_KwBv0I2CEeKjOIt6xW2jaA" targetPort="_KvOekI2CEeKjOIt6xW2jaA" sourceBlock="_Kuzn0I2CEeKjOIt6xW2jaA" targetBlock="_KuxyoI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2EEI2CEeKjOIt6xW2jaA" sourcePort="_KvYPkI2CEeKjOIt6xW2jaA" targetPort="_Kv3XwI2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuzAwY2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2EEY2CEeKjOIt6xW2jaA" sourcePort="_KvFUoY2CEeKjOIt6xW2jaA" targetPort="_KveWMI2CEeKjOIt6xW2jaA" sourceBlock="_KursAI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2EEo2CEeKjOIt6xW2jaA" sourcePort="_KvAcII2CEeKjOIt6xW2jaA" targetPort="_Kv8QQI2CEeKjOIt6xW2jaA" sourceBlock="_KuiiEI2CEeKjOIt6xW2jaA" targetBlock="_KuzAwY2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2EE42CEeKjOIt6xW2jaA" sourcePort="_Kv2JoI2CEeKjOIt6xW2jaA" targetPort="_Kvx4MI2CEeKjOIt6xW2jaA" sourceBlock="_KuzAwY2CEeKjOIt6xW2jaA" targetBlock="_KuzAwI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2rII2CEeKjOIt6xW2jaA" sourcePort="_KvMCUI2CEeKjOIt6xW2jaA" targetPort="_KviAkI2CEeKjOIt6xW2jaA" sourceBlock="_KuwkgI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2rIY2CEeKjOIt6xW2jaA" sourcePort="_Kv07gI2CEeKjOIt6xW2jaA" targetPort="_Kvvb8I2CEeKjOIt6xW2jaA" sourceBlock="_KuzAwY2CEeKjOIt6xW2jaA" targetBlock="_KuyZsY2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2rIo2CEeKjOIt6xW2jaA" sourcePort="_KvBqQI2CEeKjOIt6xW2jaA" targetPort="_KwGBQI2CEeKjOIt6xW2jaA" sourceBlock="_KujwMI2CEeKjOIt6xW2jaA" targetBlock="_Kuzn0I2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku2rI42CEeKjOIt6xW2jaA" sourcePort="_KvZdsI2CEeKjOIt6xW2jaA" targetPort="_Kv50AI2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuzAwY2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku3SMI2CEeKjOIt6xW2jaA" sourcePort="_KwAhsI2CEeKjOIt6xW2jaA" targetPort="_KvinoI2CEeKjOIt6xW2jaA" sourceBlock="_Kuzn0I2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku3SMY2CEeKjOIt6xW2jaA" sourcePort="_KvFUoI2CEeKjOIt6xW2jaA" targetPort="_KvdIEI2CEeKjOIt6xW2jaA" sourceBlock="_KursAI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku3SMo2CEeKjOIt6xW2jaA" sourcePort="_KvCRUI2CEeKjOIt6xW2jaA" targetPort="_KwHPYI2CEeKjOIt6xW2jaA" sourceBlock="_KukXQI2CEeKjOIt6xW2jaA" targetBlock="_Kuzn0I2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku35QI2CEeKjOIt6xW2jaA" sourcePort="_KwC98I2CEeKjOIt6xW2jaA" targetPort="_KvQ60I2CEeKjOIt6xW2jaA" sourceBlock="_Kuzn0I2CEeKjOIt6xW2jaA" targetBlock="_KuxyoY2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku35QY2CEeKjOIt6xW2jaA" sourcePort="_KvF7sY2CEeKjOIt6xW2jaA" targetPort="_KvfkUI2CEeKjOIt6xW2jaA" sourceBlock="_KursAI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku35Qo2CEeKjOIt6xW2jaA" sourcePort="_KvuN0I2CEeKjOIt6xW2jaA" targetPort="_Ku_1EI2CEeKjOIt6xW2jaA" sourceBlock="_KuyZsY2CEeKjOIt6xW2jaA" targetBlock="_Kuh7AI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku4gUI2CEeKjOIt6xW2jaA" sourcePort="_Ku9_4I2CEeKjOIt6xW2jaA" targetPort="_Kv6bEI2CEeKjOIt6xW2jaA" sourceBlock="_Kugs4Y2CEeKjOIt6xW2jaA" targetBlock="_KuzAwY2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku4gUY2CEeKjOIt6xW2jaA" sourcePort="_KvF7sI2CEeKjOIt6xW2jaA" targetPort="_Kve9QI2CEeKjOIt6xW2jaA" sourceBlock="_KursAI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5HYI2CEeKjOIt6xW2jaA" sourcePort="_KvT-II2CEeKjOIt6xW2jaA" targetPort="_KvI_AI2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuuIQI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5HYY2CEeKjOIt6xW2jaA" sourcePort="_KvGiwI2CEeKjOIt6xW2jaA" targetPort="_KvgLYI2CEeKjOIt6xW2jaA" sourceBlock="_KursAI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5HYo2CEeKjOIt6xW2jaA" sourcePort="_KvzGUI2CEeKjOIt6xW2jaA" targetPort="_Kvs_sI2CEeKjOIt6xW2jaA" sourceBlock="_KuzAwY2CEeKjOIt6xW2jaA" targetBlock="_KuyZsI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5ucI2CEeKjOIt6xW2jaA" sourcePort="_KvGiwI2CEeKjOIt6xW2jaA" targetPort="_KwEzII2CEeKjOIt6xW2jaA" sourceBlock="_KursAI2CEeKjOIt6xW2jaA" targetBlock="_Kuzn0I2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5ucY2CEeKjOIt6xW2jaA" sourcePort="_KvXBcI2CEeKjOIt6xW2jaA" targetPort="_KvKNIY2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuuIQI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5uco2CEeKjOIt6xW2jaA" sourcePort="_KvNQcI2CEeKjOIt6xW2jaA" targetPort="_KvC4YI2CEeKjOIt6xW2jaA" sourceBlock="_KuxyoI2CEeKjOIt6xW2jaA" targetBlock="_Kuk-UI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5uc42CEeKjOIt6xW2jaA" sourcePort="_KvTXEI2CEeKjOIt6xW2jaA" targetPort="_KvIX8I2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuuIQI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku5udI2CEeKjOIt6xW2jaA" sourcePort="_KvVzUI2CEeKjOIt6xW2jaA" targetPort="_KvKNII2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuuIQI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku6VgI2CEeKjOIt6xW2jaA" sourcePort="_KvLbQI2CEeKjOIt6xW2jaA" targetPort="_KvhZgI2CEeKjOIt6xW2jaA" sourceBlock="_Kuv9cI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku6VgY2CEeKjOIt6xW2jaA" sourcePort="_Kv_6oI2CEeKjOIt6xW2jaA" targetPort="_KviAkY2CEeKjOIt6xW2jaA" sourceBlock="_Kuzn0I2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku6Vgo2CEeKjOIt6xW2jaA" sourcePort="_KvrxkI2CEeKjOIt6xW2jaA" targetPort="_Ku_OAI2CEeKjOIt6xW2jaA" sourceBlock="_KuyZsI2CEeKjOIt6xW2jaA" targetBlock="_KuhT8I2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku68kI2CEeKjOIt6xW2jaA" sourcePort="_KvEtkI2CEeKjOIt6xW2jaA" targetPort="_KvchAI2CEeKjOIt6xW2jaA" sourceBlock="_KursAI2CEeKjOIt6xW2jaA" targetBlock="_Kuxyoo2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku68kY2CEeKjOIt6xW2jaA" sourcePort="_KvQTwI2CEeKjOIt6xW2jaA" targetPort="_KvDfcI2CEeKjOIt6xW2jaA" sourceBlock="_KuxyoY2CEeKjOIt6xW2jaA" targetBlock="_KunakI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku68ko2CEeKjOIt6xW2jaA" sourcePort="_KvVMQI2CEeKjOIt6xW2jaA" targetPort="_KvJmEI2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_KuuIQI2CEeKjOIt6xW2jaA"/>
        <lines id="_Ku7joI2CEeKjOIt6xW2jaA" sourcePort="_KvbS4I2CEeKjOIt6xW2jaA" targetPort="_KwOkII2CEeKjOIt6xW2jaA" sourceBlock="_Kuxyoo2CEeKjOIt6xW2jaA" targetBlock="_Ku7joY2CEeKjOIt6xW2jaA"/>
        <blocks xsi:type="model:BusSelector" id="_KursAI2CEeKjOIt6xW2jaA" name="Bus\nSelector" incomingLines="_KudpkI2CEeKjOIt6xW2jaA" outgoingLines="_Ku2EEY2CEeKjOIt6xW2jaA _Ku3SMY2CEeKjOIt6xW2jaA _Ku35QY2CEeKjOIt6xW2jaA _Ku4gUY2CEeKjOIt6xW2jaA _Ku5HYY2CEeKjOIt6xW2jaA _Ku5ucI2CEeKjOIt6xW2jaA _Ku68kI2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[160, 35, 165, 260]"/>
          <outPorts id="_KvEtkI2CEeKjOIt6xW2jaA" name="from"/>
          <outPorts id="_KvFUoI2CEeKjOIt6xW2jaA" name="to"/>
          <outPorts id="_KvFUoY2CEeKjOIt6xW2jaA" name="msg"/>
          <outPorts id="_KvF7sI2CEeKjOIt6xW2jaA" name="param"/>
          <outPorts id="_KvF7sY2CEeKjOIt6xW2jaA" name="pkgid"/>
          <outPorts id="_KvGiwI2CEeKjOIt6xW2jaA" name="time"/>
          <inPorts id="_Kus6II2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_KuxyoI2CEeKjOIt6xW2jaA" name="Unit Delay1" incomingLines="_Ku1dAo2CEeKjOIt6xW2jaA" outgoingLines="_Ku5uco2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[405, 683, 440, 717]"/>
          <outPorts id="_KvNQcI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvOekI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_KuxyoY2CEeKjOIt6xW2jaA" name="Unit Delay2" incomingLines="_Ku35QI2CEeKjOIt6xW2jaA" outgoingLines="_Ku68kY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[410, 738, 445, 772]"/>
          <outPorts id="_KvQTwI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvQ60I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:SubSystem" id="_Kuxyoo2CEeKjOIt6xW2jaA" name="DataLinkLayer" incomingLines="_Ku2EEY2CEeKjOIt6xW2jaA _Ku2rII2CEeKjOIt6xW2jaA _Ku3SMI2CEeKjOIt6xW2jaA _Ku3SMY2CEeKjOIt6xW2jaA _Ku35QY2CEeKjOIt6xW2jaA _Ku4gUY2CEeKjOIt6xW2jaA _Ku5HYY2CEeKjOIt6xW2jaA _Ku6VgI2CEeKjOIt6xW2jaA _Ku6VgY2CEeKjOIt6xW2jaA _Ku68kI2CEeKjOIt6xW2jaA" outgoingLines="_Ku1dAI2CEeKjOIt6xW2jaA _Ku1dAY2CEeKjOIt6xW2jaA _Ku2EEI2CEeKjOIt6xW2jaA _Ku2rI42CEeKjOIt6xW2jaA _Ku5HYI2CEeKjOIt6xW2jaA _Ku5ucY2CEeKjOIt6xW2jaA _Ku5uc42CEeKjOIt6xW2jaA _Ku5udI2CEeKjOIt6xW2jaA _Ku68ko2CEeKjOIt6xW2jaA _Ku7joI2CEeKjOIt6xW2jaA">
          <parameters name="System.Location" value="[1284, 50, 2556, 995]"/>
          <parameters name="Position" value="[470, 33, 615, 402]"/>
          <outPorts id="_KvTXEI2CEeKjOIt6xW2jaA" name="snd_from_out" incomingLines="_Kvp8YI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 48, 685, 62]"/>
            <inPorts id="_KwPLMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvT-II2CEeKjOIt6xW2jaA" name="snd_to_out" incomingLines="_KvpVUI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 83, 685, 97]"/>
            <inPorts id="_KwQZUI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvUlMI2CEeKjOIt6xW2jaA" name="snd_msg_out" incomingLines="_KvoHMI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 118, 685, 132]"/>
            <inPorts id="_KwRncI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvVMQI2CEeKjOIt6xW2jaA" name="snd_param_out" incomingLines="_KvpVUo2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 153, 685, 167]"/>
            <inPorts id="_KwS1kI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvVzUI2CEeKjOIt6xW2jaA" name="snd_pkgid_out" incomingLines="_Kvm5E42CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[655, 188, 685, 202]"/>
            <inPorts id="_KwUDsI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvXBcI2CEeKjOIt6xW2jaA" name="snd_time_out" incomingLines="_KvoHMY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 328, 685, 342]"/>
            <inPorts id="_KwVR0I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvYPkI2CEeKjOIt6xW2jaA" name="recv_from_out" incomingLines="_KvouQo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 223, 685, 237]"/>
            <inPorts id="_KwWf8I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvY2oI2CEeKjOIt6xW2jaA" name="recv_msg_out" incomingLines="_KvngII2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 258, 685, 272]"/>
            <inPorts id="_KwXuEI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvZdsI2CEeKjOIt6xW2jaA" name="recv_param_out" incomingLines="_Kvm5EY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 293, 685, 307]"/>
            <inPorts id="_KwY8MI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KvbS4I2CEeKjOIt6xW2jaA" name="debug" incomingLines="_Kvp8YY2CEeKjOIt6xW2jaA" dimensions="-1">
            <parameters name="Position" value="[770, 398, 800, 412]"/>
            <inPorts id="_KwaKUI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_KvchAI2CEeKjOIt6xW2jaA" name="recv_from_in" outgoingLines="_KvoHMo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 208, 330, 222]"/>
            <outPorts id="_KwbYcI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KvdIEI2CEeKjOIt6xW2jaA" name="recv_to_in" outgoingLines="_Kvm5Eo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 243, 330, 257]"/>
            <outPorts id="_KwdNoI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KveWMI2CEeKjOIt6xW2jaA" name="recv_msg_in" outgoingLines="_KvpVUY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 278, 330, 292]"/>
            <outPorts id="_KwfC0I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_Kve9QI2CEeKjOIt6xW2jaA" name="recv_param_in" outgoingLines="_KvouQ42CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 313, 330, 327]"/>
            <outPorts id="_KwitMI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KvfkUI2CEeKjOIt6xW2jaA" name="recv_pkgid_in" outgoingLines="_KvngIY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[300, 348, 330, 362]"/>
            <outPorts id="_Kwj7UI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KvgLYI2CEeKjOIt6xW2jaA" name="recv_time_in" outgoingLines="_KvoHM42CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 383, 330, 397]"/>
            <outPorts id="_KwlJcI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KvhZgI2CEeKjOIt6xW2jaA" name="snd_from_in" outgoingLines="_Kvm5FI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 68, 330, 82]"/>
            <outPorts id="_KwmXkI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KviAkI2CEeKjOIt6xW2jaA" name="snd_to_in" outgoingLines="_KvouQI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 103, 330, 117]"/>
            <outPorts id="_KwnlsI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KviAkY2CEeKjOIt6xW2jaA" name="snd_msg_in" outgoingLines="_KvngIo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 138, 330, 152]"/>
            <outPorts id="_Kwpa4I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KvinoI2CEeKjOIt6xW2jaA" name="snd_param_in" outgoingLines="_KvouQY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 173, 330, 187]"/>
            <outPorts id="_KwqpAI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <lines id="_KvmSAI2CEeKjOIt6xW2jaA" sourcePort="_Kw55kI2CEeKjOIt6xW2jaA" targetPort="_KwtFQI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvjOsI2CEeKjOIt6xW2jaA"/>
          <lines id="_Kvm5EI2CEeKjOIt6xW2jaA" sourcePort="_Kw4rcI2CEeKjOIt6xW2jaA" targetPort="_KwseMI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvjOsI2CEeKjOIt6xW2jaA"/>
          <lines id="_Kvm5EY2CEeKjOIt6xW2jaA" sourcePort="_Kw3dUI2CEeKjOIt6xW2jaA" targetPort="_KwY8MI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvZdsI2CEeKjOIt6xW2jaA"/>
          <lines id="_Kvm5Eo2CEeKjOIt6xW2jaA" sourcePort="_KwdNoI2CEeKjOIt6xW2jaA" targetPort="_KxB1YI2CEeKjOIt6xW2jaA" sourceBlock="_KvdIEI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_Kvm5E42CEeKjOIt6xW2jaA" sourcePort="_Kw1BEI2CEeKjOIt6xW2jaA" targetPort="_KwUDsI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvVzUI2CEeKjOIt6xW2jaA"/>
          <lines id="_Kvm5FI2CEeKjOIt6xW2jaA" sourcePort="_KwmXkI2CEeKjOIt6xW2jaA" targetPort="_Kw6goI2CEeKjOIt6xW2jaA" sourceBlock="_KvhZgI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvngII2CEeKjOIt6xW2jaA" sourcePort="_Kw22QI2CEeKjOIt6xW2jaA" targetPort="_KwXuEI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvY2oI2CEeKjOIt6xW2jaA"/>
          <lines id="_KvngIY2CEeKjOIt6xW2jaA" sourcePort="_Kwj7UI2CEeKjOIt6xW2jaA" targetPort="_KxERoI2CEeKjOIt6xW2jaA" sourceBlock="_KvfkUI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvngIo2CEeKjOIt6xW2jaA" sourcePort="_Kwpa4I2CEeKjOIt6xW2jaA" targetPort="_Kw884I2CEeKjOIt6xW2jaA" sourceBlock="_KviAkY2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvngI42CEeKjOIt6xW2jaA" sourcePort="_KxJxMI2CEeKjOIt6xW2jaA" targetPort="_KxFfwI2CEeKjOIt6xW2jaA" sourceBlock="_Kvkc0I2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvoHMI2CEeKjOIt6xW2jaA" sourcePort="_Kwx9wI2CEeKjOIt6xW2jaA" targetPort="_KwRncI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvUlMI2CEeKjOIt6xW2jaA"/>
          <lines id="_KvoHMY2CEeKjOIt6xW2jaA" sourcePort="_Kw4EYI2CEeKjOIt6xW2jaA" targetPort="_KwVR0I2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvXBcI2CEeKjOIt6xW2jaA"/>
          <lines id="_KvoHMo2CEeKjOIt6xW2jaA" sourcePort="_KwbYcI2CEeKjOIt6xW2jaA" targetPort="_KxAnQI2CEeKjOIt6xW2jaA" sourceBlock="_KvchAI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvoHM42CEeKjOIt6xW2jaA" sourcePort="_KwlJcI2CEeKjOIt6xW2jaA" targetPort="_KxE4sI2CEeKjOIt6xW2jaA" sourceBlock="_KvgLYI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvouQI2CEeKjOIt6xW2jaA" sourcePort="_KwnlsI2CEeKjOIt6xW2jaA" targetPort="_Kw7uwI2CEeKjOIt6xW2jaA" sourceBlock="_KviAkI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvouQY2CEeKjOIt6xW2jaA" sourcePort="_KwqpAI2CEeKjOIt6xW2jaA" targetPort="_Kw-yEI2CEeKjOIt6xW2jaA" sourceBlock="_KvinoI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvouQo2CEeKjOIt6xW2jaA" sourcePort="_Kw2PMI2CEeKjOIt6xW2jaA" targetPort="_KwWf8I2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvYPkI2CEeKjOIt6xW2jaA"/>
          <lines id="_KvouQ42CEeKjOIt6xW2jaA" sourcePort="_KwitMI2CEeKjOIt6xW2jaA" targetPort="_KxDqkI2CEeKjOIt6xW2jaA" sourceBlock="_Kve9QI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvpVUI2CEeKjOIt6xW2jaA" sourcePort="_KwxWsI2CEeKjOIt6xW2jaA" targetPort="_KwQZUI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvT-II2CEeKjOIt6xW2jaA"/>
          <lines id="_KvpVUY2CEeKjOIt6xW2jaA" sourcePort="_KwfC0I2CEeKjOIt6xW2jaA" targetPort="_KxCccI2CEeKjOIt6xW2jaA" sourceBlock="_KveWMI2CEeKjOIt6xW2jaA" targetBlock="_KvjOsY2CEeKjOIt6xW2jaA"/>
          <lines id="_KvpVUo2CEeKjOIt6xW2jaA" sourcePort="_KwzL4I2CEeKjOIt6xW2jaA" targetPort="_KwS1kI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvVMQI2CEeKjOIt6xW2jaA"/>
          <lines id="_Kvp8YI2CEeKjOIt6xW2jaA" sourcePort="_KwvhgI2CEeKjOIt6xW2jaA" targetPort="_KwPLMI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvTXEI2CEeKjOIt6xW2jaA"/>
          <lines id="_Kvp8YY2CEeKjOIt6xW2jaA" sourcePort="_Kwr3II2CEeKjOIt6xW2jaA" targetPort="_KwaKUI2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsI2CEeKjOIt6xW2jaA" targetBlock="_KvbS4I2CEeKjOIt6xW2jaA"/>
          <lines id="_KvqjcI2CEeKjOIt6xW2jaA" sourcePort="_Kw5SgI2CEeKjOIt6xW2jaA" targetPort="_KwseMY2CEeKjOIt6xW2jaA" sourceBlock="_KvjOsY2CEeKjOIt6xW2jaA" targetBlock="_KvjOsI2CEeKjOIt6xW2jaA"/>
          <blocks xsi:type="model:BusCreator" id="_KvjOsI2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_KvmSAI2CEeKjOIt6xW2jaA _Kvm5EI2CEeKjOIt6xW2jaA _KvqjcI2CEeKjOIt6xW2jaA" outgoingLines="_Kvp8YY2CEeKjOIt6xW2jaA">
            <parameters name="Position" value="[690, 349, 695, 461]"/>
            <outPorts id="_Kwr3II2CEeKjOIt6xW2jaA"/>
            <inPorts id="_KwseMI2CEeKjOIt6xW2jaA" name="queue_sending_ratio"/>
            <inPorts id="_KwseMY2CEeKjOIt6xW2jaA" name="queue_received_ratio"/>
            <inPorts id="_KwtFQI2CEeKjOIt6xW2jaA" name="queue_ack_ratio"/>
          </blocks>
          <blocks xsi:type="model:EmbeddedMatlabFunction" id="_KvjOsY2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_Kvm5Eo2CEeKjOIt6xW2jaA _Kvm5FI2CEeKjOIt6xW2jaA _KvngIY2CEeKjOIt6xW2jaA _KvngIo2CEeKjOIt6xW2jaA _KvngI42CEeKjOIt6xW2jaA _KvoHMo2CEeKjOIt6xW2jaA _KvoHM42CEeKjOIt6xW2jaA _KvouQI2CEeKjOIt6xW2jaA _KvouQY2CEeKjOIt6xW2jaA _KvouQ42CEeKjOIt6xW2jaA _KvpVUY2CEeKjOIt6xW2jaA" outgoingLines="_KvmSAI2CEeKjOIt6xW2jaA _Kvm5EI2CEeKjOIt6xW2jaA _Kvm5EY2CEeKjOIt6xW2jaA _Kvm5E42CEeKjOIt6xW2jaA _KvngII2CEeKjOIt6xW2jaA _KvoHMI2CEeKjOIt6xW2jaA _KvoHMY2CEeKjOIt6xW2jaA _KvouQo2CEeKjOIt6xW2jaA _KvpVUI2CEeKjOIt6xW2jaA _KvpVUo2CEeKjOIt6xW2jaA _Kvp8YI2CEeKjOIt6xW2jaA _KvqjcI2CEeKjOIt6xW2jaA" code="function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)&#xA;%#eml&#xA;eml.extrinsic('warning', 'disp', 'fprintf');&#xA;&#xA;%Constants&#xA;BUS_SIZE =  numel(snd_msg_in);&#xA;TIMEOUT_ACK     = 2.0;&#xA;MSG_ACK         = 255;&#xA;QUEUE_SIZE = 10;&#xA;QUEUE_SIZE_SENDING = QUEUE_SIZE * BUS_SIZE;&#xA;QUEUE_SIZE_ACK  = QUEUE_SIZE* BUS_SIZE;&#xA;QUEUE_SIZE_RECEIVED = QUEUE_SIZE *BUS_SIZE;&#xA;&#xA;&#xA;%Init&#xA;from    = zeros(1,BUS_SIZE,'uint8');&#xA;to      = zeros(1,BUS_SIZE,'uint8');&#xA;msg     = zeros(1,BUS_SIZE,'uint16');&#xA;param   = zeros(1,BUS_SIZE,'double');&#xA;pkgid   = zeros(1,BUS_SIZE,'uint32');&#xA;time    = zeros(1,BUS_SIZE,'double');&#xA; &#xA;recv_from_out    = zeros(1,BUS_SIZE,'uint8');&#xA;recv_msg_out     = zeros(1,BUS_SIZE,'uint16');&#xA;recv_param_out   = zeros(1,BUS_SIZE,'double');&#xA;&#xA;&#xA;recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);&#xA;&#xA;&#xA;&#xA;%Persistent variables&#xA;persistent sendingQueue ackQueue receivedQueue lastPkgid&#xA;&#xA;if isempty(lastPkgid)&#xA;    lastPkgid = uint32(0);&#xA;end&#xA;&#xA;if isempty(sendingQueue)&#xA;    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);&#xA;end&#xA;&#xA;if isempty(ackQueue)&#xA;    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);&#xA;end&#xA;&#xA;if isempty(receivedQueue)&#xA;    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);&#xA;end&#xA;&#xA;%compute stats&#xA;queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;&#xA;queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;&#xA;queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;&#xA;&#xA;%Step 1: Check for a new outgoing packet&#xA;for i = 1:BUS_SIZE    &#xA;    if snd_msg_in(i) ~= 0&#xA;        lastPkgid = lastPkgid +1;&#xA;        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);&#xA;&#xA;        %Add packet so the outgoing queue&#xA;        sendingQueue = enqueue(sendingQueue, outgoing); &#xA;    end&#xA;end&#xA;    &#xA;%Step 2: Check for a new incoming packet&#xA;for i = 1:length(recv_in)&#xA;    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);&#xA;    if incoming.from ~= 0 &amp;&amp; incoming.to == snd_from_in&#xA;        if incoming.msg == MSG_ACK&#xA;            %Remove packet from ackQueue&#xA;            for j=1:length(ackQueue)&#xA;                if ackQueue(j).pkgid == uint32(incoming.param)&#xA;                    ackQueue = dequeue(ackQueue,j);&#xA;                    break;&#xA;                end&#xA;            end&#xA;        else&#xA;            %Send ACK&#xA;            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);&#xA;            sendingQueue = enqueue(sendingQueue,ackPacket);&#xA;&#xA;            %Check for duplicated packets&#xA;            duplicatedPacket = false;&#xA;            for j=1:length(receivedQueue)&#xA;                if receivedQueue(j).pkgid == incoming.pkgid &amp;&amp; receivedQueue(j).from == incoming.from&#xA;                    duplicatedPacket = true;&#xA;                    break;&#xA;                end&#xA;            end&#xA;&#xA;            if duplicatedPacket == false&#xA;                %save packet&#xA;                receivedQueue = enqueue(receivedQueue, incoming);            &#xA;            end&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;%Step 3: Forward incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if receivedQueue(1).from ~= 0&#xA;        recv_from_out(i)    = receivedQueue(1).from;&#xA;        recv_msg_out(i)     = receivedQueue(1).msg;&#xA;        recv_param_out(i)   = receivedQueue(1).param;&#xA;        receivedQueue = dequeue(receivedQueue,1);&#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;%Step 4: Timeout reached? Send packet again&#xA;for i = 1:length(ackQueue)&#xA;    if ackQueue(i).to ~= 0&#xA;        if ackQueue(i).time + TIMEOUT_ACK &lt;= currentTime&#xA;            %Reset counter&#xA;            ackQueue(i).time = currentTime;&#xA;            %Send again&#xA;            sendingQueue = enqueue(sendingQueue, ackQueue(i));&#xA;            %Remove packet from ackQueue&#xA;            ackQueue = dequeue(ackQueue, i);&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;&#xA;%Step 5: Send outgoing packet&#xA;for i = 1:BUS_SIZE&#xA;    if sendingQueue(1).to ~= 0    &#xA;        from(i)    = sendingQueue(1).from;&#xA;        to(i)      = sendingQueue(1).to;&#xA;        msg(i)     = sendingQueue(1).msg;&#xA;        param(i)   = sendingQueue(1).param;&#xA;        pkgid(i)   = sendingQueue(1).pkgid;&#xA;        time(i)    = sendingQueue(1).time;&#xA;&#xA;        %Add it to the ack queue&#xA;        if sendingQueue(1).msg ~= MSG_ACK&#xA;            ackQueue = enqueue(ackQueue, sendingQueue(1));&#xA;        end&#xA;&#xA;        %remove packet from sending queue&#xA;        sendingQueue = dequeue(sendingQueue, 1);    &#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%%                          H E L P E R&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function p = packet(from, to, msg, param, pkgid, time)&#xA;%#eml&#xA;%Defines a packet&#xA;p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));&#xA;&#xA;function bus = bus(from, to, msg, param, pkgid, time, size) %emp&#xA;%Create an empty bus&#xA;bus = repmat(packet(0,0,0,0,0,0), 1, size);&#xA;for i=1:size&#xA;    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));&#xA;end&#xA;&#xA;&#xA;function queue = enqueue(queue, packet)&#xA;%#eml&#xA;eml.extrinsic('warning', 'sprintf');&#xA;for i = 1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;function queue = dequeue(queue, index)&#xA;%#eml&#xA;assert(index &lt;= length(queue))&#xA;for i=index:length(queue)-1;&#xA;    queue(i) = queue(i+1);&#xA;end&#xA;queue(length(queue)) = packet(0,0,0,0,0,0);&#xA;&#xA;function num = queueNumElements(queue)&#xA;%#eml&#xA;num = 0;&#xA;for i = 1:length(queue)&#xA;    if queue(i).to ~= uint8(0)&#xA;        num = num+1;&#xA;    end&#xA;end    &#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);">
            <parameters name="System.Location" value="[257, 457, 812, 717]"/>
            <parameters name="Position" value="[410, 41, 595, 454]"/>
            <outPorts id="_KwvhgI2CEeKjOIt6xW2jaA" name="from" dimensions="-1">
              <parameters name="Position" value="[460, 101, 480, 119]"/>
              <inPorts id="_KxjZ0I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_KwxWsI2CEeKjOIt6xW2jaA" name="to" dimensions="-1">
              <parameters name="Position" value="[460, 136, 480, 154]"/>
              <inPorts id="_Kxl2EI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kwx9wI2CEeKjOIt6xW2jaA" name="msg" dimensions="-1">
              <parameters name="Position" value="[460, 171, 480, 189]"/>
              <inPorts id="_KxoSUI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_KwzL4I2CEeKjOIt6xW2jaA" name="param" dimensions="-1">
              <parameters name="Position" value="[460, 206, 480, 224]"/>
              <inPorts id="_KxqukI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw1BEI2CEeKjOIt6xW2jaA" name="pkgid" dimensions="-1">
              <parameters name="Position" value="[460, 246, 480, 264]"/>
              <inPorts id="_Kxr8sI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw2PMI2CEeKjOIt6xW2jaA" name="recv_from_out" dimensions="-1">
              <parameters name="Position" value="[460, 281, 480, 299]"/>
              <inPorts id="_KxtK0I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw22QI2CEeKjOIt6xW2jaA" name="recv_msg_out" dimensions="-1">
              <parameters name="Position" value="[460, 316, 480, 334]"/>
              <inPorts id="_KxuY8I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw3dUI2CEeKjOIt6xW2jaA" name="recv_param_out" dimensions="-1">
              <parameters name="Position" value="[460, 351, 480, 369]"/>
              <inPorts id="_KxwOII2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw4EYI2CEeKjOIt6xW2jaA" name="time" dimensions="-1">
              <parameters name="Position" value="[460, 386, 480, 404]"/>
              <inPorts id="_KxyDUI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw4rcI2CEeKjOIt6xW2jaA" name="queue_sending_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 426, 480, 444]"/>
              <inPorts id="_Kxz4gI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw5SgI2CEeKjOIt6xW2jaA" name="queue_received_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 461, 480, 479]"/>
              <inPorts id="_Kx1GoI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_Kw55kI2CEeKjOIt6xW2jaA" name="queue_ack_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 496, 480, 514]"/>
              <inPorts id="_Kx270I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <inPorts id="_Kw6goI2CEeKjOIt6xW2jaA" name="snd_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 101, 40, 119]"/>
              <outPorts id="_Kx4xAI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_Kw7uwI2CEeKjOIt6xW2jaA" name="snd_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 136, 40, 154]"/>
              <outPorts id="_Kx6mMI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_Kw884I2CEeKjOIt6xW2jaA" name="snd_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 171, 40, 189]"/>
              <outPorts id="_Kx70UI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_Kw-yEI2CEeKjOIt6xW2jaA" name="snd_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 206, 40, 224]"/>
              <outPorts id="_Kx9CcI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_KxAnQI2CEeKjOIt6xW2jaA" name="recv_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 246, 40, 264]"/>
              <outPorts id="_Kx-3oI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_KxB1YI2CEeKjOIt6xW2jaA" name="recv_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 281, 40, 299]"/>
              <outPorts id="_KyAs0I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_KxCccI2CEeKjOIt6xW2jaA" name="recv_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 316, 40, 334]"/>
              <outPorts id="_KyDwII2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_KxDqkI2CEeKjOIt6xW2jaA" name="recv_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 351, 40, 369]"/>
              <outPorts id="_KyFlUI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_KxERoI2CEeKjOIt6xW2jaA" name="recv_pkgid_in" dimensions="-1" type="uint32">
              <parameters name="Position" value="[20, 386, 40, 404]"/>
              <outPorts id="_KyHagI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_KxE4sI2CEeKjOIt6xW2jaA" name="recv_time_in" dimensions="-1">
              <parameters name="Position" value="[20, 426, 40, 444]"/>
              <outPorts id="_KyIBkI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_KxFfwI2CEeKjOIt6xW2jaA" name="currentTime" dimensions="-1">
              <parameters name="Position" value="[20, 461, 40, 479]"/>
              <outPorts id="_KyJPsI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
          </blocks>
          <blocks xsi:type="model:DigitalClock" id="_Kvkc0I2CEeKjOIt6xW2jaA" name="Digital Clock" outgoingLines="_KvngI42CEeKjOIt6xW2jaA" sampleTime="0.1">
            <parameters name="Position" value="[280, 413, 345, 437]"/>
            <outPorts id="_KxJxMI2CEeKjOIt6xW2jaA"/>
          </blocks>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_KuyZsI2CEeKjOIt6xW2jaA" name="Unit Delay3" incomingLines="_Ku5HYo2CEeKjOIt6xW2jaA" outgoingLines="_Ku6Vgo2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1165, 533, 1200, 567]"/>
          <outPorts id="_KvrxkI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_Kvs_sI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:BusCreator" id="_KuuIQI2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_Ku1dAI2CEeKjOIt6xW2jaA _Ku5HYI2CEeKjOIt6xW2jaA _Ku5ucY2CEeKjOIt6xW2jaA _Ku5uc42CEeKjOIt6xW2jaA _Ku5udI2CEeKjOIt6xW2jaA _Ku68ko2CEeKjOIt6xW2jaA" outgoingLines="_KudpkY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[830, 37, 835, 258]"/>
          <outPorts id="_KuuIQY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvIX8I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvI_AI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvI_AY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvJmEI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvKNII2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KvKNIY2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_KuyZsY2CEeKjOIt6xW2jaA" name="Unit Delay4" incomingLines="_Ku2rIY2CEeKjOIt6xW2jaA" outgoingLines="_Ku35Qo2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1170, 613, 1205, 647]"/>
          <outPorts id="_KvuN0I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_Kvvb8I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_KuzAwI2CEeKjOIt6xW2jaA" name="Terminator" incomingLines="_Ku2EE42CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[1155, 700, 1175, 720]"/>
          <inPorts id="_Kvx4MI2CEeKjOIt6xW2jaA" name="1"/>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_KuzAwY2CEeKjOIt6xW2jaA" name="Receive Packet" incomingLines="_Ku1dAY2CEeKjOIt6xW2jaA _Ku2EEI2CEeKjOIt6xW2jaA _Ku2EEo2CEeKjOIt6xW2jaA _Ku2rI42CEeKjOIt6xW2jaA _Ku4gUI2CEeKjOIt6xW2jaA" outgoingLines="_Ku2EE42CEeKjOIt6xW2jaA _Ku2rIY2CEeKjOIt6xW2jaA _Ku5HYo2CEeKjOIt6xW2jaA" code="function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;% This function receives packets and adds them to the event queue.&#xA;% A packet consists of a source, a message and an optional parameter for &#xA;% the message. Source and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;SOURCE = 2;&#xA;MESSAGE = 1;&#xA;BUS_SIZE = numel(packetFrom);&#xA;QUEUE_SIZE = 10;&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;bufferOverflow = false;&#xA;&#xA;%New incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if packetFrom(i) ~= 0 &#xA;        bufferOverflow = true;&#xA;        %Add it to the incoming event Queue&#xA;        for j = 1:QUEUE_SIZE&#xA;            %Search for an empty place&#xA;            if eventQueue(j,SOURCE) == 0&#xA;                eventQueue(j,SOURCE)    = packetFrom(i);&#xA;                eventQueue(j,MESSAGE)   = packetMsg(i);&#xA;                eventParamQueue(j)      = packetParam(i);&#xA;                bufferOverflow = false;&#xA;                break;&#xA;            end&#xA;        end        &#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[900, 506, 1085, 754]"/>
          <outPorts id="_KvzGUI2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_KxNbkI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_Kv07gI2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_KxOpsI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_Kv2JoI2CEeKjOIt6xW2jaA" name="bufferOverflow" dimensions="-1" type="boolean">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_KxPQwI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_Kv3XwI2CEeKjOIt6xW2jaA" name="packetFrom" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_KxQe4I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_Kv4l4I2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_KxRtAI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_Kv50AI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_KxTiMI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_Kv6bEI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 206, 40, 224]"/>
            <outPorts id="_KxVXYI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_Kv8QQI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 246, 40, 264]"/>
            <outPorts id="_KxXMkI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_Kuzn0I2CEeKjOIt6xW2jaA" name="Send Packet" incomingLines="_Ku2rIo2CEeKjOIt6xW2jaA _Ku3SMo2CEeKjOIt6xW2jaA _Ku5ucI2CEeKjOIt6xW2jaA" outgoingLines="_Ku1dAo2CEeKjOIt6xW2jaA _Ku3SMI2CEeKjOIt6xW2jaA _Ku35QI2CEeKjOIt6xW2jaA _Ku6VgY2CEeKjOIt6xW2jaA" code="function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;&#xA;% This function creates packets from the event queue. A packet consists&#xA;% of a destination, a message and an optional parameter for the message.&#xA;% Destination and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;DESTINATION = 2;&#xA;MESSAGE = 1;&#xA;QUEUE_SIZE = 10;&#xA;&#xA;busSize = numel(busSizeSignal);&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;packetMsg = zeros(1,busSize,'uint16');&#xA;packetParam = zeros(1,busSize,'double');&#xA;&#xA;%There is an event in the queue&#xA;for i = 1:busSize   &#xA;    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0&#xA;        %Create packet from the firs entry in the queue&#xA;        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));&#xA;        packetParam(i) = eventParamQueue(1);&#xA;        %Remove the event from the queue&#xA;        for j=1:QUEUE_SIZE - 1&#xA;            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);&#xA;            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);&#xA;            eventParamQueue(j)          = eventParamQueue(j+1);&#xA;        end&#xA;        %Set last element to zero&#xA;        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;&#xA;        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;&#xA;        eventParamQueue(QUEUE_SIZE)    = 0;&#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[150, 514, 310, 781]"/>
          <outPorts id="_Kv_6oI2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_KxYasI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KwAhsI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_KxbeAI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KwBv0I2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_KxcsII2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_KwC98I2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 206, 480, 224]"/>
            <inPorts id="_KxdTMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_KwEzII2CEeKjOIt6xW2jaA" name="busSizeSignal" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_KxfIYI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KwGBQI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_KxgWgI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_KwHPYI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_KxhkoI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_Ku7joY2CEeKjOIt6xW2jaA" name="Terminator2" incomingLines="_Ku7joI2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[780, 362, 805, 388]"/>
          <inPorts id="_KwOkII2CEeKjOIt6xW2jaA"/>
        </blocks>
      </blocks>
      <blocks xsi:type="model:SubSystem" id="_K0VoEI2CEeKjOIt6xW2jaA" name="Link Layer BAT_Info_To_StrikeControl" incomingLines="_K0MeII2CEeKjOIt6xW2jaA _K0NFMY2CEeKjOIt6xW2jaA _K0NFMo2CEeKjOIt6xW2jaA _K0NFM42CEeKjOIt6xW2jaA _K0TL0o2CEeKjOIt6xW2jaA _K0YEUI2CEeKjOIt6xW2jaA _K0YEUY2CEeKjOIt6xW2jaA" outgoingLines="_K0MeIY2CEeKjOIt6xW2jaA _K0NFMI2CEeKjOIt6xW2jaA _K0NFNI2CEeKjOIt6xW2jaA _K0NsQI2CEeKjOIt6xW2jaA _K0Ty4I2CEeKjOIt6xW2jaA">
        <parameters name="System.Location" value="[1284, 164, 2556, 887]"/>
        <parameters name="Position" value="[250, 1180, 800, 1580]"/>
        <outPorts id="_K0jqgI2CEeKjOIt6xW2jaA" name="port_out" incomingLines="_K0TL0Y2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[960, 143, 990, 157]"/>
          <inPorts id="_K0k4oI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K0agkI2CEeKjOIt6xW2jaA" name="write_event_queue_in" incomingLines="_K0y7FI2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[1245, 543, 1275, 557]"/>
          <inPorts id="_K02lcI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K0cVwI2CEeKjOIt6xW2jaA" name="write_event_param_queue_in" incomingLines="_K0xs8Y2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[1245, 623, 1275, 637]"/>
          <inPorts id="_K02lcY2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K0gAII2CEeKjOIt6xW2jaA" name="write_event_queue_out" incomingLines="_K0yUBI2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[495, 693, 525, 707]"/>
          <inPorts id="_K05owI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K0gnMI2CEeKjOIt6xW2jaA" name="write_event_param_queue_out" incomingLines="_K0ziIY2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[495, 748, 525, 762]"/>
          <inPorts id="_K06P0I2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_K0icYI2CEeKjOIt6xW2jaA" name="port_in" outgoingLines="_K0TL0I2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[55, 148, 85, 162]"/>
          <outPorts id="_K0jDcY2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K0n78I2CEeKjOIt6xW2jaA" name="net_address" outgoingLines="_K0y7Eo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 263, 265, 277]"/>
          <outPorts id="_K1BkkI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K0ojAI2CEeKjOIt6xW2jaA" name="receiver_net_address" outgoingLines="_K0we042CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 298, 265, 312]"/>
          <outPorts id="_K1CLoI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K0ZScI2CEeKjOIt6xW2jaA" name="read_event_queue_in" outgoingLines="_K0xs8o2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[780, 673, 810, 687]"/>
          <outPorts id="_K01-YI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K0dj4I2CEeKjOIt6xW2jaA" name="read_event_param_queue_in" outgoingLines="_K0we0Y2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[780, 723, 810, 737]"/>
          <outPorts id="_K03zkI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K0eK8I2CEeKjOIt6xW2jaA" name="read_event_queue_out" outgoingLines="_K0we1Y2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[55, 638, 85, 652]"/>
          <outPorts id="_K04aoI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K0fZEI2CEeKjOIt6xW2jaA" name="read_event_param_queue_out" outgoingLines="_K0xF442CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[55, 728, 85, 742]"/>
          <outPorts id="_K05BsI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <lines id="_K0TL0I2CEeKjOIt6xW2jaA" sourcePort="_K0jDcY2CEeKjOIt6xW2jaA" targetPort="_K0jDco2CEeKjOIt6xW2jaA" sourceBlock="_K0icYI2CEeKjOIt6xW2jaA" targetBlock="_K0jDcI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_K0TL0Y2CEeKjOIt6xW2jaA" sourcePort="_K0kRkY2CEeKjOIt6xW2jaA" targetPort="_K0k4oI2CEeKjOIt6xW2jaA" sourceBlock="_K0kRkI2CEeKjOIt6xW2jaA" targetBlock="_K0jqgI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_K0v3wI2CEeKjOIt6xW2jaA" sourcePort="_K1GdEI2CEeKjOIt6xW2jaA" targetPort="_K0_IUY2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0kRkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0v3wY2CEeKjOIt6xW2jaA" sourcePort="_K1I5UI2CEeKjOIt6xW2jaA" targetPort="_K1dpcI2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0s0cI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0v3wo2CEeKjOIt6xW2jaA" sourcePort="_K1jwEY2CEeKjOIt6xW2jaA" targetPort="_K1DZwI2CEeKjOIt6xW2jaA" sourceBlock="_K0uCkI2CEeKjOIt6xW2jaA" targetBlock="_K0qYMI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0v3w42CEeKjOIt6xW2jaA" sourcePort="_K1ISQI2CEeKjOIt6xW2jaA" targetPort="_K1dCYI2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0s0cI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0we0I2CEeKjOIt6xW2jaA" sourcePort="_K08FAI2CEeKjOIt6xW2jaA" targetPort="_K1KugI2CEeKjOIt6xW2jaA" sourceBlock="_K0jDcI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0we0Y2CEeKjOIt6xW2jaA" sourcePort="_K03zkI2CEeKjOIt6xW2jaA" targetPort="_K1feoI2CEeKjOIt6xW2jaA" sourceBlock="_K0dj4I2CEeKjOIt6xW2jaA" targetBlock="_K0s0cI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0we0o2CEeKjOIt6xW2jaA" sourcePort="_K1cbUI2CEeKjOIt6xW2jaA" targetPort="_K1ZYAI2CEeKjOIt6xW2jaA" sourceBlock="_K0s0cI2CEeKjOIt6xW2jaA" targetBlock="_K0sNYI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0we042CEeKjOIt6xW2jaA" sourcePort="_K1CLoI2CEeKjOIt6xW2jaA" targetPort="_K1MjsY2CEeKjOIt6xW2jaA" sourceBlock="_K0ojAI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0we1I2CEeKjOIt6xW2jaA" sourcePort="_K1b0QI2CEeKjOIt6xW2jaA" targetPort="_K1YJ4I2CEeKjOIt6xW2jaA" sourceBlock="_K0s0cI2CEeKjOIt6xW2jaA" targetBlock="_K0rmUY2CEeKjOIt6xW2jaA"/>
        <lines id="_K0we1Y2CEeKjOIt6xW2jaA" sourcePort="_K04aoI2CEeKjOIt6xW2jaA" targetPort="_K1ookI2CEeKjOIt6xW2jaA" sourceBlock="_K0eK8I2CEeKjOIt6xW2jaA" targetBlock="_K0uCkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xF4I2CEeKjOIt6xW2jaA" sourcePort="_K1JgYI2CEeKjOIt6xW2jaA" targetPort="_K1dpcY2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0s0cI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xF4Y2CEeKjOIt6xW2jaA" sourcePort="_K1jwEI2CEeKjOIt6xW2jaA" targetPort="_K1Nx0I2CEeKjOIt6xW2jaA" sourceBlock="_K0uCkI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xF4o2CEeKjOIt6xW2jaA" sourcePort="_K07d8Y2CEeKjOIt6xW2jaA" targetPort="_K1KHcY2CEeKjOIt6xW2jaA" sourceBlock="_K0jDcI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xF442CEeKjOIt6xW2jaA" sourcePort="_K05BsI2CEeKjOIt6xW2jaA" targetPort="_K1p2sI2CEeKjOIt6xW2jaA" sourceBlock="_K0fZEI2CEeKjOIt6xW2jaA" targetBlock="_K0uCkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xF5I2CEeKjOIt6xW2jaA" sourcePort="_K1llQI2CEeKjOIt6xW2jaA" targetPort="_K1En4I2CEeKjOIt6xW2jaA" sourceBlock="_K0uCkI2CEeKjOIt6xW2jaA" targetBlock="_K0qYMY2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xs8I2CEeKjOIt6xW2jaA" sourcePort="_K08sEI2CEeKjOIt6xW2jaA" targetPort="_K1LVkY2CEeKjOIt6xW2jaA" sourceBlock="_K0jDcI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xs8Y2CEeKjOIt6xW2jaA" sourcePort="_K1Xi0I2CEeKjOIt6xW2jaA" targetPort="_K02lcY2CEeKjOIt6xW2jaA" sourceBlock="_K0rmUY2CEeKjOIt6xW2jaA" targetBlock="_K0cVwI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xs8o2CEeKjOIt6xW2jaA" sourcePort="_K01-YI2CEeKjOIt6xW2jaA" targetPort="_K1eQgI2CEeKjOIt6xW2jaA" sourceBlock="_K0ZScI2CEeKjOIt6xW2jaA" targetBlock="_K0s0cI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xs842CEeKjOIt6xW2jaA" sourcePort="_K08FAY2CEeKjOIt6xW2jaA" targetPort="_K1LVkI2CEeKjOIt6xW2jaA" sourceBlock="_K0jDcI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0xs9I2CEeKjOIt6xW2jaA" sourcePort="_K1F2AI2CEeKjOIt6xW2jaA" targetPort="_K0_IUI2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0kRkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0yUAI2CEeKjOIt6xW2jaA" sourcePort="_K09TII2CEeKjOIt6xW2jaA" targetPort="_K1L8oI2CEeKjOIt6xW2jaA" sourceBlock="_K0jDcI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0yUAY2CEeKjOIt6xW2jaA" sourcePort="_K1amII2CEeKjOIt6xW2jaA" targetPort="_K1WUsI2CEeKjOIt6xW2jaA" sourceBlock="_K0s0cI2CEeKjOIt6xW2jaA" targetBlock="_K0rmUI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0yUAo2CEeKjOIt6xW2jaA" sourcePort="_K09TII2CEeKjOIt6xW2jaA" targetPort="_K1nacI2CEeKjOIt6xW2jaA" sourceBlock="_K0jDcI2CEeKjOIt6xW2jaA" targetBlock="_K0uCkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0yUA42CEeKjOIt6xW2jaA" sourcePort="_K1HrMI2CEeKjOIt6xW2jaA" targetPort="_K1AWcI2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0kRkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0yUBI2CEeKjOIt6xW2jaA" sourcePort="_K1CysI2CEeKjOIt6xW2jaA" targetPort="_K05owI2CEeKjOIt6xW2jaA" sourceBlock="_K0qYMI2CEeKjOIt6xW2jaA" targetBlock="_K0gAII2CEeKjOIt6xW2jaA"/>
        <lines id="_K0y7EI2CEeKjOIt6xW2jaA" sourcePort="_K1FO8I2CEeKjOIt6xW2jaA" targetPort="_K0-hQI2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0kRkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0y7EY2CEeKjOIt6xW2jaA" sourcePort="_K1HEIY2CEeKjOIt6xW2jaA" targetPort="_K0_vYY2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0kRkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0y7Eo2CEeKjOIt6xW2jaA" sourcePort="_K1BkkI2CEeKjOIt6xW2jaA" targetPort="_K1MjsI2CEeKjOIt6xW2jaA" sourceBlock="_K0n78I2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0y7E42CEeKjOIt6xW2jaA" sourcePort="_K1ih8I2CEeKjOIt6xW2jaA" targetPort="_K1NKwI2CEeKjOIt6xW2jaA" sourceBlock="_K0uCkI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0y7FI2CEeKjOIt6xW2jaA" sourcePort="_K1VtoI2CEeKjOIt6xW2jaA" targetPort="_K02lcI2CEeKjOIt6xW2jaA" sourceBlock="_K0rmUI2CEeKjOIt6xW2jaA" targetBlock="_K0agkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0ziII2CEeKjOIt6xW2jaA" sourcePort="_K07d8I2CEeKjOIt6xW2jaA" targetPort="_K1KHcI2CEeKjOIt6xW2jaA" sourceBlock="_K0jDcI2CEeKjOIt6xW2jaA" targetBlock="_K0q_QI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0ziIY2CEeKjOIt6xW2jaA" sourcePort="_K1EA0I2CEeKjOIt6xW2jaA" targetPort="_K06P0I2CEeKjOIt6xW2jaA" sourceBlock="_K0qYMY2CEeKjOIt6xW2jaA" targetBlock="_K0gnMI2CEeKjOIt6xW2jaA"/>
        <lines id="_K0ziIo2CEeKjOIt6xW2jaA" sourcePort="_K1HEII2CEeKjOIt6xW2jaA" targetPort="_K0_vYI2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K0kRkI2CEeKjOIt6xW2jaA"/>
        <lines id="_K00JMI2CEeKjOIt6xW2jaA" sourcePort="_K1JgYY2CEeKjOIt6xW2jaA" targetPort="_K1v9UI2CEeKjOIt6xW2jaA" sourceBlock="_K0q_QI2CEeKjOIt6xW2jaA" targetBlock="_K00JMY2CEeKjOIt6xW2jaA"/>
        <blocks xsi:type="model:BusSelector" id="_K0jDcI2CEeKjOIt6xW2jaA" name="Bus\nSelector" incomingLines="_K0TL0I2CEeKjOIt6xW2jaA" outgoingLines="_K0we0I2CEeKjOIt6xW2jaA _K0xF4o2CEeKjOIt6xW2jaA _K0xs8I2CEeKjOIt6xW2jaA _K0xs842CEeKjOIt6xW2jaA _K0yUAI2CEeKjOIt6xW2jaA _K0yUAo2CEeKjOIt6xW2jaA _K0ziII2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[160, 35, 165, 260]"/>
          <outPorts id="_K07d8I2CEeKjOIt6xW2jaA" name="from"/>
          <outPorts id="_K07d8Y2CEeKjOIt6xW2jaA" name="to"/>
          <outPorts id="_K08FAI2CEeKjOIt6xW2jaA" name="msg"/>
          <outPorts id="_K08FAY2CEeKjOIt6xW2jaA" name="param"/>
          <outPorts id="_K08sEI2CEeKjOIt6xW2jaA" name="pkgid"/>
          <outPorts id="_K09TII2CEeKjOIt6xW2jaA" name="time"/>
          <inPorts id="_K0jDco2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K0qYMI2CEeKjOIt6xW2jaA" name="Unit Delay1" incomingLines="_K0v3wo2CEeKjOIt6xW2jaA" outgoingLines="_K0yUBI2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[405, 683, 440, 717]"/>
          <outPorts id="_K1CysI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K1DZwI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K0qYMY2CEeKjOIt6xW2jaA" name="Unit Delay2" incomingLines="_K0xF5I2CEeKjOIt6xW2jaA" outgoingLines="_K0ziIY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[410, 738, 445, 772]"/>
          <outPorts id="_K1EA0I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K1En4I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:SubSystem" id="_K0q_QI2CEeKjOIt6xW2jaA" name="DataLinkLayer" incomingLines="_K0we0I2CEeKjOIt6xW2jaA _K0we042CEeKjOIt6xW2jaA _K0xF4Y2CEeKjOIt6xW2jaA _K0xF4o2CEeKjOIt6xW2jaA _K0xs8I2CEeKjOIt6xW2jaA _K0xs842CEeKjOIt6xW2jaA _K0yUAI2CEeKjOIt6xW2jaA _K0y7Eo2CEeKjOIt6xW2jaA _K0y7E42CEeKjOIt6xW2jaA _K0ziII2CEeKjOIt6xW2jaA" outgoingLines="_K0v3wI2CEeKjOIt6xW2jaA _K0v3wY2CEeKjOIt6xW2jaA _K0v3w42CEeKjOIt6xW2jaA _K0xF4I2CEeKjOIt6xW2jaA _K0xs9I2CEeKjOIt6xW2jaA _K0yUA42CEeKjOIt6xW2jaA _K0y7EI2CEeKjOIt6xW2jaA _K0y7EY2CEeKjOIt6xW2jaA _K0ziIo2CEeKjOIt6xW2jaA _K00JMI2CEeKjOIt6xW2jaA">
          <parameters name="System.Location" value="[1284, 50, 2556, 995]"/>
          <parameters name="Position" value="[470, 33, 615, 402]"/>
          <outPorts id="_K1FO8I2CEeKjOIt6xW2jaA" name="snd_from_out" incomingLines="_K1Ufgo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 48, 685, 62]"/>
            <inPorts id="_K1wkYI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1F2AI2CEeKjOIt6xW2jaA" name="snd_to_out" incomingLines="_K1T4c42CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 83, 685, 97]"/>
            <inPorts id="_K1xygI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1GdEI2CEeKjOIt6xW2jaA" name="snd_msg_out" incomingLines="_K1SqVI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 118, 685, 132]"/>
            <inPorts id="_K1yZkI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1HEII2CEeKjOIt6xW2jaA" name="snd_param_out" incomingLines="_K1UfgY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 153, 685, 167]"/>
            <inPorts id="_K1znsI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1HEIY2CEeKjOIt6xW2jaA" name="snd_pkgid_out" incomingLines="_K1SDQ42CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[655, 188, 685, 202]"/>
            <inPorts id="_K12D8I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1HrMI2CEeKjOIt6xW2jaA" name="snd_time_out" incomingLines="_K1SqVY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 328, 685, 342]"/>
            <inPorts id="_K14gMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1ISQI2CEeKjOIt6xW2jaA" name="recv_from_out" incomingLines="_K1T4cY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 223, 685, 237]"/>
            <inPorts id="_K15uUI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1I5UI2CEeKjOIt6xW2jaA" name="recv_msg_out" incomingLines="_K1SqUI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 258, 685, 272]"/>
            <inPorts id="_K18KkI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1JgYI2CEeKjOIt6xW2jaA" name="recv_param_out" incomingLines="_K1SDQY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 293, 685, 307]"/>
            <inPorts id="_K1-m0I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1JgYY2CEeKjOIt6xW2jaA" name="debug" incomingLines="_K1VGkI2CEeKjOIt6xW2jaA" dimensions="-1">
            <parameters name="Position" value="[770, 398, 800, 412]"/>
            <inPorts id="_K2CRMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K1KHcI2CEeKjOIt6xW2jaA" name="recv_from_in" outgoingLines="_K1TRYI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 208, 330, 222]"/>
            <outPorts id="_K2EGYI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1KHcY2CEeKjOIt6xW2jaA" name="recv_to_in" outgoingLines="_K1SDQo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 243, 330, 257]"/>
            <outPorts id="_K2HJsI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1KugI2CEeKjOIt6xW2jaA" name="recv_msg_in" outgoingLines="_K1UfgI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 278, 330, 292]"/>
            <outPorts id="_K2I-4I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1LVkI2CEeKjOIt6xW2jaA" name="recv_param_in" outgoingLines="_K1T4co2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 313, 330, 327]"/>
            <outPorts id="_K2K0EI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1LVkY2CEeKjOIt6xW2jaA" name="recv_pkgid_in" outgoingLines="_K1SqUY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[300, 348, 330, 362]"/>
            <outPorts id="_K2NQUI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1L8oI2CEeKjOIt6xW2jaA" name="recv_time_in" outgoingLines="_K1TRYY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 383, 330, 397]"/>
            <outPorts id="_K2PFgI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1MjsI2CEeKjOIt6xW2jaA" name="snd_from_in" outgoingLines="_K1SDRI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 68, 330, 82]"/>
            <outPorts id="_K2QToI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1MjsY2CEeKjOIt6xW2jaA" name="snd_to_in" outgoingLines="_K1TRYo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 103, 330, 117]"/>
            <outPorts id="_K2SI0I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1NKwI2CEeKjOIt6xW2jaA" name="snd_msg_in" outgoingLines="_K1SqUo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 138, 330, 152]"/>
            <outPorts id="_K2T-AI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1Nx0I2CEeKjOIt6xW2jaA" name="snd_param_in" outgoingLines="_K1T4cI2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 173, 330, 187]"/>
            <outPorts id="_K2VMII2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <lines id="_K1RcMI2CEeKjOIt6xW2jaA" sourcePort="_K2pVMI2CEeKjOIt6xW2jaA" targetPort="_K2arsI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1OY4I2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SDQI2CEeKjOIt6xW2jaA" sourcePort="_K2m48I2CEeKjOIt6xW2jaA" targetPort="_K2YPcI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1OY4I2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SDQY2CEeKjOIt6xW2jaA" sourcePort="_K2kcsI2CEeKjOIt6xW2jaA" targetPort="_K1-m0I2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1JgYI2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SDQo2CEeKjOIt6xW2jaA" sourcePort="_K2HJsI2CEeKjOIt6xW2jaA" targetPort="_K2tmoI2CEeKjOIt6xW2jaA" sourceBlock="_K1KHcY2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SDQ42CEeKjOIt6xW2jaA" sourcePort="_K2hZYI2CEeKjOIt6xW2jaA" targetPort="_K12D8I2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1HEIY2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SDRI2CEeKjOIt6xW2jaA" sourcePort="_K2QToI2CEeKjOIt6xW2jaA" targetPort="_K2p8QI2CEeKjOIt6xW2jaA" sourceBlock="_K1MjsI2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SqUI2CEeKjOIt6xW2jaA" sourcePort="_K2j1oI2CEeKjOIt6xW2jaA" targetPort="_K18KkI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1I5UI2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SqUY2CEeKjOIt6xW2jaA" sourcePort="_K2NQUI2CEeKjOIt6xW2jaA" targetPort="_K2wC4I2CEeKjOIt6xW2jaA" sourceBlock="_K1LVkY2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SqUo2CEeKjOIt6xW2jaA" sourcePort="_K2T-AI2CEeKjOIt6xW2jaA" targetPort="_K2rKYI2CEeKjOIt6xW2jaA" sourceBlock="_K1NKwI2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SqU42CEeKjOIt6xW2jaA" sourcePort="_K22JgI2CEeKjOIt6xW2jaA" targetPort="_K2yfII2CEeKjOIt6xW2jaA" sourceBlock="_K1PnAI2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SqVI2CEeKjOIt6xW2jaA" sourcePort="_K2fkMI2CEeKjOIt6xW2jaA" targetPort="_K1yZkI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1GdEI2CEeKjOIt6xW2jaA"/>
          <lines id="_K1SqVY2CEeKjOIt6xW2jaA" sourcePort="_K2lq0I2CEeKjOIt6xW2jaA" targetPort="_K14gMI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1HrMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K1TRYI2CEeKjOIt6xW2jaA" sourcePort="_K2EGYI2CEeKjOIt6xW2jaA" targetPort="_K2s_kI2CEeKjOIt6xW2jaA" sourceBlock="_K1KHcI2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1TRYY2CEeKjOIt6xW2jaA" sourcePort="_K2PFgI2CEeKjOIt6xW2jaA" targetPort="_K2xRAI2CEeKjOIt6xW2jaA" sourceBlock="_K1L8oI2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1TRYo2CEeKjOIt6xW2jaA" sourcePort="_K2SI0I2CEeKjOIt6xW2jaA" targetPort="_K2qjUI2CEeKjOIt6xW2jaA" sourceBlock="_K1MjsY2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1T4cI2CEeKjOIt6xW2jaA" sourcePort="_K2VMII2CEeKjOIt6xW2jaA" targetPort="_K2rxcI2CEeKjOIt6xW2jaA" sourceBlock="_K1Nx0I2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1T4cY2CEeKjOIt6xW2jaA" sourcePort="_K2ingI2CEeKjOIt6xW2jaA" targetPort="_K15uUI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1ISQI2CEeKjOIt6xW2jaA"/>
          <lines id="_K1T4co2CEeKjOIt6xW2jaA" sourcePort="_K2K0EI2CEeKjOIt6xW2jaA" targetPort="_K2u0wI2CEeKjOIt6xW2jaA" sourceBlock="_K1LVkI2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1T4c42CEeKjOIt6xW2jaA" sourcePort="_K2e9II2CEeKjOIt6xW2jaA" targetPort="_K1xygI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1F2AI2CEeKjOIt6xW2jaA"/>
          <lines id="_K1UfgI2CEeKjOIt6xW2jaA" sourcePort="_K2I-4I2CEeKjOIt6xW2jaA" targetPort="_K2uNsI2CEeKjOIt6xW2jaA" sourceBlock="_K1KugI2CEeKjOIt6xW2jaA" targetBlock="_K1OY4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K1UfgY2CEeKjOIt6xW2jaA" sourcePort="_K2gyUI2CEeKjOIt6xW2jaA" targetPort="_K1znsI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1HEII2CEeKjOIt6xW2jaA"/>
          <lines id="_K1Ufgo2CEeKjOIt6xW2jaA" sourcePort="_K2dvAI2CEeKjOIt6xW2jaA" targetPort="_K1wkYI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1FO8I2CEeKjOIt6xW2jaA"/>
          <lines id="_K1VGkI2CEeKjOIt6xW2jaA" sourcePort="_K2XBUI2CEeKjOIt6xW2jaA" targetPort="_K2CRMI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4I2CEeKjOIt6xW2jaA" targetBlock="_K1JgYY2CEeKjOIt6xW2jaA"/>
          <lines id="_K1VGkY2CEeKjOIt6xW2jaA" sourcePort="_K2oHEI2CEeKjOIt6xW2jaA" targetPort="_K2ZdkI2CEeKjOIt6xW2jaA" sourceBlock="_K1OY4Y2CEeKjOIt6xW2jaA" targetBlock="_K1OY4I2CEeKjOIt6xW2jaA"/>
          <blocks xsi:type="model:BusCreator" id="_K1OY4I2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_K1RcMI2CEeKjOIt6xW2jaA _K1SDQI2CEeKjOIt6xW2jaA _K1VGkY2CEeKjOIt6xW2jaA" outgoingLines="_K1VGkI2CEeKjOIt6xW2jaA">
            <parameters name="Position" value="[690, 349, 695, 461]"/>
            <outPorts id="_K2XBUI2CEeKjOIt6xW2jaA"/>
            <inPorts id="_K2YPcI2CEeKjOIt6xW2jaA" name="queue_sending_ratio"/>
            <inPorts id="_K2ZdkI2CEeKjOIt6xW2jaA" name="queue_received_ratio"/>
            <inPorts id="_K2arsI2CEeKjOIt6xW2jaA" name="queue_ack_ratio"/>
          </blocks>
          <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K1OY4Y2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_K1SDQo2CEeKjOIt6xW2jaA _K1SDRI2CEeKjOIt6xW2jaA _K1SqUY2CEeKjOIt6xW2jaA _K1SqUo2CEeKjOIt6xW2jaA _K1SqU42CEeKjOIt6xW2jaA _K1TRYI2CEeKjOIt6xW2jaA _K1TRYY2CEeKjOIt6xW2jaA _K1TRYo2CEeKjOIt6xW2jaA _K1T4cI2CEeKjOIt6xW2jaA _K1T4co2CEeKjOIt6xW2jaA _K1UfgI2CEeKjOIt6xW2jaA" outgoingLines="_K1RcMI2CEeKjOIt6xW2jaA _K1SDQI2CEeKjOIt6xW2jaA _K1SDQY2CEeKjOIt6xW2jaA _K1SDQ42CEeKjOIt6xW2jaA _K1SqUI2CEeKjOIt6xW2jaA _K1SqVI2CEeKjOIt6xW2jaA _K1SqVY2CEeKjOIt6xW2jaA _K1T4cY2CEeKjOIt6xW2jaA _K1T4c42CEeKjOIt6xW2jaA _K1UfgY2CEeKjOIt6xW2jaA _K1Ufgo2CEeKjOIt6xW2jaA _K1VGkY2CEeKjOIt6xW2jaA" code="function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)&#xA;%#eml&#xA;eml.extrinsic('warning', 'disp', 'fprintf');&#xA;&#xA;%Constants&#xA;BUS_SIZE =  numel(snd_msg_in);&#xA;TIMEOUT_ACK     = 2.0;&#xA;MSG_ACK         = 255;&#xA;QUEUE_SIZE = 10;&#xA;QUEUE_SIZE_SENDING = QUEUE_SIZE * BUS_SIZE;&#xA;QUEUE_SIZE_ACK  = QUEUE_SIZE* BUS_SIZE;&#xA;QUEUE_SIZE_RECEIVED = QUEUE_SIZE *BUS_SIZE;&#xA;&#xA;&#xA;%Init&#xA;from    = zeros(1,BUS_SIZE,'uint8');&#xA;to      = zeros(1,BUS_SIZE,'uint8');&#xA;msg     = zeros(1,BUS_SIZE,'uint16');&#xA;param   = zeros(1,BUS_SIZE,'double');&#xA;pkgid   = zeros(1,BUS_SIZE,'uint32');&#xA;time    = zeros(1,BUS_SIZE,'double');&#xA; &#xA;recv_from_out    = zeros(1,BUS_SIZE,'uint8');&#xA;recv_msg_out     = zeros(1,BUS_SIZE,'uint16');&#xA;recv_param_out   = zeros(1,BUS_SIZE,'double');&#xA;&#xA;&#xA;recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);&#xA;&#xA;&#xA;&#xA;%Persistent variables&#xA;persistent sendingQueue ackQueue receivedQueue lastPkgid&#xA;&#xA;if isempty(lastPkgid)&#xA;    lastPkgid = uint32(0);&#xA;end&#xA;&#xA;if isempty(sendingQueue)&#xA;    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);&#xA;end&#xA;&#xA;if isempty(ackQueue)&#xA;    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);&#xA;end&#xA;&#xA;if isempty(receivedQueue)&#xA;    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);&#xA;end&#xA;&#xA;%compute stats&#xA;queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;&#xA;queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;&#xA;queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;&#xA;&#xA;%Step 1: Check for a new outgoing packet&#xA;for i = 1:BUS_SIZE    &#xA;    if snd_msg_in(i) ~= 0&#xA;        lastPkgid = lastPkgid +1;&#xA;        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);&#xA;&#xA;        %Add packet so the outgoing queue&#xA;        sendingQueue = enqueue(sendingQueue, outgoing); &#xA;    end&#xA;end&#xA;    &#xA;%Step 2: Check for a new incoming packet&#xA;for i = 1:length(recv_in)&#xA;    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);&#xA;    if incoming.from ~= 0 &amp;&amp; incoming.to == snd_from_in&#xA;        if incoming.msg == MSG_ACK&#xA;            %Remove packet from ackQueue&#xA;            for j=1:length(ackQueue)&#xA;                if ackQueue(j).pkgid == uint32(incoming.param)&#xA;                    ackQueue = dequeue(ackQueue,j);&#xA;                    break;&#xA;                end&#xA;            end&#xA;        else&#xA;            %Send ACK&#xA;            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);&#xA;            sendingQueue = enqueue(sendingQueue,ackPacket);&#xA;&#xA;            %Check for duplicated packets&#xA;            duplicatedPacket = false;&#xA;            for j=1:length(receivedQueue)&#xA;                if receivedQueue(j).pkgid == incoming.pkgid &amp;&amp; receivedQueue(j).from == incoming.from&#xA;                    duplicatedPacket = true;&#xA;                    break;&#xA;                end&#xA;            end&#xA;&#xA;            if duplicatedPacket == false&#xA;                %save packet&#xA;                receivedQueue = enqueue(receivedQueue, incoming);            &#xA;            end&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;%Step 3: Forward incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if receivedQueue(1).from ~= 0&#xA;        recv_from_out(i)    = receivedQueue(1).from;&#xA;        recv_msg_out(i)     = receivedQueue(1).msg;&#xA;        recv_param_out(i)   = receivedQueue(1).param;&#xA;        receivedQueue = dequeue(receivedQueue,1);&#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;%Step 4: Timeout reached? Send packet again&#xA;for i = 1:length(ackQueue)&#xA;    if ackQueue(i).to ~= 0&#xA;        if ackQueue(i).time + TIMEOUT_ACK &lt;= currentTime&#xA;            %Reset counter&#xA;            ackQueue(i).time = currentTime;&#xA;            %Send again&#xA;            sendingQueue = enqueue(sendingQueue, ackQueue(i));&#xA;            %Remove packet from ackQueue&#xA;            ackQueue = dequeue(ackQueue, i);&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;&#xA;%Step 5: Send outgoing packet&#xA;for i = 1:BUS_SIZE&#xA;    if sendingQueue(1).to ~= 0    &#xA;        from(i)    = sendingQueue(1).from;&#xA;        to(i)      = sendingQueue(1).to;&#xA;        msg(i)     = sendingQueue(1).msg;&#xA;        param(i)   = sendingQueue(1).param;&#xA;        pkgid(i)   = sendingQueue(1).pkgid;&#xA;        time(i)    = sendingQueue(1).time;&#xA;&#xA;        %Add it to the ack queue&#xA;        if sendingQueue(1).msg ~= MSG_ACK&#xA;            ackQueue = enqueue(ackQueue, sendingQueue(1));&#xA;        end&#xA;&#xA;        %remove packet from sending queue&#xA;        sendingQueue = dequeue(sendingQueue, 1);    &#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%%                          H E L P E R&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function p = packet(from, to, msg, param, pkgid, time)&#xA;%#eml&#xA;%Defines a packet&#xA;p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));&#xA;&#xA;function bus = bus(from, to, msg, param, pkgid, time, size) %emp&#xA;%Create an empty bus&#xA;bus = repmat(packet(0,0,0,0,0,0), 1, size);&#xA;for i=1:size&#xA;    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));&#xA;end&#xA;&#xA;&#xA;function queue = enqueue(queue, packet)&#xA;%#eml&#xA;eml.extrinsic('warning', 'sprintf');&#xA;for i = 1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;function queue = dequeue(queue, index)&#xA;%#eml&#xA;assert(index &lt;= length(queue))&#xA;for i=index:length(queue)-1;&#xA;    queue(i) = queue(i+1);&#xA;end&#xA;queue(length(queue)) = packet(0,0,0,0,0,0);&#xA;&#xA;function num = queueNumElements(queue)&#xA;%#eml&#xA;num = 0;&#xA;for i = 1:length(queue)&#xA;    if queue(i).to ~= uint8(0)&#xA;        num = num+1;&#xA;    end&#xA;end    &#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);">
            <parameters name="System.Location" value="[257, 457, 812, 717]"/>
            <parameters name="Position" value="[410, 41, 595, 454]"/>
            <outPorts id="_K2dvAI2CEeKjOIt6xW2jaA" name="from" dimensions="-1">
              <parameters name="Position" value="[460, 101, 480, 119]"/>
              <inPorts id="_K3PLEI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2e9II2CEeKjOIt6xW2jaA" name="to" dimensions="-1">
              <parameters name="Position" value="[460, 136, 480, 154]"/>
              <inPorts id="_K3RAQI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2fkMI2CEeKjOIt6xW2jaA" name="msg" dimensions="-1">
              <parameters name="Position" value="[460, 171, 480, 189]"/>
              <inPorts id="_K3SOYI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2gyUI2CEeKjOIt6xW2jaA" name="param" dimensions="-1">
              <parameters name="Position" value="[460, 206, 480, 224]"/>
              <inPorts id="_K3UDkI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2hZYI2CEeKjOIt6xW2jaA" name="pkgid" dimensions="-1">
              <parameters name="Position" value="[460, 246, 480, 264]"/>
              <inPorts id="_K3VRsI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2ingI2CEeKjOIt6xW2jaA" name="recv_from_out" dimensions="-1">
              <parameters name="Position" value="[460, 281, 480, 299]"/>
              <inPorts id="_K3Wf0I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2j1oI2CEeKjOIt6xW2jaA" name="recv_msg_out" dimensions="-1">
              <parameters name="Position" value="[460, 316, 480, 334]"/>
              <inPorts id="_K3Xt8I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2kcsI2CEeKjOIt6xW2jaA" name="recv_param_out" dimensions="-1">
              <parameters name="Position" value="[460, 351, 480, 369]"/>
              <inPorts id="_K3Y8EI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2lq0I2CEeKjOIt6xW2jaA" name="time" dimensions="-1">
              <parameters name="Position" value="[460, 386, 480, 404]"/>
              <inPorts id="_K3axQI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2m48I2CEeKjOIt6xW2jaA" name="queue_sending_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 426, 480, 444]"/>
              <inPorts id="_K3b_YI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2oHEI2CEeKjOIt6xW2jaA" name="queue_received_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 461, 480, 479]"/>
              <inPorts id="_K3d0kI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K2pVMI2CEeKjOIt6xW2jaA" name="queue_ack_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 496, 480, 514]"/>
              <inPorts id="_K3fCsI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <inPorts id="_K2p8QI2CEeKjOIt6xW2jaA" name="snd_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 101, 40, 119]"/>
              <outPorts id="_K3g34I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2qjUI2CEeKjOIt6xW2jaA" name="snd_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 136, 40, 154]"/>
              <outPorts id="_K3iGAI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2rKYI2CEeKjOIt6xW2jaA" name="snd_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 171, 40, 189]"/>
              <outPorts id="_K3jUII2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2rxcI2CEeKjOIt6xW2jaA" name="snd_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 206, 40, 224]"/>
              <outPorts id="_K3kiQI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2s_kI2CEeKjOIt6xW2jaA" name="recv_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 246, 40, 264]"/>
              <outPorts id="_K3mXcI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2tmoI2CEeKjOIt6xW2jaA" name="recv_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 281, 40, 299]"/>
              <outPorts id="_K3oMoI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2uNsI2CEeKjOIt6xW2jaA" name="recv_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 316, 40, 334]"/>
              <outPorts id="_K3pawI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2u0wI2CEeKjOIt6xW2jaA" name="recv_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 351, 40, 369]"/>
              <outPorts id="_K3qB0I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2wC4I2CEeKjOIt6xW2jaA" name="recv_pkgid_in" dimensions="-1" type="uint32">
              <parameters name="Position" value="[20, 386, 40, 404]"/>
              <outPorts id="_K4UJII2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2xRAI2CEeKjOIt6xW2jaA" name="recv_time_in" dimensions="-1">
              <parameters name="Position" value="[20, 426, 40, 444]"/>
              <outPorts id="_K4VXQI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K2yfII2CEeKjOIt6xW2jaA" name="currentTime" dimensions="-1">
              <parameters name="Position" value="[20, 461, 40, 479]"/>
              <outPorts id="_K4V-UI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
          </blocks>
          <blocks xsi:type="model:DigitalClock" id="_K1PnAI2CEeKjOIt6xW2jaA" name="Digital Clock" outgoingLines="_K1SqU42CEeKjOIt6xW2jaA" sampleTime="0.1">
            <parameters name="Position" value="[280, 413, 345, 437]"/>
            <outPorts id="_K22JgI2CEeKjOIt6xW2jaA"/>
          </blocks>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K0rmUI2CEeKjOIt6xW2jaA" name="Unit Delay3" incomingLines="_K0yUAY2CEeKjOIt6xW2jaA" outgoingLines="_K0y7FI2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1165, 533, 1200, 567]"/>
          <outPorts id="_K1VtoI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K1WUsI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:BusCreator" id="_K0kRkI2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_K0v3wI2CEeKjOIt6xW2jaA _K0xs9I2CEeKjOIt6xW2jaA _K0yUA42CEeKjOIt6xW2jaA _K0y7EI2CEeKjOIt6xW2jaA _K0y7EY2CEeKjOIt6xW2jaA _K0ziIo2CEeKjOIt6xW2jaA" outgoingLines="_K0TL0Y2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[830, 37, 835, 258]"/>
          <outPorts id="_K0kRkY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K0-hQI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K0_IUI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K0_IUY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K0_vYI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K0_vYY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K1AWcI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K0rmUY2CEeKjOIt6xW2jaA" name="Unit Delay4" incomingLines="_K0we1I2CEeKjOIt6xW2jaA" outgoingLines="_K0xs8Y2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1170, 613, 1205, 647]"/>
          <outPorts id="_K1Xi0I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K1YJ4I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_K0sNYI2CEeKjOIt6xW2jaA" name="Terminator" incomingLines="_K0we0o2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[1155, 700, 1175, 720]"/>
          <inPorts id="_K1ZYAI2CEeKjOIt6xW2jaA" name="1"/>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K0s0cI2CEeKjOIt6xW2jaA" name="Receive Packet" incomingLines="_K0v3wY2CEeKjOIt6xW2jaA _K0v3w42CEeKjOIt6xW2jaA _K0we0Y2CEeKjOIt6xW2jaA _K0xF4I2CEeKjOIt6xW2jaA _K0xs8o2CEeKjOIt6xW2jaA" outgoingLines="_K0we0o2CEeKjOIt6xW2jaA _K0we1I2CEeKjOIt6xW2jaA _K0yUAY2CEeKjOIt6xW2jaA" code="function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;% This function receives packets and adds them to the event queue.&#xA;% A packet consists of a source, a message and an optional parameter for &#xA;% the message. Source and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;SOURCE = 2;&#xA;MESSAGE = 1;&#xA;BUS_SIZE = numel(packetFrom);&#xA;QUEUE_SIZE = 10;&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;bufferOverflow = false;&#xA;&#xA;%New incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if packetFrom(i) ~= 0 &#xA;        bufferOverflow = true;&#xA;        %Add it to the incoming event Queue&#xA;        for j = 1:QUEUE_SIZE&#xA;            %Search for an empty place&#xA;            if eventQueue(j,SOURCE) == 0&#xA;                eventQueue(j,SOURCE)    = packetFrom(i);&#xA;                eventQueue(j,MESSAGE)   = packetMsg(i);&#xA;                eventParamQueue(j)      = packetParam(i);&#xA;                bufferOverflow = false;&#xA;                break;&#xA;            end&#xA;        end        &#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[900, 506, 1085, 754]"/>
          <outPorts id="_K1amII2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_K25z4I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1b0QI2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_K27pEI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1cbUI2CEeKjOIt6xW2jaA" name="bufferOverflow" dimensions="-1" type="boolean">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_K283MI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K1dCYI2CEeKjOIt6xW2jaA" name="packetFrom" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_K2-FUI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1dpcI2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_K2_TcI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1dpcY2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_K3AhkI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1eQgI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 206, 40, 224]"/>
            <outPorts id="_K3BIoI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1feoI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 246, 40, 264]"/>
            <outPorts id="_K3CWwI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K0uCkI2CEeKjOIt6xW2jaA" name="Send Packet" incomingLines="_K0we1Y2CEeKjOIt6xW2jaA _K0xF442CEeKjOIt6xW2jaA _K0yUAo2CEeKjOIt6xW2jaA" outgoingLines="_K0v3wo2CEeKjOIt6xW2jaA _K0xF4Y2CEeKjOIt6xW2jaA _K0xF5I2CEeKjOIt6xW2jaA _K0y7E42CEeKjOIt6xW2jaA" code="function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;&#xA;% This function creates packets from the event queue. A packet consists&#xA;% of a destination, a message and an optional parameter for the message.&#xA;% Destination and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;DESTINATION = 2;&#xA;MESSAGE = 1;&#xA;QUEUE_SIZE = 10;&#xA;&#xA;busSize = numel(busSizeSignal);&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;packetMsg = zeros(1,busSize,'uint16');&#xA;packetParam = zeros(1,busSize,'double');&#xA;&#xA;%There is an event in the queue&#xA;for i = 1:busSize   &#xA;    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0&#xA;        %Create packet from the firs entry in the queue&#xA;        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));&#xA;        packetParam(i) = eventParamQueue(1);&#xA;        %Remove the event from the queue&#xA;        for j=1:QUEUE_SIZE - 1&#xA;            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);&#xA;            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);&#xA;            eventParamQueue(j)          = eventParamQueue(j+1);&#xA;        end&#xA;        %Set last element to zero&#xA;        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;&#xA;        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;&#xA;        eventParamQueue(QUEUE_SIZE)    = 0;&#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[150, 514, 310, 781]"/>
          <outPorts id="_K1ih8I2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_K3Dk4I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1jwEI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_K3EzAI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1jwEY2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_K3GoMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K1llQI2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 206, 480, 224]"/>
            <inPorts id="_K3JEcI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K1nacI2CEeKjOIt6xW2jaA" name="busSizeSignal" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_K3KSkI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1ookI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_K3MHwI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K1p2sI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_K3NV4I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_K00JMY2CEeKjOIt6xW2jaA" name="Terminator2" incomingLines="_K00JMI2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[780, 362, 805, 388]"/>
          <inPorts id="_K1v9UI2CEeKjOIt6xW2jaA"/>
        </blocks>
      </blocks>
      <blocks xsi:type="model:SubSystem" id="_K6X-oI2CEeKjOIt6xW2jaA" name="Link Layer BAT_Info_To_SensorProcessing" incomingLines="_K6O0sI2CEeKjOIt6xW2jaA _K6PbwY2CEeKjOIt6xW2jaA _K6Pbwo2CEeKjOIt6xW2jaA _K6Pbw42CEeKjOIt6xW2jaA _K6WJcI2CEeKjOIt6xW2jaA _K6ZMwI2CEeKjOIt6xW2jaA _K6ZMwY2CEeKjOIt6xW2jaA" outgoingLines="_K6O0sY2CEeKjOIt6xW2jaA _K6PbwI2CEeKjOIt6xW2jaA _K6QC0I2CEeKjOIt6xW2jaA _K6QC0Y2CEeKjOIt6xW2jaA _K6WJcY2CEeKjOIt6xW2jaA">
        <parameters name="System.Location" value="[1284, 164, 2556, 887]"/>
        <parameters name="Position" value="[250, 1640, 800, 2040]"/>
        <outPorts id="_K6ky8I2CEeKjOIt6xW2jaA" name="port_out" incomingLines="_K6ViYY2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[960, 143, 990, 157]"/>
          <inPorts id="_K6mBEY2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K6aa4I2CEeKjOIt6xW2jaA" name="write_event_queue_in" incomingLines="_K648AI2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[1245, 543, 1275, 557]"/>
          <inPorts id="_K690gI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K6bpAI2CEeKjOIt6xW2jaA" name="write_event_param_queue_in" incomingLines="_K63G0Y2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[1245, 623, 1275, 637]"/>
          <inPorts id="_K6-bkI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K6esUI2CEeKjOIt6xW2jaA" name="write_event_queue_out" incomingLines="_K63t5I2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[495, 693, 525, 707]"/>
          <inPorts id="_K7Be4I2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K6fTYI2CEeKjOIt6xW2jaA" name="write_event_param_queue_out" incomingLines="_K648Ao2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[495, 748, 525, 762]"/>
          <inPorts id="_K7CF8I2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_K6iWsY2CEeKjOIt6xW2jaA" name="port_in" outgoingLines="_K6ViYI2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[55, 148, 85, 162]"/>
          <outPorts id="_K6jk0Y2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K6qSgI2CEeKjOIt6xW2jaA" name="net_address" outgoingLines="_K64U8o2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 263, 265, 277]"/>
          <outPorts id="_K7L28I2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K6rgoI2CEeKjOIt6xW2jaA" name="receiver_net_address" outgoingLines="_K614sY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 298, 265, 312]"/>
          <outPorts id="_K7MeAI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K6Zz0I2CEeKjOIt6xW2jaA" name="read_event_queue_in" outgoingLines="_K63G0o2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[780, 673, 810, 687]"/>
          <outPorts id="_K67YQI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K6cQEI2CEeKjOIt6xW2jaA" name="read_event_param_queue_in" outgoingLines="_K61Ro42CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[780, 723, 810, 737]"/>
          <outPorts id="_K6_CoI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K6c3II2CEeKjOIt6xW2jaA" name="read_event_queue_out" outgoingLines="_K614s42CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[55, 638, 85, 652]"/>
          <outPorts id="_K6_psI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K6eFQI2CEeKjOIt6xW2jaA" name="read_event_param_queue_out" outgoingLines="_K62fw42CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[55, 728, 85, 742]"/>
          <outPorts id="_K7AQwI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <lines id="_K6ViYI2CEeKjOIt6xW2jaA" sourcePort="_K6jk0Y2CEeKjOIt6xW2jaA" targetPort="_K6kL4I2CEeKjOIt6xW2jaA" sourceBlock="_K6iWsY2CEeKjOIt6xW2jaA" targetBlock="_K6jk0I2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_K6ViYY2CEeKjOIt6xW2jaA" sourcePort="_K6mBEI2CEeKjOIt6xW2jaA" targetPort="_K6mBEY2CEeKjOIt6xW2jaA" sourceBlock="_K6laAI2CEeKjOIt6xW2jaA" targetBlock="_K6ky8I2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_K60qkI2CEeKjOIt6xW2jaA" sourcePort="_K7PhUY2CEeKjOIt6xW2jaA" targetPort="_K7JasI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6laAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K60qkY2CEeKjOIt6xW2jaA" sourcePort="_K7R9kI2CEeKjOIt6xW2jaA" targetPort="_K7jqYI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6vyEY2CEeKjOIt6xW2jaA"/>
        <lines id="_K61RoI2CEeKjOIt6xW2jaA" sourcePort="_K7pxAI2CEeKjOIt6xW2jaA" targetPort="_K7NFEY2CEeKjOIt6xW2jaA" sourceBlock="_K6xnQI2CEeKjOIt6xW2jaA" targetBlock="_K6tV0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K61RoY2CEeKjOIt6xW2jaA" sourcePort="_K7RWgI2CEeKjOIt6xW2jaA" targetPort="_K7jDUI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6vyEY2CEeKjOIt6xW2jaA"/>
        <lines id="_K61Roo2CEeKjOIt6xW2jaA" sourcePort="_K7D7II2CEeKjOIt6xW2jaA" targetPort="_K7UZ0I2CEeKjOIt6xW2jaA" sourceBlock="_K6jk0I2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K61Ro42CEeKjOIt6xW2jaA" sourcePort="_K6_CoI2CEeKjOIt6xW2jaA" targetPort="_K7lfkI2CEeKjOIt6xW2jaA" sourceBlock="_K6cQEI2CEeKjOIt6xW2jaA" targetBlock="_K6vyEY2CEeKjOIt6xW2jaA"/>
        <lines id="_K614sI2CEeKjOIt6xW2jaA" sourcePort="_K7icQI2CEeKjOIt6xW2jaA" targetPort="_K7gAAI2CEeKjOIt6xW2jaA" sourceBlock="_K6vyEY2CEeKjOIt6xW2jaA" targetBlock="_K6vyEI2CEeKjOIt6xW2jaA"/>
        <lines id="_K614sY2CEeKjOIt6xW2jaA" sourcePort="_K7MeAI2CEeKjOIt6xW2jaA" targetPort="_K7WPAY2CEeKjOIt6xW2jaA" sourceBlock="_K6rgoI2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K614so2CEeKjOIt6xW2jaA" sourcePort="_K7h1MI2CEeKjOIt6xW2jaA" targetPort="_K7fY8I2CEeKjOIt6xW2jaA" sourceBlock="_K6vyEY2CEeKjOIt6xW2jaA" targetBlock="_K6vLAY2CEeKjOIt6xW2jaA"/>
        <lines id="_K614s42CEeKjOIt6xW2jaA" sourcePort="_K6_psI2CEeKjOIt6xW2jaA" targetPort="_K7sNQI2CEeKjOIt6xW2jaA" sourceBlock="_K6c3II2CEeKjOIt6xW2jaA" targetBlock="_K6xnQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K62fwI2CEeKjOIt6xW2jaA" sourcePort="_K7R9kY2CEeKjOIt6xW2jaA" targetPort="_K7kRcI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6vyEY2CEeKjOIt6xW2jaA"/>
        <lines id="_K62fwY2CEeKjOIt6xW2jaA" sourcePort="_K7pJ8I2CEeKjOIt6xW2jaA" targetPort="_K7XdII2CEeKjOIt6xW2jaA" sourceBlock="_K6xnQI2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K62fwo2CEeKjOIt6xW2jaA" sourcePort="_K7DUEY2CEeKjOIt6xW2jaA" targetPort="_K7TywI2CEeKjOIt6xW2jaA" sourceBlock="_K6jk0I2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K62fw42CEeKjOIt6xW2jaA" sourcePort="_K7AQwI2CEeKjOIt6xW2jaA" targetPort="_K7tbYI2CEeKjOIt6xW2jaA" sourceBlock="_K6eFQI2CEeKjOIt6xW2jaA" targetBlock="_K6xnQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K62fxI2CEeKjOIt6xW2jaA" sourcePort="_K7q_II2CEeKjOIt6xW2jaA" targetPort="_K7OTMI2CEeKjOIt6xW2jaA" sourceBlock="_K6xnQI2CEeKjOIt6xW2jaA" targetBlock="_K6t84I2CEeKjOIt6xW2jaA"/>
        <lines id="_K63G0I2CEeKjOIt6xW2jaA" sourcePort="_K7EiMY2CEeKjOIt6xW2jaA" targetPort="_K7VA4Y2CEeKjOIt6xW2jaA" sourceBlock="_K6jk0I2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K63G0Y2CEeKjOIt6xW2jaA" sourcePort="_K7ex4I2CEeKjOIt6xW2jaA" targetPort="_K6-bkI2CEeKjOIt6xW2jaA" sourceBlock="_K6vLAY2CEeKjOIt6xW2jaA" targetBlock="_K6bpAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K63G0o2CEeKjOIt6xW2jaA" sourcePort="_K67YQI2CEeKjOIt6xW2jaA" targetPort="_K7k4gI2CEeKjOIt6xW2jaA" sourceBlock="_K6Zz0I2CEeKjOIt6xW2jaA" targetBlock="_K6vyEY2CEeKjOIt6xW2jaA"/>
        <lines id="_K63G042CEeKjOIt6xW2jaA" sourcePort="_K7EiMI2CEeKjOIt6xW2jaA" targetPort="_K7VA4I2CEeKjOIt6xW2jaA" sourceBlock="_K6jk0I2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K63G1I2CEeKjOIt6xW2jaA" sourcePort="_K7PhUI2CEeKjOIt6xW2jaA" targetPort="_K7HlgI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6laAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K63t4I2CEeKjOIt6xW2jaA" sourcePort="_K7FJQI2CEeKjOIt6xW2jaA" targetPort="_K7Vn8I2CEeKjOIt6xW2jaA" sourceBlock="_K6jk0I2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K63t4Y2CEeKjOIt6xW2jaA" sourcePort="_K7gnEI2CEeKjOIt6xW2jaA" targetPort="_K7eK0I2CEeKjOIt6xW2jaA" sourceBlock="_K6vyEY2CEeKjOIt6xW2jaA" targetBlock="_K6vLAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K63t4o2CEeKjOIt6xW2jaA" sourcePort="_K7FJQI2CEeKjOIt6xW2jaA" targetPort="_K7rmMI2CEeKjOIt6xW2jaA" sourceBlock="_K6jk0I2CEeKjOIt6xW2jaA" targetBlock="_K6xnQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K63t442CEeKjOIt6xW2jaA" sourcePort="_K7QvcY2CEeKjOIt6xW2jaA" targetPort="_K7Ko0Y2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6laAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K63t5I2CEeKjOIt6xW2jaA" sourcePort="_K7NFEI2CEeKjOIt6xW2jaA" targetPort="_K7Be4I2CEeKjOIt6xW2jaA" sourceBlock="_K6tV0I2CEeKjOIt6xW2jaA" targetBlock="_K6esUI2CEeKjOIt6xW2jaA"/>
        <lines id="_K64U8I2CEeKjOIt6xW2jaA" sourcePort="_K7O6QI2CEeKjOIt6xW2jaA" targetPort="_K7G-cI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6laAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K64U8Y2CEeKjOIt6xW2jaA" sourcePort="_K7QvcI2CEeKjOIt6xW2jaA" targetPort="_K7Ko0I2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6laAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K64U8o2CEeKjOIt6xW2jaA" sourcePort="_K7L28I2CEeKjOIt6xW2jaA" targetPort="_K7WPAI2CEeKjOIt6xW2jaA" sourceBlock="_K6qSgI2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K64U842CEeKjOIt6xW2jaA" sourcePort="_K7n70I2CEeKjOIt6xW2jaA" targetPort="_K7W2EI2CEeKjOIt6xW2jaA" sourceBlock="_K6xnQI2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K648AI2CEeKjOIt6xW2jaA" sourcePort="_K7djwo2CEeKjOIt6xW2jaA" targetPort="_K690gI2CEeKjOIt6xW2jaA" sourceBlock="_K6vLAI2CEeKjOIt6xW2jaA" targetBlock="_K6aa4I2CEeKjOIt6xW2jaA"/>
        <lines id="_K648AY2CEeKjOIt6xW2jaA" sourcePort="_K7DUEI2CEeKjOIt6xW2jaA" targetPort="_K7TLsI2CEeKjOIt6xW2jaA" sourceBlock="_K6jk0I2CEeKjOIt6xW2jaA" targetBlock="_K6uj8I2CEeKjOIt6xW2jaA"/>
        <lines id="_K648Ao2CEeKjOIt6xW2jaA" sourcePort="_K7NsII2CEeKjOIt6xW2jaA" targetPort="_K7CF8I2CEeKjOIt6xW2jaA" sourceBlock="_K6t84I2CEeKjOIt6xW2jaA" targetBlock="_K6fTYI2CEeKjOIt6xW2jaA"/>
        <lines id="_K648A42CEeKjOIt6xW2jaA" sourcePort="_K7QIYI2CEeKjOIt6xW2jaA" targetPort="_K7KBwI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K6laAI2CEeKjOIt6xW2jaA"/>
        <lines id="_K65jEI2CEeKjOIt6xW2jaA" sourcePort="_K7SkoI2CEeKjOIt6xW2jaA" targetPort="_K7xFwI2CEeKjOIt6xW2jaA" sourceBlock="_K6uj8I2CEeKjOIt6xW2jaA" targetBlock="_K65jEY2CEeKjOIt6xW2jaA"/>
        <blocks xsi:type="model:BusSelector" id="_K6jk0I2CEeKjOIt6xW2jaA" name="Bus\nSelector" incomingLines="_K6ViYI2CEeKjOIt6xW2jaA" outgoingLines="_K61Roo2CEeKjOIt6xW2jaA _K62fwo2CEeKjOIt6xW2jaA _K63G0I2CEeKjOIt6xW2jaA _K63G042CEeKjOIt6xW2jaA _K63t4I2CEeKjOIt6xW2jaA _K63t4o2CEeKjOIt6xW2jaA _K648AY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[160, 35, 165, 260]"/>
          <outPorts id="_K7DUEI2CEeKjOIt6xW2jaA" name="from"/>
          <outPorts id="_K7DUEY2CEeKjOIt6xW2jaA" name="to"/>
          <outPorts id="_K7D7II2CEeKjOIt6xW2jaA" name="msg"/>
          <outPorts id="_K7EiMI2CEeKjOIt6xW2jaA" name="param"/>
          <outPorts id="_K7EiMY2CEeKjOIt6xW2jaA" name="pkgid"/>
          <outPorts id="_K7FJQI2CEeKjOIt6xW2jaA" name="time"/>
          <inPorts id="_K6kL4I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K6tV0I2CEeKjOIt6xW2jaA" name="Unit Delay1" incomingLines="_K61RoI2CEeKjOIt6xW2jaA" outgoingLines="_K63t5I2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[405, 683, 440, 717]"/>
          <outPorts id="_K7NFEI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7NFEY2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K6t84I2CEeKjOIt6xW2jaA" name="Unit Delay2" incomingLines="_K62fxI2CEeKjOIt6xW2jaA" outgoingLines="_K648Ao2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[410, 738, 445, 772]"/>
          <outPorts id="_K7NsII2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7OTMI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:SubSystem" id="_K6uj8I2CEeKjOIt6xW2jaA" name="DataLinkLayer" incomingLines="_K61Roo2CEeKjOIt6xW2jaA _K614sY2CEeKjOIt6xW2jaA _K62fwY2CEeKjOIt6xW2jaA _K62fwo2CEeKjOIt6xW2jaA _K63G0I2CEeKjOIt6xW2jaA _K63G042CEeKjOIt6xW2jaA _K63t4I2CEeKjOIt6xW2jaA _K64U8o2CEeKjOIt6xW2jaA _K64U842CEeKjOIt6xW2jaA _K648AY2CEeKjOIt6xW2jaA" outgoingLines="_K60qkI2CEeKjOIt6xW2jaA _K60qkY2CEeKjOIt6xW2jaA _K61RoY2CEeKjOIt6xW2jaA _K62fwI2CEeKjOIt6xW2jaA _K63G1I2CEeKjOIt6xW2jaA _K63t442CEeKjOIt6xW2jaA _K64U8I2CEeKjOIt6xW2jaA _K64U8Y2CEeKjOIt6xW2jaA _K648A42CEeKjOIt6xW2jaA _K65jEI2CEeKjOIt6xW2jaA">
          <parameters name="System.Location" value="[1284, 50, 2556, 995]"/>
          <parameters name="Position" value="[470, 33, 615, 402]"/>
          <outPorts id="_K7O6QI2CEeKjOIt6xW2jaA" name="snd_from_out" incomingLines="_K7c8tY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 48, 685, 62]"/>
            <inPorts id="_K7xs0I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7PhUI2CEeKjOIt6xW2jaA" name="snd_to_out" incomingLines="_K7c8so2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 83, 685, 97]"/>
            <inPorts id="_K7y68I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7PhUY2CEeKjOIt6xW2jaA" name="snd_msg_out" incomingLines="_K7buk42CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 118, 685, 132]"/>
            <inPorts id="_K70JEI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7QIYI2CEeKjOIt6xW2jaA" name="snd_param_out" incomingLines="_K7c8tI2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 153, 685, 167]"/>
            <inPorts id="_K71XMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7QvcI2CEeKjOIt6xW2jaA" name="snd_pkgid_out" incomingLines="_K7bHgY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[655, 188, 685, 202]"/>
            <inPorts id="_K72lUI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7QvcY2CEeKjOIt6xW2jaA" name="snd_time_out" incomingLines="_K7cVoI2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 328, 685, 342]"/>
            <inPorts id="_K73zcI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7RWgI2CEeKjOIt6xW2jaA" name="recv_from_out" incomingLines="_K7c8sI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 223, 685, 237]"/>
            <inPorts id="_K75BkI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7R9kI2CEeKjOIt6xW2jaA" name="recv_msg_out" incomingLines="_K7bHg42CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 258, 685, 272]"/>
            <inPorts id="_K76PsI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7R9kY2CEeKjOIt6xW2jaA" name="recv_param_out" incomingLines="_K7agco2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 293, 685, 307]"/>
            <inPorts id="_K762wI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7SkoI2CEeKjOIt6xW2jaA" name="debug" incomingLines="_K7djwI2CEeKjOIt6xW2jaA" dimensions="-1">
            <parameters name="Position" value="[770, 398, 800, 412]"/>
            <inPorts id="_K77d0I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K7TLsI2CEeKjOIt6xW2jaA" name="recv_from_in" outgoingLines="_K7cVoY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 208, 330, 222]"/>
            <outPorts id="_K78E4I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7TywI2CEeKjOIt6xW2jaA" name="recv_to_in" outgoingLines="_K7bHgI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 243, 330, 257]"/>
            <outPorts id="_K79TAI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7UZ0I2CEeKjOIt6xW2jaA" name="recv_msg_in" outgoingLines="_K7c8s42CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 278, 330, 292]"/>
            <outPorts id="_K7-hII2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7VA4I2CEeKjOIt6xW2jaA" name="recv_param_in" outgoingLines="_K7c8sY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 313, 330, 327]"/>
            <outPorts id="_K7_IMI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7VA4Y2CEeKjOIt6xW2jaA" name="recv_pkgid_in" outgoingLines="_K7bukI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[300, 348, 330, 362]"/>
            <outPorts id="_K8AWUI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7Vn8I2CEeKjOIt6xW2jaA" name="recv_time_in" outgoingLines="_K7cVoo2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 383, 330, 397]"/>
            <outPorts id="_K8A9YI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7WPAI2CEeKjOIt6xW2jaA" name="snd_from_in" outgoingLines="_K7bHgo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 68, 330, 82]"/>
            <outPorts id="_K8BkcI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7WPAY2CEeKjOIt6xW2jaA" name="snd_to_in" outgoingLines="_K7cVo42CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 103, 330, 117]"/>
            <outPorts id="_K8CLgI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7W2EI2CEeKjOIt6xW2jaA" name="snd_msg_in" outgoingLines="_K7bukY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 138, 330, 152]"/>
            <outPorts id="_K8DZoI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7XdII2CEeKjOIt6xW2jaA" name="snd_param_in" outgoingLines="_K7cVpI2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 173, 330, 187]"/>
            <outPorts id="_K8EAsI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <lines id="_K7agcI2CEeKjOIt6xW2jaA" sourcePort="_K8Pm4I2CEeKjOIt6xW2jaA" targetPort="_K8Gc8I2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7XdIY2CEeKjOIt6xW2jaA"/>
          <lines id="_K7agcY2CEeKjOIt6xW2jaA" sourcePort="_K8OYwI2CEeKjOIt6xW2jaA" targetPort="_K8FO0I2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7XdIY2CEeKjOIt6xW2jaA"/>
          <lines id="_K7agco2CEeKjOIt6xW2jaA" sourcePort="_K8NKoI2CEeKjOIt6xW2jaA" targetPort="_K762wI2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7R9kY2CEeKjOIt6xW2jaA"/>
          <lines id="_K7bHgI2CEeKjOIt6xW2jaA" sourcePort="_K79TAI2CEeKjOIt6xW2jaA" targetPort="_K8TRQI2CEeKjOIt6xW2jaA" sourceBlock="_K7TywI2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7bHgY2CEeKjOIt6xW2jaA" sourcePort="_K8LVcI2CEeKjOIt6xW2jaA" targetPort="_K72lUI2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7QvcI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7bHgo2CEeKjOIt6xW2jaA" sourcePort="_K8BkcI2CEeKjOIt6xW2jaA" targetPort="_K8QN8I2CEeKjOIt6xW2jaA" sourceBlock="_K7WPAI2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7bHg42CEeKjOIt6xW2jaA" sourcePort="_K8MjkI2CEeKjOIt6xW2jaA" targetPort="_K76PsI2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7R9kI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7bukI2CEeKjOIt6xW2jaA" sourcePort="_K8AWUI2CEeKjOIt6xW2jaA" targetPort="_K8VGcI2CEeKjOIt6xW2jaA" sourceBlock="_K7VA4Y2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7bukY2CEeKjOIt6xW2jaA" sourcePort="_K8DZoI2CEeKjOIt6xW2jaA" targetPort="_K8RcEI2CEeKjOIt6xW2jaA" sourceBlock="_K7W2EI2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7buko2CEeKjOIt6xW2jaA" sourcePort="_K8Yw0I2CEeKjOIt6xW2jaA" targetPort="_K8VtgI2CEeKjOIt6xW2jaA" sourceBlock="_K7ZSUI2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7buk42CEeKjOIt6xW2jaA" sourcePort="_K8KHUI2CEeKjOIt6xW2jaA" targetPort="_K70JEI2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7PhUY2CEeKjOIt6xW2jaA"/>
          <lines id="_K7cVoI2CEeKjOIt6xW2jaA" sourcePort="_K8NxsI2CEeKjOIt6xW2jaA" targetPort="_K73zcI2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7QvcY2CEeKjOIt6xW2jaA"/>
          <lines id="_K7cVoY2CEeKjOIt6xW2jaA" sourcePort="_K78E4I2CEeKjOIt6xW2jaA" targetPort="_K8SqMI2CEeKjOIt6xW2jaA" sourceBlock="_K7TLsI2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7cVoo2CEeKjOIt6xW2jaA" sourcePort="_K8A9YI2CEeKjOIt6xW2jaA" targetPort="_K8VGcY2CEeKjOIt6xW2jaA" sourceBlock="_K7Vn8I2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7cVo42CEeKjOIt6xW2jaA" sourcePort="_K8CLgI2CEeKjOIt6xW2jaA" targetPort="_K8Q1AI2CEeKjOIt6xW2jaA" sourceBlock="_K7WPAY2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7cVpI2CEeKjOIt6xW2jaA" sourcePort="_K8EAsI2CEeKjOIt6xW2jaA" targetPort="_K8SDII2CEeKjOIt6xW2jaA" sourceBlock="_K7XdII2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7c8sI2CEeKjOIt6xW2jaA" sourcePort="_K8L8gI2CEeKjOIt6xW2jaA" targetPort="_K75BkI2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7RWgI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7c8sY2CEeKjOIt6xW2jaA" sourcePort="_K7_IMI2CEeKjOIt6xW2jaA" targetPort="_K8T4UY2CEeKjOIt6xW2jaA" sourceBlock="_K7VA4I2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7c8so2CEeKjOIt6xW2jaA" sourcePort="_K8JgQI2CEeKjOIt6xW2jaA" targetPort="_K7y68I2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7PhUI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7c8s42CEeKjOIt6xW2jaA" sourcePort="_K7-hII2CEeKjOIt6xW2jaA" targetPort="_K8T4UI2CEeKjOIt6xW2jaA" sourceBlock="_K7UZ0I2CEeKjOIt6xW2jaA" targetBlock="_K7YEMI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7c8tI2CEeKjOIt6xW2jaA" sourcePort="_K8KuYI2CEeKjOIt6xW2jaA" targetPort="_K71XMI2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7QIYI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7c8tY2CEeKjOIt6xW2jaA" sourcePort="_K8I5MI2CEeKjOIt6xW2jaA" targetPort="_K7xs0I2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7O6QI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7djwI2CEeKjOIt6xW2jaA" sourcePort="_K8EnwI2CEeKjOIt6xW2jaA" targetPort="_K77d0I2CEeKjOIt6xW2jaA" sourceBlock="_K7XdIY2CEeKjOIt6xW2jaA" targetBlock="_K7SkoI2CEeKjOIt6xW2jaA"/>
          <lines id="_K7djwY2CEeKjOIt6xW2jaA" sourcePort="_K8O_0I2CEeKjOIt6xW2jaA" targetPort="_K8F14I2CEeKjOIt6xW2jaA" sourceBlock="_K7YEMI2CEeKjOIt6xW2jaA" targetBlock="_K7XdIY2CEeKjOIt6xW2jaA"/>
          <blocks xsi:type="model:BusCreator" id="_K7XdIY2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_K7agcI2CEeKjOIt6xW2jaA _K7agcY2CEeKjOIt6xW2jaA _K7djwY2CEeKjOIt6xW2jaA" outgoingLines="_K7djwI2CEeKjOIt6xW2jaA">
            <parameters name="Position" value="[690, 349, 695, 461]"/>
            <outPorts id="_K8EnwI2CEeKjOIt6xW2jaA"/>
            <inPorts id="_K8FO0I2CEeKjOIt6xW2jaA" name="queue_sending_ratio"/>
            <inPorts id="_K8F14I2CEeKjOIt6xW2jaA" name="queue_received_ratio"/>
            <inPorts id="_K8Gc8I2CEeKjOIt6xW2jaA" name="queue_ack_ratio"/>
          </blocks>
          <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K7YEMI2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_K7bHgI2CEeKjOIt6xW2jaA _K7bHgo2CEeKjOIt6xW2jaA _K7bukI2CEeKjOIt6xW2jaA _K7bukY2CEeKjOIt6xW2jaA _K7buko2CEeKjOIt6xW2jaA _K7cVoY2CEeKjOIt6xW2jaA _K7cVoo2CEeKjOIt6xW2jaA _K7cVo42CEeKjOIt6xW2jaA _K7cVpI2CEeKjOIt6xW2jaA _K7c8sY2CEeKjOIt6xW2jaA _K7c8s42CEeKjOIt6xW2jaA" outgoingLines="_K7agcI2CEeKjOIt6xW2jaA _K7agcY2CEeKjOIt6xW2jaA _K7agco2CEeKjOIt6xW2jaA _K7bHgY2CEeKjOIt6xW2jaA _K7bHg42CEeKjOIt6xW2jaA _K7buk42CEeKjOIt6xW2jaA _K7cVoI2CEeKjOIt6xW2jaA _K7c8sI2CEeKjOIt6xW2jaA _K7c8so2CEeKjOIt6xW2jaA _K7c8tI2CEeKjOIt6xW2jaA _K7c8tY2CEeKjOIt6xW2jaA _K7djwY2CEeKjOIt6xW2jaA" code="function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)&#xA;%#eml&#xA;eml.extrinsic('warning', 'disp', 'fprintf');&#xA;&#xA;%Constants&#xA;BUS_SIZE =  numel(snd_msg_in);&#xA;TIMEOUT_ACK     = 2.0;&#xA;MSG_ACK         = 255;&#xA;QUEUE_SIZE = 10;&#xA;QUEUE_SIZE_SENDING = QUEUE_SIZE * BUS_SIZE;&#xA;QUEUE_SIZE_ACK  = QUEUE_SIZE* BUS_SIZE;&#xA;QUEUE_SIZE_RECEIVED = QUEUE_SIZE *BUS_SIZE;&#xA;&#xA;&#xA;%Init&#xA;from    = zeros(1,BUS_SIZE,'uint8');&#xA;to      = zeros(1,BUS_SIZE,'uint8');&#xA;msg     = zeros(1,BUS_SIZE,'uint16');&#xA;param   = zeros(1,BUS_SIZE,'double');&#xA;pkgid   = zeros(1,BUS_SIZE,'uint32');&#xA;time    = zeros(1,BUS_SIZE,'double');&#xA; &#xA;recv_from_out    = zeros(1,BUS_SIZE,'uint8');&#xA;recv_msg_out     = zeros(1,BUS_SIZE,'uint16');&#xA;recv_param_out   = zeros(1,BUS_SIZE,'double');&#xA;&#xA;&#xA;recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);&#xA;&#xA;&#xA;&#xA;%Persistent variables&#xA;persistent sendingQueue ackQueue receivedQueue lastPkgid&#xA;&#xA;if isempty(lastPkgid)&#xA;    lastPkgid = uint32(0);&#xA;end&#xA;&#xA;if isempty(sendingQueue)&#xA;    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);&#xA;end&#xA;&#xA;if isempty(ackQueue)&#xA;    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);&#xA;end&#xA;&#xA;if isempty(receivedQueue)&#xA;    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);&#xA;end&#xA;&#xA;%compute stats&#xA;queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;&#xA;queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;&#xA;queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;&#xA;&#xA;%Step 1: Check for a new outgoing packet&#xA;for i = 1:BUS_SIZE    &#xA;    if snd_msg_in(i) ~= 0&#xA;        lastPkgid = lastPkgid +1;&#xA;        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);&#xA;&#xA;        %Add packet so the outgoing queue&#xA;        sendingQueue = enqueue(sendingQueue, outgoing); &#xA;    end&#xA;end&#xA;    &#xA;%Step 2: Check for a new incoming packet&#xA;for i = 1:length(recv_in)&#xA;    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);&#xA;    if incoming.from ~= 0 &amp;&amp; incoming.to == snd_from_in&#xA;        if incoming.msg == MSG_ACK&#xA;            %Remove packet from ackQueue&#xA;            for j=1:length(ackQueue)&#xA;                if ackQueue(j).pkgid == uint32(incoming.param)&#xA;                    ackQueue = dequeue(ackQueue,j);&#xA;                    break;&#xA;                end&#xA;            end&#xA;        else&#xA;            %Send ACK&#xA;            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);&#xA;            sendingQueue = enqueue(sendingQueue,ackPacket);&#xA;&#xA;            %Check for duplicated packets&#xA;            duplicatedPacket = false;&#xA;            for j=1:length(receivedQueue)&#xA;                if receivedQueue(j).pkgid == incoming.pkgid &amp;&amp; receivedQueue(j).from == incoming.from&#xA;                    duplicatedPacket = true;&#xA;                    break;&#xA;                end&#xA;            end&#xA;&#xA;            if duplicatedPacket == false&#xA;                %save packet&#xA;                receivedQueue = enqueue(receivedQueue, incoming);            &#xA;            end&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;%Step 3: Forward incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if receivedQueue(1).from ~= 0&#xA;        recv_from_out(i)    = receivedQueue(1).from;&#xA;        recv_msg_out(i)     = receivedQueue(1).msg;&#xA;        recv_param_out(i)   = receivedQueue(1).param;&#xA;        receivedQueue = dequeue(receivedQueue,1);&#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;%Step 4: Timeout reached? Send packet again&#xA;for i = 1:length(ackQueue)&#xA;    if ackQueue(i).to ~= 0&#xA;        if ackQueue(i).time + TIMEOUT_ACK &lt;= currentTime&#xA;            %Reset counter&#xA;            ackQueue(i).time = currentTime;&#xA;            %Send again&#xA;            sendingQueue = enqueue(sendingQueue, ackQueue(i));&#xA;            %Remove packet from ackQueue&#xA;            ackQueue = dequeue(ackQueue, i);&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;&#xA;%Step 5: Send outgoing packet&#xA;for i = 1:BUS_SIZE&#xA;    if sendingQueue(1).to ~= 0    &#xA;        from(i)    = sendingQueue(1).from;&#xA;        to(i)      = sendingQueue(1).to;&#xA;        msg(i)     = sendingQueue(1).msg;&#xA;        param(i)   = sendingQueue(1).param;&#xA;        pkgid(i)   = sendingQueue(1).pkgid;&#xA;        time(i)    = sendingQueue(1).time;&#xA;&#xA;        %Add it to the ack queue&#xA;        if sendingQueue(1).msg ~= MSG_ACK&#xA;            ackQueue = enqueue(ackQueue, sendingQueue(1));&#xA;        end&#xA;&#xA;        %remove packet from sending queue&#xA;        sendingQueue = dequeue(sendingQueue, 1);    &#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%%                          H E L P E R&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function p = packet(from, to, msg, param, pkgid, time)&#xA;%#eml&#xA;%Defines a packet&#xA;p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));&#xA;&#xA;function bus = bus(from, to, msg, param, pkgid, time, size) %emp&#xA;%Create an empty bus&#xA;bus = repmat(packet(0,0,0,0,0,0), 1, size);&#xA;for i=1:size&#xA;    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));&#xA;end&#xA;&#xA;&#xA;function queue = enqueue(queue, packet)&#xA;%#eml&#xA;eml.extrinsic('warning', 'sprintf');&#xA;for i = 1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;function queue = dequeue(queue, index)&#xA;%#eml&#xA;assert(index &lt;= length(queue))&#xA;for i=index:length(queue)-1;&#xA;    queue(i) = queue(i+1);&#xA;end&#xA;queue(length(queue)) = packet(0,0,0,0,0,0);&#xA;&#xA;function num = queueNumElements(queue)&#xA;%#eml&#xA;num = 0;&#xA;for i = 1:length(queue)&#xA;    if queue(i).to ~= uint8(0)&#xA;        num = num+1;&#xA;    end&#xA;end    &#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);">
            <parameters name="System.Location" value="[257, 457, 812, 717]"/>
            <parameters name="Position" value="[410, 41, 595, 454]"/>
            <outPorts id="_K8I5MI2CEeKjOIt6xW2jaA" name="from" dimensions="-1">
              <parameters name="Position" value="[460, 101, 480, 119]"/>
              <inPorts id="_K8oBYI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8JgQI2CEeKjOIt6xW2jaA" name="to" dimensions="-1">
              <parameters name="Position" value="[460, 136, 480, 154]"/>
              <inPorts id="_K8pPgI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8KHUI2CEeKjOIt6xW2jaA" name="msg" dimensions="-1">
              <parameters name="Position" value="[460, 171, 480, 189]"/>
              <inPorts id="_K8qdoI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8KuYI2CEeKjOIt6xW2jaA" name="param" dimensions="-1">
              <parameters name="Position" value="[460, 206, 480, 224]"/>
              <inPorts id="_K8rEsI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8LVcI2CEeKjOIt6xW2jaA" name="pkgid" dimensions="-1">
              <parameters name="Position" value="[460, 246, 480, 264]"/>
              <inPorts id="_K8sS0I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8L8gI2CEeKjOIt6xW2jaA" name="recv_from_out" dimensions="-1">
              <parameters name="Position" value="[460, 281, 480, 299]"/>
              <inPorts id="_K8s54I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8MjkI2CEeKjOIt6xW2jaA" name="recv_msg_out" dimensions="-1">
              <parameters name="Position" value="[460, 316, 480, 334]"/>
              <inPorts id="_K8tg8I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8NKoI2CEeKjOIt6xW2jaA" name="recv_param_out" dimensions="-1">
              <parameters name="Position" value="[460, 351, 480, 369]"/>
              <inPorts id="_K8uIAI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8NxsI2CEeKjOIt6xW2jaA" name="time" dimensions="-1">
              <parameters name="Position" value="[460, 386, 480, 404]"/>
              <inPorts id="_K8vWII2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8OYwI2CEeKjOIt6xW2jaA" name="queue_sending_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 426, 480, 444]"/>
              <inPorts id="_K8v9MI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8O_0I2CEeKjOIt6xW2jaA" name="queue_received_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 461, 480, 479]"/>
              <inPorts id="_K8xLUI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_K8Pm4I2CEeKjOIt6xW2jaA" name="queue_ack_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 496, 480, 514]"/>
              <inPorts id="_K8xyYI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <inPorts id="_K8QN8I2CEeKjOIt6xW2jaA" name="snd_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 101, 40, 119]"/>
              <outPorts id="_K8zAgI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8Q1AI2CEeKjOIt6xW2jaA" name="snd_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 136, 40, 154]"/>
              <outPorts id="_K8znkI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8RcEI2CEeKjOIt6xW2jaA" name="snd_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 171, 40, 189]"/>
              <outPorts id="_K801sI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8SDII2CEeKjOIt6xW2jaA" name="snd_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 206, 40, 224]"/>
              <outPorts id="_K82D0I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8SqMI2CEeKjOIt6xW2jaA" name="recv_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 246, 40, 264]"/>
              <outPorts id="_K82q4I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8TRQI2CEeKjOIt6xW2jaA" name="recv_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 281, 40, 299]"/>
              <outPorts id="_K835AI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8T4UI2CEeKjOIt6xW2jaA" name="recv_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 316, 40, 334]"/>
              <outPorts id="_K84gEI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8T4UY2CEeKjOIt6xW2jaA" name="recv_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 351, 40, 369]"/>
              <outPorts id="_K85HII2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8VGcI2CEeKjOIt6xW2jaA" name="recv_pkgid_in" dimensions="-1" type="uint32">
              <parameters name="Position" value="[20, 386, 40, 404]"/>
              <outPorts id="_K86VQI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8VGcY2CEeKjOIt6xW2jaA" name="recv_time_in" dimensions="-1">
              <parameters name="Position" value="[20, 426, 40, 444]"/>
              <outPorts id="_K868UI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_K8VtgI2CEeKjOIt6xW2jaA" name="currentTime" dimensions="-1">
              <parameters name="Position" value="[20, 461, 40, 479]"/>
              <outPorts id="_K88KcI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
          </blocks>
          <blocks xsi:type="model:DigitalClock" id="_K7ZSUI2CEeKjOIt6xW2jaA" name="Digital Clock" outgoingLines="_K7buko2CEeKjOIt6xW2jaA" sampleTime="0.1">
            <parameters name="Position" value="[280, 413, 345, 437]"/>
            <outPorts id="_K8Yw0I2CEeKjOIt6xW2jaA"/>
          </blocks>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K6vLAI2CEeKjOIt6xW2jaA" name="Unit Delay3" incomingLines="_K63t4Y2CEeKjOIt6xW2jaA" outgoingLines="_K648AI2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1165, 533, 1200, 567]"/>
          <outPorts id="_K7djwo2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7eK0I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:BusCreator" id="_K6laAI2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_K60qkI2CEeKjOIt6xW2jaA _K63G1I2CEeKjOIt6xW2jaA _K63t442CEeKjOIt6xW2jaA _K64U8I2CEeKjOIt6xW2jaA _K64U8Y2CEeKjOIt6xW2jaA _K648A42CEeKjOIt6xW2jaA" outgoingLines="_K6ViYY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[830, 37, 835, 258]"/>
          <outPorts id="_K6mBEI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7G-cI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7HlgI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7JasI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7KBwI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7Ko0I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7Ko0Y2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K6vLAY2CEeKjOIt6xW2jaA" name="Unit Delay4" incomingLines="_K614so2CEeKjOIt6xW2jaA" outgoingLines="_K63G0Y2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1170, 613, 1205, 647]"/>
          <outPorts id="_K7ex4I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K7fY8I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_K6vyEI2CEeKjOIt6xW2jaA" name="Terminator" incomingLines="_K614sI2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[1155, 700, 1175, 720]"/>
          <inPorts id="_K7gAAI2CEeKjOIt6xW2jaA" name="1"/>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K6vyEY2CEeKjOIt6xW2jaA" name="Receive Packet" incomingLines="_K60qkY2CEeKjOIt6xW2jaA _K61RoY2CEeKjOIt6xW2jaA _K61Ro42CEeKjOIt6xW2jaA _K62fwI2CEeKjOIt6xW2jaA _K63G0o2CEeKjOIt6xW2jaA" outgoingLines="_K614sI2CEeKjOIt6xW2jaA _K614so2CEeKjOIt6xW2jaA _K63t4Y2CEeKjOIt6xW2jaA" code="function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;% This function receives packets and adds them to the event queue.&#xA;% A packet consists of a source, a message and an optional parameter for &#xA;% the message. Source and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;SOURCE = 2;&#xA;MESSAGE = 1;&#xA;BUS_SIZE = numel(packetFrom);&#xA;QUEUE_SIZE = 10;&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;bufferOverflow = false;&#xA;&#xA;%New incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if packetFrom(i) ~= 0 &#xA;        bufferOverflow = true;&#xA;        %Add it to the incoming event Queue&#xA;        for j = 1:QUEUE_SIZE&#xA;            %Search for an empty place&#xA;            if eventQueue(j,SOURCE) == 0&#xA;                eventQueue(j,SOURCE)    = packetFrom(i);&#xA;                eventQueue(j,MESSAGE)   = packetMsg(i);&#xA;                eventParamQueue(j)      = packetParam(i);&#xA;                bufferOverflow = false;&#xA;                break;&#xA;            end&#xA;        end        &#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[900, 506, 1085, 754]"/>
          <outPorts id="_K7gnEI2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_K8bNEI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7h1MI2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_K8b0II2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7icQI2CEeKjOIt6xW2jaA" name="bufferOverflow" dimensions="-1" type="boolean">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_K8cbMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K7jDUI2CEeKjOIt6xW2jaA" name="packetFrom" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_K8dpUI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7jqYI2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_K8eQYI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7kRcI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_K8e3cI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7k4gI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 206, 40, 224]"/>
            <outPorts id="_K8gFkI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7lfkI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 246, 40, 264]"/>
            <outPorts id="_K8gsoI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K6xnQI2CEeKjOIt6xW2jaA" name="Send Packet" incomingLines="_K614s42CEeKjOIt6xW2jaA _K62fw42CEeKjOIt6xW2jaA _K63t4o2CEeKjOIt6xW2jaA" outgoingLines="_K61RoI2CEeKjOIt6xW2jaA _K62fwY2CEeKjOIt6xW2jaA _K62fxI2CEeKjOIt6xW2jaA _K64U842CEeKjOIt6xW2jaA" code="function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;&#xA;% This function creates packets from the event queue. A packet consists&#xA;% of a destination, a message and an optional parameter for the message.&#xA;% Destination and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;DESTINATION = 2;&#xA;MESSAGE = 1;&#xA;QUEUE_SIZE = 10;&#xA;&#xA;busSize = numel(busSizeSignal);&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;packetMsg = zeros(1,busSize,'uint16');&#xA;packetParam = zeros(1,busSize,'double');&#xA;&#xA;%There is an event in the queue&#xA;for i = 1:busSize   &#xA;    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0&#xA;        %Create packet from the firs entry in the queue&#xA;        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));&#xA;        packetParam(i) = eventParamQueue(1);&#xA;        %Remove the event from the queue&#xA;        for j=1:QUEUE_SIZE - 1&#xA;            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);&#xA;            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);&#xA;            eventParamQueue(j)          = eventParamQueue(j+1);&#xA;        end&#xA;        %Set last element to zero&#xA;        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;&#xA;        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;&#xA;        eventParamQueue(QUEUE_SIZE)    = 0;&#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[150, 514, 310, 781]"/>
          <outPorts id="_K7n70I2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_K8h6wI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7pJ8I2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_K8ih0I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7pxAI2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_K8jI4I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K7q_II2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 206, 480, 224]"/>
            <inPorts id="_K8kXAI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K7rmMI2CEeKjOIt6xW2jaA" name="busSizeSignal" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_K8k-EI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7sNQI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_K8mMMI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K7tbYI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_K8mzQI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_K65jEY2CEeKjOIt6xW2jaA" name="Terminator2" incomingLines="_K65jEI2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[780, 362, 805, 388]"/>
          <inPorts id="_K7xFwI2CEeKjOIt6xW2jaA"/>
        </blocks>
      </blocks>
    </blocks>
    <blocks xsi:type="model:SubSystem" id="_Kk4PwI2CEeKjOIt6xW2jaA" name="StrikeControl">
      <parameters name="Position" value="[950, 20, 1200, 720]"/>
      <outPorts id="_K-mXU42CEeKjOIt6xW2jaA" name="MC_BAT_Info_send" incomingLines="_K-mXUo2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[860, 300, 890, 330]"/>
        <inPorts id="_K-22AI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <inPorts id="_Kk6E8I2CEeKjOIt6xW2jaA" name="clockSignal" outgoingLines="_Kk6E8Y2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 30, 220, 60]"/>
        <outPorts id="_Kk6sAI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_K-m-YI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_recv" outgoingLines="_K-mXUY2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 300, 220, 330]"/>
        <outPorts id="_K-2O8I2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_K-oMgI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_net_address" outgoingLines="_K-paoI2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 360, 220, 390]"/>
        <outPorts id="_K_DDQI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_K-ozkI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_receiver_net_address" outgoingLines="_K-paoY2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 420, 220, 450]"/>
        <outPorts id="_K_DqUI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <lines id="_Kk6E8Y2CEeKjOIt6xW2jaA" sourcePort="_Kk6sAI2CEeKjOIt6xW2jaA" targetPort="_Kk6E8o2CEeKjOIt6xW2jaA" sourceBlock="_Kk6E8I2CEeKjOIt6xW2jaA" targetBlock="_Kk420I2CEeKjOIt6xW2jaA"/>
      <lines id="_K-mXUo2CEeKjOIt6xW2jaA" sourcePort="_K-0ZwI2CEeKjOIt6xW2jaA" targetPort="_K-22AI2CEeKjOIt6xW2jaA" sourceBlock="_K-nlcI2CEeKjOIt6xW2jaA" targetBlock="_K-mXU42CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_K-mXUY2CEeKjOIt6xW2jaA" sourcePort="_K-2O8I2CEeKjOIt6xW2jaA" targetPort="_K-ykk42CEeKjOIt6xW2jaA" sourceBlock="_K-m-YI2CEeKjOIt6xW2jaA" targetBlock="_K-nlcI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_K-he0I2CEeKjOIt6xW2jaA" sourcePort="_K-j7EI2CEeKjOIt6xW2jaA" targetPort="_K-qBsI2CEeKjOIt6xW2jaA" sourceBlock="_Kk420I2CEeKjOIt6xW2jaA" targetBlock="_K-nlcI2CEeKjOIt6xW2jaA"/>
      <lines id="_K-he0Y2CEeKjOIt6xW2jaA" sourcePort="_K-qowI2CEeKjOIt6xW2jaA" targetPort="_K-iF4o2CEeKjOIt6xW2jaA" sourceBlock="_K-nlcI2CEeKjOIt6xW2jaA" targetBlock="_Kk420I2CEeKjOIt6xW2jaA"/>
      <lines id="_K-he0o2CEeKjOIt6xW2jaA" sourcePort="_K-rP0I2CEeKjOIt6xW2jaA" targetPort="_K-is8I2CEeKjOIt6xW2jaA" sourceBlock="_K-nlcI2CEeKjOIt6xW2jaA" targetBlock="_Kk420I2CEeKjOIt6xW2jaA"/>
      <lines id="_K-he042CEeKjOIt6xW2jaA" sourcePort="_K-kiII2CEeKjOIt6xW2jaA" targetPort="_K-r24I2CEeKjOIt6xW2jaA" sourceBlock="_Kk420I2CEeKjOIt6xW2jaA" targetBlock="_K-nlcI2CEeKjOIt6xW2jaA"/>
      <lines id="_K-he1I2CEeKjOIt6xW2jaA" sourcePort="_K-kiIY2CEeKjOIt6xW2jaA" targetPort="_K-tsEI2CEeKjOIt6xW2jaA" sourceBlock="_Kk420I2CEeKjOIt6xW2jaA" targetBlock="_K-nlcI2CEeKjOIt6xW2jaA"/>
      <lines id="_K-he1Y2CEeKjOIt6xW2jaA" sourcePort="_K-lJMI2CEeKjOIt6xW2jaA" targetPort="_K-uTII2CEeKjOIt6xW2jaA" sourceBlock="_Kk420I2CEeKjOIt6xW2jaA" targetBlock="_K-nlcI2CEeKjOIt6xW2jaA"/>
      <lines id="_K-iF4I2CEeKjOIt6xW2jaA" sourcePort="_K-u6MI2CEeKjOIt6xW2jaA" targetPort="_K-is8Y2CEeKjOIt6xW2jaA" sourceBlock="_K-nlcI2CEeKjOIt6xW2jaA" targetBlock="_Kk420I2CEeKjOIt6xW2jaA"/>
      <lines id="_K-iF4Y2CEeKjOIt6xW2jaA" sourcePort="_K-wvYI2CEeKjOIt6xW2jaA" targetPort="_K-jUAI2CEeKjOIt6xW2jaA" sourceBlock="_K-nlcI2CEeKjOIt6xW2jaA" targetBlock="_Kk420I2CEeKjOIt6xW2jaA"/>
      <lines id="_K-paoI2CEeKjOIt6xW2jaA" sourcePort="_K_DDQI2CEeKjOIt6xW2jaA" targetPort="_K-3dEI2CEeKjOIt6xW2jaA" sourceBlock="_K-oMgI2CEeKjOIt6xW2jaA" targetBlock="_K-nlcI2CEeKjOIt6xW2jaA"/>
      <lines id="_K-paoY2CEeKjOIt6xW2jaA" sourcePort="_K_DqUI2CEeKjOIt6xW2jaA" targetPort="_K-4EII2CEeKjOIt6xW2jaA" sourceBlock="_K-ozkI2CEeKjOIt6xW2jaA" targetBlock="_K-nlcI2CEeKjOIt6xW2jaA"/>
      <blocks xsi:type="model:ChartBlock" id="_Kk420I2CEeKjOIt6xW2jaA" name="StrikeControl_Statechart" incomingLines="_Kk6E8Y2CEeKjOIt6xW2jaA _K-he0Y2CEeKjOIt6xW2jaA _K-he0o2CEeKjOIt6xW2jaA _K-iF4I2CEeKjOIt6xW2jaA _K-iF4Y2CEeKjOIt6xW2jaA" outgoingLines="_K-he0I2CEeKjOIt6xW2jaA _K-he042CEeKjOIt6xW2jaA _K-he1I2CEeKjOIt6xW2jaA _K-he1Y2CEeKjOIt6xW2jaA" chart="_KdLsUI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[250, 30, 800, 240]"/>
        <outPorts id="_K-j7EI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadOut" type="uint8">
          <inPorts id="_K-x9go2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K-kiII2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadOut" type="double">
          <inPorts id="_K-ykkI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K-kiIY2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteOut" type="uint8">
          <inPorts id="_K-ykkY2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_K-lJMI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteOut" type="double">
          <inPorts id="_K-ykko2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_Kk6E8o2CEeKjOIt6xW2jaA" name="clockSignal">
          <outPorts id="_Kk6sAY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K-iF4o2CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadIn" type="uint8">
          <outPorts id="_K-xWcI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K-is8I2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadIn" type="double">
          <outPorts id="_K-xWcY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K-is8Y2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteIn" type="uint8">
          <outPorts id="_K-x9gI2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_K-jUAI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteIn" type="double">
          <outPorts id="_K-x9gY2CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:SubSystem" id="_K-nlcI2CEeKjOIt6xW2jaA" name="Link Layer MC_BAT_Info" incomingLines="_K-he0I2CEeKjOIt6xW2jaA _K-he042CEeKjOIt6xW2jaA _K-he1I2CEeKjOIt6xW2jaA _K-he1Y2CEeKjOIt6xW2jaA _K-mXUY2CEeKjOIt6xW2jaA _K-paoI2CEeKjOIt6xW2jaA _K-paoY2CEeKjOIt6xW2jaA" outgoingLines="_K-he0Y2CEeKjOIt6xW2jaA _K-he0o2CEeKjOIt6xW2jaA _K-iF4I2CEeKjOIt6xW2jaA _K-iF4Y2CEeKjOIt6xW2jaA _K-mXUo2CEeKjOIt6xW2jaA">
        <parameters name="System.Location" value="[1284, 164, 2556, 887]"/>
        <parameters name="Position" value="[250, 300, 800, 700]"/>
        <outPorts id="_K-0ZwI2CEeKjOIt6xW2jaA" name="port_out" incomingLines="_K-mXUI2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[960, 143, 990, 157]"/>
          <inPorts id="_K-1n4I2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K-qowI2CEeKjOIt6xW2jaA" name="write_event_queue_in" incomingLines="_K_BOEY2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[1245, 543, 1275, 557]"/>
          <inPorts id="_K_E4cI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K-rP0I2CEeKjOIt6xW2jaA" name="write_event_param_queue_in" incomingLines="_K-_Y4I2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[1245, 623, 1275, 637]"/>
          <inPorts id="_K_GGkI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K-u6MI2CEeKjOIt6xW2jaA" name="write_event_queue_out" incomingLines="_K_AnAY2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[495, 693, 525, 707]"/>
          <inPorts id="_K_Jw8I2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_K-wvYI2CEeKjOIt6xW2jaA" name="write_event_param_queue_out" incomingLines="_K_BOE42CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[495, 748, 525, 762]"/>
          <inPorts id="_K_K_EI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_K-ykk42CEeKjOIt6xW2jaA" name="port_in" outgoingLines="_K-lwQI2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[55, 148, 85, 162]"/>
          <outPorts id="_K-zLoY2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K-3dEI2CEeKjOIt6xW2jaA" name="net_address" outgoingLines="_K_AnBI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 263, 265, 277]"/>
          <outPorts id="_K_UwEI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K-4EII2CEeKjOIt6xW2jaA" name="receiver_net_address" outgoingLines="_K--KwY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 298, 265, 312]"/>
          <outPorts id="_K_VXII2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K-qBsI2CEeKjOIt6xW2jaA" name="read_event_queue_in" outgoingLines="_K-_Y4Y2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[780, 673, 810, 687]"/>
          <outPorts id="_K_ERYI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K-r24I2CEeKjOIt6xW2jaA" name="read_event_param_queue_in" outgoingLines="_K-9jtI2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[780, 723, 810, 737]"/>
          <outPorts id="_K_GtoI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K-tsEI2CEeKjOIt6xW2jaA" name="read_event_queue_out" outgoingLines="_K--Kw42CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[55, 638, 85, 652]"/>
          <outPorts id="_K_HUsI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_K-uTII2CEeKjOIt6xW2jaA" name="read_event_param_queue_out" outgoingLines="_K--x0o2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[55, 728, 85, 742]"/>
          <outPorts id="_K_Ii0I2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <lines id="_K-lwQI2CEeKjOIt6xW2jaA" sourcePort="_K-zLoY2CEeKjOIt6xW2jaA" targetPort="_K-zysI2CEeKjOIt6xW2jaA" sourceBlock="_K-ykk42CEeKjOIt6xW2jaA" targetBlock="_K-zLoI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_K-mXUI2CEeKjOIt6xW2jaA" sourcePort="_K-1A0Y2CEeKjOIt6xW2jaA" targetPort="_K-1n4I2CEeKjOIt6xW2jaA" sourceBlock="_K-1A0I2CEeKjOIt6xW2jaA" targetBlock="_K-0ZwI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_K-88oI2CEeKjOIt6xW2jaA" sourcePort="_K_a2sI2CEeKjOIt6xW2jaA" targetPort="_K_ST0I2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-1A0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K-9jsI2CEeKjOIt6xW2jaA" sourcePort="_K_d6AI2CEeKjOIt6xW2jaA" targetPort="_K_yqII2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-6gYY2CEeKjOIt6xW2jaA"/>
        <lines id="_K-9jsY2CEeKjOIt6xW2jaA" sourcePort="_K_3ioI2CEeKjOIt6xW2jaA" targetPort="_K_WlQI2CEeKjOIt6xW2jaA" sourceBlock="_K-7HcI2CEeKjOIt6xW2jaA" targetBlock="_K-4rMI2CEeKjOIt6xW2jaA"/>
        <lines id="_K-9jso2CEeKjOIt6xW2jaA" sourcePort="_K_dS8I2CEeKjOIt6xW2jaA" targetPort="_K_yDEY2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-6gYY2CEeKjOIt6xW2jaA"/>
        <lines id="_K-9js42CEeKjOIt6xW2jaA" sourcePort="_K_NbUI2CEeKjOIt6xW2jaA" targetPort="_K_hkYI2CEeKjOIt6xW2jaA" sourceBlock="_K-zLoI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K-9jtI2CEeKjOIt6xW2jaA" sourcePort="_K_GtoI2CEeKjOIt6xW2jaA" targetPort="_K_0fUI2CEeKjOIt6xW2jaA" sourceBlock="_K-r24I2CEeKjOIt6xW2jaA" targetBlock="_K-6gYY2CEeKjOIt6xW2jaA"/>
        <lines id="_K--KwI2CEeKjOIt6xW2jaA" sourcePort="_K_yDEI2CEeKjOIt6xW2jaA" targetPort="_K_u_wI2CEeKjOIt6xW2jaA" sourceBlock="_K-6gYY2CEeKjOIt6xW2jaA" targetBlock="_K-6gYI2CEeKjOIt6xW2jaA"/>
        <lines id="_K--KwY2CEeKjOIt6xW2jaA" sourcePort="_K_VXII2CEeKjOIt6xW2jaA" targetPort="_K_lOwI2CEeKjOIt6xW2jaA" sourceBlock="_K-4EII2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K--Kwo2CEeKjOIt6xW2jaA" sourcePort="_K_w08I2CEeKjOIt6xW2jaA" targetPort="_K_uYsI2CEeKjOIt6xW2jaA" sourceBlock="_K-6gYY2CEeKjOIt6xW2jaA" targetBlock="_K-55UI2CEeKjOIt6xW2jaA"/>
        <lines id="_K--Kw42CEeKjOIt6xW2jaA" sourcePort="_K_HUsI2CEeKjOIt6xW2jaA" targetPort="_K_5-4I2CEeKjOIt6xW2jaA" sourceBlock="_K-tsEI2CEeKjOIt6xW2jaA" targetBlock="_K-7HcI2CEeKjOIt6xW2jaA"/>
        <lines id="_K--KxI2CEeKjOIt6xW2jaA" sourcePort="_K_ehEI2CEeKjOIt6xW2jaA" targetPort="_K_zRMI2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-6gYY2CEeKjOIt6xW2jaA"/>
        <lines id="_K--x0I2CEeKjOIt6xW2jaA" sourcePort="_K_27kI2CEeKjOIt6xW2jaA" targetPort="_K_l10I2CEeKjOIt6xW2jaA" sourceBlock="_K-7HcI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K--x0Y2CEeKjOIt6xW2jaA" sourcePort="_K_M0QY2CEeKjOIt6xW2jaA" targetPort="_K_g9UI2CEeKjOIt6xW2jaA" sourceBlock="_K-zLoI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K--x0o2CEeKjOIt6xW2jaA" sourcePort="_K_Ii0I2CEeKjOIt6xW2jaA" targetPort="_K_6l8I2CEeKjOIt6xW2jaA" sourceBlock="_K-uTII2CEeKjOIt6xW2jaA" targetBlock="_K-7HcI2CEeKjOIt6xW2jaA"/>
        <lines id="_K--x042CEeKjOIt6xW2jaA" sourcePort="_K_4JsI2CEeKjOIt6xW2jaA" targetPort="_K_XzYI2CEeKjOIt6xW2jaA" sourceBlock="_K-7HcI2CEeKjOIt6xW2jaA" targetBlock="_K-4rMY2CEeKjOIt6xW2jaA"/>
        <lines id="_K--x1I2CEeKjOIt6xW2jaA" sourcePort="_K_OpcI2CEeKjOIt6xW2jaA" targetPort="_K_iygI2CEeKjOIt6xW2jaA" sourceBlock="_K-zLoI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K-_Y4I2CEeKjOIt6xW2jaA" sourcePort="_K_txoI2CEeKjOIt6xW2jaA" targetPort="_K_GGkI2CEeKjOIt6xW2jaA" sourceBlock="_K-55UI2CEeKjOIt6xW2jaA" targetBlock="_K-rP0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K-_Y4Y2CEeKjOIt6xW2jaA" sourcePort="_K_ERYI2CEeKjOIt6xW2jaA" targetPort="_K_z4QI2CEeKjOIt6xW2jaA" sourceBlock="_K-qBsI2CEeKjOIt6xW2jaA" targetBlock="_K-6gYY2CEeKjOIt6xW2jaA"/>
        <lines id="_K-_Y4o2CEeKjOIt6xW2jaA" sourcePort="_K_OCYI2CEeKjOIt6xW2jaA" targetPort="_K_iLcI2CEeKjOIt6xW2jaA" sourceBlock="_K-zLoI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K-_Y442CEeKjOIt6xW2jaA" sourcePort="_K_aPoI2CEeKjOIt6xW2jaA" targetPort="_K_RFsY2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-1A0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K-_Y5I2CEeKjOIt6xW2jaA" sourcePort="_K_PQgI2CEeKjOIt6xW2jaA" targetPort="_K_jZkI2CEeKjOIt6xW2jaA" sourceBlock="_K-zLoI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K-__8I2CEeKjOIt6xW2jaA" sourcePort="_K_wN4I2CEeKjOIt6xW2jaA" targetPort="_K_tKkI2CEeKjOIt6xW2jaA" sourceBlock="_K-6gYY2CEeKjOIt6xW2jaA" targetBlock="_K-5SQY2CEeKjOIt6xW2jaA"/>
        <lines id="_K-__8Y2CEeKjOIt6xW2jaA" sourcePort="_K_PQgI2CEeKjOIt6xW2jaA" targetPort="_K_5X0I2CEeKjOIt6xW2jaA" sourceBlock="_K-zLoI2CEeKjOIt6xW2jaA" targetBlock="_K-7HcI2CEeKjOIt6xW2jaA"/>
        <lines id="_K_AnAI2CEeKjOIt6xW2jaA" sourcePort="_K_cr4I2CEeKjOIt6xW2jaA" targetPort="_K_Th8I2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-1A0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K_AnAY2CEeKjOIt6xW2jaA" sourcePort="_K_V-MI2CEeKjOIt6xW2jaA" targetPort="_K_Jw8I2CEeKjOIt6xW2jaA" sourceBlock="_K-4rMI2CEeKjOIt6xW2jaA" targetBlock="_K-u6MI2CEeKjOIt6xW2jaA"/>
        <lines id="_K_AnAo2CEeKjOIt6xW2jaA" sourcePort="_K_ZokI2CEeKjOIt6xW2jaA" targetPort="_K_RFsI2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-1A0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K_AnA42CEeKjOIt6xW2jaA" sourcePort="_K_cE0I2CEeKjOIt6xW2jaA" targetPort="_K_S64I2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-1A0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K_AnBI2CEeKjOIt6xW2jaA" sourcePort="_K_UwEI2CEeKjOIt6xW2jaA" targetPort="_K_kAoI2CEeKjOIt6xW2jaA" sourceBlock="_K-3dEI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K_BOEI2CEeKjOIt6xW2jaA" sourcePort="_K_2UgI2CEeKjOIt6xW2jaA" targetPort="_K_lOwY2CEeKjOIt6xW2jaA" sourceBlock="_K-7HcI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K_BOEY2CEeKjOIt6xW2jaA" sourcePort="_K_sjgI2CEeKjOIt6xW2jaA" targetPort="_K_E4cI2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQY2CEeKjOIt6xW2jaA" targetBlock="_K-qowI2CEeKjOIt6xW2jaA"/>
        <lines id="_K_BOEo2CEeKjOIt6xW2jaA" sourcePort="_K_M0QI2CEeKjOIt6xW2jaA" targetPort="_K_gWQI2CEeKjOIt6xW2jaA" sourceBlock="_K-zLoI2CEeKjOIt6xW2jaA" targetBlock="_K-5SQI2CEeKjOIt6xW2jaA"/>
        <lines id="_K_BOE42CEeKjOIt6xW2jaA" sourcePort="_K_XMUI2CEeKjOIt6xW2jaA" targetPort="_K_K_EI2CEeKjOIt6xW2jaA" sourceBlock="_K-4rMY2CEeKjOIt6xW2jaA" targetBlock="_K-wvYI2CEeKjOIt6xW2jaA"/>
        <lines id="_K_B1II2CEeKjOIt6xW2jaA" sourcePort="_K_bdwI2CEeKjOIt6xW2jaA" targetPort="_K_ST0Y2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K-1A0I2CEeKjOIt6xW2jaA"/>
        <lines id="_K_CcMI2CEeKjOIt6xW2jaA" sourcePort="_K_fIII2CEeKjOIt6xW2jaA" targetPort="_K_-QUI2CEeKjOIt6xW2jaA" sourceBlock="_K-5SQI2CEeKjOIt6xW2jaA" targetBlock="_K_CcMY2CEeKjOIt6xW2jaA"/>
        <blocks xsi:type="model:BusSelector" id="_K-zLoI2CEeKjOIt6xW2jaA" name="Bus\nSelector" incomingLines="_K-lwQI2CEeKjOIt6xW2jaA" outgoingLines="_K-9js42CEeKjOIt6xW2jaA _K--x0Y2CEeKjOIt6xW2jaA _K--x1I2CEeKjOIt6xW2jaA _K-_Y4o2CEeKjOIt6xW2jaA _K-_Y5I2CEeKjOIt6xW2jaA _K-__8Y2CEeKjOIt6xW2jaA _K_BOEo2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[160, 35, 165, 260]"/>
          <outPorts id="_K_M0QI2CEeKjOIt6xW2jaA" name="from"/>
          <outPorts id="_K_M0QY2CEeKjOIt6xW2jaA" name="to"/>
          <outPorts id="_K_NbUI2CEeKjOIt6xW2jaA" name="msg"/>
          <outPorts id="_K_OCYI2CEeKjOIt6xW2jaA" name="param"/>
          <outPorts id="_K_OpcI2CEeKjOIt6xW2jaA" name="pkgid"/>
          <outPorts id="_K_PQgI2CEeKjOIt6xW2jaA" name="time"/>
          <inPorts id="_K-zysI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K-4rMI2CEeKjOIt6xW2jaA" name="Unit Delay1" incomingLines="_K-9jsY2CEeKjOIt6xW2jaA" outgoingLines="_K_AnAY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[405, 683, 440, 717]"/>
          <outPorts id="_K_V-MI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_WlQI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K-4rMY2CEeKjOIt6xW2jaA" name="Unit Delay2" incomingLines="_K--x042CEeKjOIt6xW2jaA" outgoingLines="_K_BOE42CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[410, 738, 445, 772]"/>
          <outPorts id="_K_XMUI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_XzYI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:SubSystem" id="_K-5SQI2CEeKjOIt6xW2jaA" name="DataLinkLayer" incomingLines="_K-9js42CEeKjOIt6xW2jaA _K--KwY2CEeKjOIt6xW2jaA _K--x0I2CEeKjOIt6xW2jaA _K--x0Y2CEeKjOIt6xW2jaA _K--x1I2CEeKjOIt6xW2jaA _K-_Y4o2CEeKjOIt6xW2jaA _K-_Y5I2CEeKjOIt6xW2jaA _K_AnBI2CEeKjOIt6xW2jaA _K_BOEI2CEeKjOIt6xW2jaA _K_BOEo2CEeKjOIt6xW2jaA" outgoingLines="_K-88oI2CEeKjOIt6xW2jaA _K-9jsI2CEeKjOIt6xW2jaA _K-9jso2CEeKjOIt6xW2jaA _K--KxI2CEeKjOIt6xW2jaA _K-_Y442CEeKjOIt6xW2jaA _K_AnAI2CEeKjOIt6xW2jaA _K_AnAo2CEeKjOIt6xW2jaA _K_AnA42CEeKjOIt6xW2jaA _K_B1II2CEeKjOIt6xW2jaA _K_CcMI2CEeKjOIt6xW2jaA">
          <parameters name="System.Location" value="[1284, 50, 2556, 995]"/>
          <parameters name="Position" value="[470, 33, 615, 402]"/>
          <outPorts id="_K_ZokI2CEeKjOIt6xW2jaA" name="snd_from_out" incomingLines="_K_r8co2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 48, 685, 62]"/>
            <inPorts id="_K_-3YI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_aPoI2CEeKjOIt6xW2jaA" name="snd_to_out" incomingLines="_K_rVZI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 83, 685, 97]"/>
            <inPorts id="_K__ecI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_a2sI2CEeKjOIt6xW2jaA" name="snd_msg_out" incomingLines="_K_quUY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 118, 685, 132]"/>
            <inPorts id="_LAAFgI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_bdwI2CEeKjOIt6xW2jaA" name="snd_param_out" incomingLines="_K_r8cY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 153, 685, 167]"/>
            <inPorts id="_LAAskI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_cE0I2CEeKjOIt6xW2jaA" name="snd_pkgid_out" incomingLines="_K_pgNI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[655, 188, 685, 202]"/>
            <inPorts id="_LABToI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_cr4I2CEeKjOIt6xW2jaA" name="snd_time_out" incomingLines="_K_quUo2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 328, 685, 342]"/>
            <inPorts id="_LAChwI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_dS8I2CEeKjOIt6xW2jaA" name="recv_from_out" incomingLines="_K_rVYo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 223, 685, 237]"/>
            <inPorts id="_LADI0I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_d6AI2CEeKjOIt6xW2jaA" name="recv_msg_out" incomingLines="_K_qHQY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 258, 685, 272]"/>
            <inPorts id="_LADv4I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_ehEI2CEeKjOIt6xW2jaA" name="recv_param_out" incomingLines="_K_pgMo2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 293, 685, 307]"/>
            <inPorts id="_LAEW8I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_fIII2CEeKjOIt6xW2jaA" name="debug" incomingLines="_K_r8c42CEeKjOIt6xW2jaA" dimensions="-1">
            <parameters name="Position" value="[770, 398, 800, 412]"/>
            <inPorts id="_LAE-AI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K_gWQI2CEeKjOIt6xW2jaA" name="recv_from_in" outgoingLines="_K_quU42CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 208, 330, 222]"/>
            <outPorts id="_LAFlEI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_g9UI2CEeKjOIt6xW2jaA" name="recv_to_in" outgoingLines="_K_pgM42CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 243, 330, 257]"/>
            <outPorts id="_LAGMII2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_hkYI2CEeKjOIt6xW2jaA" name="recv_msg_in" outgoingLines="_K_r8cI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 278, 330, 292]"/>
            <outPorts id="_LAGzMI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_iLcI2CEeKjOIt6xW2jaA" name="recv_param_in" outgoingLines="_K_rVY42CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 313, 330, 327]"/>
            <outPorts id="_LAHaQI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_iygI2CEeKjOIt6xW2jaA" name="recv_pkgid_in" outgoingLines="_K_qHQo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[300, 348, 330, 362]"/>
            <outPorts id="_LAIoYI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_jZkI2CEeKjOIt6xW2jaA" name="recv_time_in" outgoingLines="_K_quVI2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 383, 330, 397]"/>
            <outPorts id="_LAJPcI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_kAoI2CEeKjOIt6xW2jaA" name="snd_from_in" outgoingLines="_K_qHQI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 68, 330, 82]"/>
            <outPorts id="_LAKdkI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_lOwI2CEeKjOIt6xW2jaA" name="snd_to_in" outgoingLines="_K_rVYI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 103, 330, 117]"/>
            <outPorts id="_LALrsI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_lOwY2CEeKjOIt6xW2jaA" name="snd_msg_in" outgoingLines="_K_qHQ42CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 138, 330, 152]"/>
            <outPorts id="_LAMSwI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_l10I2CEeKjOIt6xW2jaA" name="snd_param_in" outgoingLines="_K_rVYY2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 173, 330, 187]"/>
            <outPorts id="_LAM50I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <lines id="_K_pgMI2CEeKjOIt6xW2jaA" sourcePort="_LAX48I2CEeKjOIt6xW2jaA" targetPort="_LAPWEI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_mc4I2CEeKjOIt6xW2jaA"/>
          <lines id="_K_pgMY2CEeKjOIt6xW2jaA" sourcePort="_LAWq0I2CEeKjOIt6xW2jaA" targetPort="_LAOH8I2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_mc4I2CEeKjOIt6xW2jaA"/>
          <lines id="_K_pgMo2CEeKjOIt6xW2jaA" sourcePort="_LAVcsI2CEeKjOIt6xW2jaA" targetPort="_LAEW8I2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_ehEI2CEeKjOIt6xW2jaA"/>
          <lines id="_K_pgM42CEeKjOIt6xW2jaA" sourcePort="_LAGMII2CEeKjOIt6xW2jaA" targetPort="_LAa8QI2CEeKjOIt6xW2jaA" sourceBlock="_K_g9UI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_pgNI2CEeKjOIt6xW2jaA" sourcePort="_LATngI2CEeKjOIt6xW2jaA" targetPort="_LABToI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_cE0I2CEeKjOIt6xW2jaA"/>
          <lines id="_K_qHQI2CEeKjOIt6xW2jaA" sourcePort="_LAKdkI2CEeKjOIt6xW2jaA" targetPort="_LAYgAI2CEeKjOIt6xW2jaA" sourceBlock="_K_kAoI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_qHQY2CEeKjOIt6xW2jaA" sourcePort="_LAUOkI2CEeKjOIt6xW2jaA" targetPort="_LADv4I2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_d6AI2CEeKjOIt6xW2jaA"/>
          <lines id="_K_qHQo2CEeKjOIt6xW2jaA" sourcePort="_LAIoYI2CEeKjOIt6xW2jaA" targetPort="_LAcxcI2CEeKjOIt6xW2jaA" sourceBlock="_K_iygI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_qHQ42CEeKjOIt6xW2jaA" sourcePort="_LAMSwI2CEeKjOIt6xW2jaA" targetPort="_LAZHEY2CEeKjOIt6xW2jaA" sourceBlock="_K_lOwY2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_quUI2CEeKjOIt6xW2jaA" sourcePort="_LAgb0I2CEeKjOIt6xW2jaA" targetPort="_LAd_kI2CEeKjOIt6xW2jaA" sourceBlock="_K_nrAI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_quUY2CEeKjOIt6xW2jaA" sourcePort="_LASZYI2CEeKjOIt6xW2jaA" targetPort="_LAAFgI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_a2sI2CEeKjOIt6xW2jaA"/>
          <lines id="_K_quUo2CEeKjOIt6xW2jaA" sourcePort="_LAWDwI2CEeKjOIt6xW2jaA" targetPort="_LAChwI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_cr4I2CEeKjOIt6xW2jaA"/>
          <lines id="_K_quU42CEeKjOIt6xW2jaA" sourcePort="_LAFlEI2CEeKjOIt6xW2jaA" targetPort="_LAaVMI2CEeKjOIt6xW2jaA" sourceBlock="_K_gWQI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_quVI2CEeKjOIt6xW2jaA" sourcePort="_LAJPcI2CEeKjOIt6xW2jaA" targetPort="_LAdYgI2CEeKjOIt6xW2jaA" sourceBlock="_K_jZkI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_rVYI2CEeKjOIt6xW2jaA" sourcePort="_LALrsI2CEeKjOIt6xW2jaA" targetPort="_LAZHEI2CEeKjOIt6xW2jaA" sourceBlock="_K_lOwI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_rVYY2CEeKjOIt6xW2jaA" sourcePort="_LAM50I2CEeKjOIt6xW2jaA" targetPort="_LAZuII2CEeKjOIt6xW2jaA" sourceBlock="_K_l10I2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_rVYo2CEeKjOIt6xW2jaA" sourcePort="_LATngY2CEeKjOIt6xW2jaA" targetPort="_LADI0I2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_dS8I2CEeKjOIt6xW2jaA"/>
          <lines id="_K_rVY42CEeKjOIt6xW2jaA" sourcePort="_LAHaQI2CEeKjOIt6xW2jaA" targetPort="_LAcKYI2CEeKjOIt6xW2jaA" sourceBlock="_K_iLcI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_rVZI2CEeKjOIt6xW2jaA" sourcePort="_LARyUI2CEeKjOIt6xW2jaA" targetPort="_K__ecI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_aPoI2CEeKjOIt6xW2jaA"/>
          <lines id="_K_r8cI2CEeKjOIt6xW2jaA" sourcePort="_LAGzMI2CEeKjOIt6xW2jaA" targetPort="_LAbjUI2CEeKjOIt6xW2jaA" sourceBlock="_K_hkYI2CEeKjOIt6xW2jaA" targetBlock="_K_mc4Y2CEeKjOIt6xW2jaA"/>
          <lines id="_K_r8cY2CEeKjOIt6xW2jaA" sourcePort="_LATAcI2CEeKjOIt6xW2jaA" targetPort="_LAAskI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_bdwI2CEeKjOIt6xW2jaA"/>
          <lines id="_K_r8co2CEeKjOIt6xW2jaA" sourcePort="_LARLQI2CEeKjOIt6xW2jaA" targetPort="_K_-3YI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_ZokI2CEeKjOIt6xW2jaA"/>
          <lines id="_K_r8c42CEeKjOIt6xW2jaA" sourcePort="_LANg4I2CEeKjOIt6xW2jaA" targetPort="_LAE-AI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4I2CEeKjOIt6xW2jaA" targetBlock="_K_fIII2CEeKjOIt6xW2jaA"/>
          <lines id="_K_r8dI2CEeKjOIt6xW2jaA" sourcePort="_LAXR4I2CEeKjOIt6xW2jaA" targetPort="_LAOvAI2CEeKjOIt6xW2jaA" sourceBlock="_K_mc4Y2CEeKjOIt6xW2jaA" targetBlock="_K_mc4I2CEeKjOIt6xW2jaA"/>
          <blocks xsi:type="model:BusCreator" id="_K_mc4I2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_K_pgMI2CEeKjOIt6xW2jaA _K_pgMY2CEeKjOIt6xW2jaA _K_r8dI2CEeKjOIt6xW2jaA" outgoingLines="_K_r8c42CEeKjOIt6xW2jaA">
            <parameters name="Position" value="[690, 349, 695, 461]"/>
            <outPorts id="_LANg4I2CEeKjOIt6xW2jaA"/>
            <inPorts id="_LAOH8I2CEeKjOIt6xW2jaA" name="queue_sending_ratio"/>
            <inPorts id="_LAOvAI2CEeKjOIt6xW2jaA" name="queue_received_ratio"/>
            <inPorts id="_LAPWEI2CEeKjOIt6xW2jaA" name="queue_ack_ratio"/>
          </blocks>
          <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K_mc4Y2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_K_pgM42CEeKjOIt6xW2jaA _K_qHQI2CEeKjOIt6xW2jaA _K_qHQo2CEeKjOIt6xW2jaA _K_qHQ42CEeKjOIt6xW2jaA _K_quUI2CEeKjOIt6xW2jaA _K_quU42CEeKjOIt6xW2jaA _K_quVI2CEeKjOIt6xW2jaA _K_rVYI2CEeKjOIt6xW2jaA _K_rVYY2CEeKjOIt6xW2jaA _K_rVY42CEeKjOIt6xW2jaA _K_r8cI2CEeKjOIt6xW2jaA" outgoingLines="_K_pgMI2CEeKjOIt6xW2jaA _K_pgMY2CEeKjOIt6xW2jaA _K_pgMo2CEeKjOIt6xW2jaA _K_pgNI2CEeKjOIt6xW2jaA _K_qHQY2CEeKjOIt6xW2jaA _K_quUY2CEeKjOIt6xW2jaA _K_quUo2CEeKjOIt6xW2jaA _K_rVYo2CEeKjOIt6xW2jaA _K_rVZI2CEeKjOIt6xW2jaA _K_r8cY2CEeKjOIt6xW2jaA _K_r8co2CEeKjOIt6xW2jaA _K_r8dI2CEeKjOIt6xW2jaA" code="function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)&#xA;%#eml&#xA;eml.extrinsic('warning', 'disp', 'fprintf');&#xA;&#xA;%Constants&#xA;BUS_SIZE =  numel(snd_msg_in);&#xA;TIMEOUT_ACK     = 2.0;&#xA;MSG_ACK         = 255;&#xA;QUEUE_SIZE = 10;&#xA;QUEUE_SIZE_SENDING = QUEUE_SIZE * BUS_SIZE;&#xA;QUEUE_SIZE_ACK  = QUEUE_SIZE* BUS_SIZE;&#xA;QUEUE_SIZE_RECEIVED = QUEUE_SIZE *BUS_SIZE;&#xA;&#xA;&#xA;%Init&#xA;from    = zeros(1,BUS_SIZE,'uint8');&#xA;to      = zeros(1,BUS_SIZE,'uint8');&#xA;msg     = zeros(1,BUS_SIZE,'uint16');&#xA;param   = zeros(1,BUS_SIZE,'double');&#xA;pkgid   = zeros(1,BUS_SIZE,'uint32');&#xA;time    = zeros(1,BUS_SIZE,'double');&#xA; &#xA;recv_from_out    = zeros(1,BUS_SIZE,'uint8');&#xA;recv_msg_out     = zeros(1,BUS_SIZE,'uint16');&#xA;recv_param_out   = zeros(1,BUS_SIZE,'double');&#xA;&#xA;&#xA;recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);&#xA;&#xA;&#xA;&#xA;%Persistent variables&#xA;persistent sendingQueue ackQueue receivedQueue lastPkgid&#xA;&#xA;if isempty(lastPkgid)&#xA;    lastPkgid = uint32(0);&#xA;end&#xA;&#xA;if isempty(sendingQueue)&#xA;    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);&#xA;end&#xA;&#xA;if isempty(ackQueue)&#xA;    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);&#xA;end&#xA;&#xA;if isempty(receivedQueue)&#xA;    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);&#xA;end&#xA;&#xA;%compute stats&#xA;queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;&#xA;queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;&#xA;queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;&#xA;&#xA;%Step 1: Check for a new outgoing packet&#xA;for i = 1:BUS_SIZE    &#xA;    if snd_msg_in(i) ~= 0&#xA;        lastPkgid = lastPkgid +1;&#xA;        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);&#xA;&#xA;        %Add packet so the outgoing queue&#xA;        sendingQueue = enqueue(sendingQueue, outgoing); &#xA;    end&#xA;end&#xA;    &#xA;%Step 2: Check for a new incoming packet&#xA;for i = 1:length(recv_in)&#xA;    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);&#xA;    if incoming.from ~= 0 &amp;&amp; incoming.to == snd_from_in&#xA;        if incoming.msg == MSG_ACK&#xA;            %Remove packet from ackQueue&#xA;            for j=1:length(ackQueue)&#xA;                if ackQueue(j).pkgid == uint32(incoming.param)&#xA;                    ackQueue = dequeue(ackQueue,j);&#xA;                    break;&#xA;                end&#xA;            end&#xA;        else&#xA;            %Send ACK&#xA;            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);&#xA;            sendingQueue = enqueue(sendingQueue,ackPacket);&#xA;&#xA;            %Check for duplicated packets&#xA;            duplicatedPacket = false;&#xA;            for j=1:length(receivedQueue)&#xA;                if receivedQueue(j).pkgid == incoming.pkgid &amp;&amp; receivedQueue(j).from == incoming.from&#xA;                    duplicatedPacket = true;&#xA;                    break;&#xA;                end&#xA;            end&#xA;&#xA;            if duplicatedPacket == false&#xA;                %save packet&#xA;                receivedQueue = enqueue(receivedQueue, incoming);            &#xA;            end&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;%Step 3: Forward incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if receivedQueue(1).from ~= 0&#xA;        recv_from_out(i)    = receivedQueue(1).from;&#xA;        recv_msg_out(i)     = receivedQueue(1).msg;&#xA;        recv_param_out(i)   = receivedQueue(1).param;&#xA;        receivedQueue = dequeue(receivedQueue,1);&#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;%Step 4: Timeout reached? Send packet again&#xA;for i = 1:length(ackQueue)&#xA;    if ackQueue(i).to ~= 0&#xA;        if ackQueue(i).time + TIMEOUT_ACK &lt;= currentTime&#xA;            %Reset counter&#xA;            ackQueue(i).time = currentTime;&#xA;            %Send again&#xA;            sendingQueue = enqueue(sendingQueue, ackQueue(i));&#xA;            %Remove packet from ackQueue&#xA;            ackQueue = dequeue(ackQueue, i);&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;&#xA;%Step 5: Send outgoing packet&#xA;for i = 1:BUS_SIZE&#xA;    if sendingQueue(1).to ~= 0    &#xA;        from(i)    = sendingQueue(1).from;&#xA;        to(i)      = sendingQueue(1).to;&#xA;        msg(i)     = sendingQueue(1).msg;&#xA;        param(i)   = sendingQueue(1).param;&#xA;        pkgid(i)   = sendingQueue(1).pkgid;&#xA;        time(i)    = sendingQueue(1).time;&#xA;&#xA;        %Add it to the ack queue&#xA;        if sendingQueue(1).msg ~= MSG_ACK&#xA;            ackQueue = enqueue(ackQueue, sendingQueue(1));&#xA;        end&#xA;&#xA;        %remove packet from sending queue&#xA;        sendingQueue = dequeue(sendingQueue, 1);    &#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%%                          H E L P E R&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function p = packet(from, to, msg, param, pkgid, time)&#xA;%#eml&#xA;%Defines a packet&#xA;p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));&#xA;&#xA;function bus = bus(from, to, msg, param, pkgid, time, size) %emp&#xA;%Create an empty bus&#xA;bus = repmat(packet(0,0,0,0,0,0), 1, size);&#xA;for i=1:size&#xA;    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));&#xA;end&#xA;&#xA;&#xA;function queue = enqueue(queue, packet)&#xA;%#eml&#xA;eml.extrinsic('warning', 'sprintf');&#xA;for i = 1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;function queue = dequeue(queue, index)&#xA;%#eml&#xA;assert(index &lt;= length(queue))&#xA;for i=index:length(queue)-1;&#xA;    queue(i) = queue(i+1);&#xA;end&#xA;queue(length(queue)) = packet(0,0,0,0,0,0);&#xA;&#xA;function num = queueNumElements(queue)&#xA;%#eml&#xA;num = 0;&#xA;for i = 1:length(queue)&#xA;    if queue(i).to ~= uint8(0)&#xA;        num = num+1;&#xA;    end&#xA;end    &#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);">
            <parameters name="System.Location" value="[257, 457, 812, 717]"/>
            <parameters name="Position" value="[410, 41, 595, 454]"/>
            <outPorts id="_LARLQI2CEeKjOIt6xW2jaA" name="from" dimensions="-1">
              <parameters name="Position" value="[460, 101, 480, 119]"/>
              <inPorts id="_LAyIoI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LARyUI2CEeKjOIt6xW2jaA" name="to" dimensions="-1">
              <parameters name="Position" value="[460, 136, 480, 154]"/>
              <inPorts id="_LAz90I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LASZYI2CEeKjOIt6xW2jaA" name="msg" dimensions="-1">
              <parameters name="Position" value="[460, 171, 480, 189]"/>
              <inPorts id="_LA0k4I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LATAcI2CEeKjOIt6xW2jaA" name="param" dimensions="-1">
              <parameters name="Position" value="[460, 206, 480, 224]"/>
              <inPorts id="_LA1L8I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LATngI2CEeKjOIt6xW2jaA" name="pkgid" dimensions="-1">
              <parameters name="Position" value="[460, 246, 480, 264]"/>
              <inPorts id="_LA2aEI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LATngY2CEeKjOIt6xW2jaA" name="recv_from_out" dimensions="-1">
              <parameters name="Position" value="[460, 281, 480, 299]"/>
              <inPorts id="_LA3BII2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LAUOkI2CEeKjOIt6xW2jaA" name="recv_msg_out" dimensions="-1">
              <parameters name="Position" value="[460, 316, 480, 334]"/>
              <inPorts id="_LA3oMI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LAVcsI2CEeKjOIt6xW2jaA" name="recv_param_out" dimensions="-1">
              <parameters name="Position" value="[460, 351, 480, 369]"/>
              <inPorts id="_LA42UI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LAWDwI2CEeKjOIt6xW2jaA" name="time" dimensions="-1">
              <parameters name="Position" value="[460, 386, 480, 404]"/>
              <inPorts id="_LA5dYI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LAWq0I2CEeKjOIt6xW2jaA" name="queue_sending_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 426, 480, 444]"/>
              <inPorts id="_LA6EcI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LAXR4I2CEeKjOIt6xW2jaA" name="queue_received_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 461, 480, 479]"/>
              <inPorts id="_LA7SkI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LAX48I2CEeKjOIt6xW2jaA" name="queue_ack_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 496, 480, 514]"/>
              <inPorts id="_LA75oI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <inPorts id="_LAYgAI2CEeKjOIt6xW2jaA" name="snd_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 101, 40, 119]"/>
              <outPorts id="_LA9HwI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAZHEI2CEeKjOIt6xW2jaA" name="snd_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 136, 40, 154]"/>
              <outPorts id="_LA9u0I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAZHEY2CEeKjOIt6xW2jaA" name="snd_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 171, 40, 189]"/>
              <outPorts id="_LA-V4I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAZuII2CEeKjOIt6xW2jaA" name="snd_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 206, 40, 224]"/>
              <outPorts id="_LA_kAI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAaVMI2CEeKjOIt6xW2jaA" name="recv_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 246, 40, 264]"/>
              <outPorts id="_LBAyII2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAa8QI2CEeKjOIt6xW2jaA" name="recv_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 281, 40, 299]"/>
              <outPorts id="_LBBZMI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAbjUI2CEeKjOIt6xW2jaA" name="recv_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 316, 40, 334]"/>
              <outPorts id="_LBCAQI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAcKYI2CEeKjOIt6xW2jaA" name="recv_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 351, 40, 369]"/>
              <outPorts id="_LBDOYI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAcxcI2CEeKjOIt6xW2jaA" name="recv_pkgid_in" dimensions="-1" type="uint32">
              <parameters name="Position" value="[20, 386, 40, 404]"/>
              <outPorts id="_LBD1cI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAdYgI2CEeKjOIt6xW2jaA" name="recv_time_in" dimensions="-1">
              <parameters name="Position" value="[20, 426, 40, 444]"/>
              <outPorts id="_LBFDkI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LAd_kI2CEeKjOIt6xW2jaA" name="currentTime" dimensions="-1">
              <parameters name="Position" value="[20, 461, 40, 479]"/>
              <outPorts id="_LBFqoI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
          </blocks>
          <blocks xsi:type="model:DigitalClock" id="_K_nrAI2CEeKjOIt6xW2jaA" name="Digital Clock" outgoingLines="_K_quUI2CEeKjOIt6xW2jaA" sampleTime="0.1">
            <parameters name="Position" value="[280, 413, 345, 437]"/>
            <outPorts id="_LAgb0I2CEeKjOIt6xW2jaA"/>
          </blocks>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K-5SQY2CEeKjOIt6xW2jaA" name="Unit Delay3" incomingLines="_K-__8I2CEeKjOIt6xW2jaA" outgoingLines="_K_BOEY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1165, 533, 1200, 567]"/>
          <outPorts id="_K_sjgI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_tKkI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:BusCreator" id="_K-1A0I2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_K-88oI2CEeKjOIt6xW2jaA _K-_Y442CEeKjOIt6xW2jaA _K_AnAI2CEeKjOIt6xW2jaA _K_AnAo2CEeKjOIt6xW2jaA _K_AnA42CEeKjOIt6xW2jaA _K_B1II2CEeKjOIt6xW2jaA" outgoingLines="_K-mXUI2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[830, 37, 835, 258]"/>
          <outPorts id="_K-1A0Y2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_RFsI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_RFsY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_ST0I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_ST0Y2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_S64I2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_Th8I2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_K-55UI2CEeKjOIt6xW2jaA" name="Unit Delay4" incomingLines="_K--Kwo2CEeKjOIt6xW2jaA" outgoingLines="_K-_Y4I2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1170, 613, 1205, 647]"/>
          <outPorts id="_K_txoI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_K_uYsI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_K-6gYI2CEeKjOIt6xW2jaA" name="Terminator" incomingLines="_K--KwI2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[1155, 700, 1175, 720]"/>
          <inPorts id="_K_u_wI2CEeKjOIt6xW2jaA" name="1"/>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K-6gYY2CEeKjOIt6xW2jaA" name="Receive Packet" incomingLines="_K-9jsI2CEeKjOIt6xW2jaA _K-9jso2CEeKjOIt6xW2jaA _K-9jtI2CEeKjOIt6xW2jaA _K--KxI2CEeKjOIt6xW2jaA _K-_Y4Y2CEeKjOIt6xW2jaA" outgoingLines="_K--KwI2CEeKjOIt6xW2jaA _K--Kwo2CEeKjOIt6xW2jaA _K-__8I2CEeKjOIt6xW2jaA" code="function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;% This function receives packets and adds them to the event queue.&#xA;% A packet consists of a source, a message and an optional parameter for &#xA;% the message. Source and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;SOURCE = 2;&#xA;MESSAGE = 1;&#xA;BUS_SIZE = numel(packetFrom);&#xA;QUEUE_SIZE = 10;&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;bufferOverflow = false;&#xA;&#xA;%New incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if packetFrom(i) ~= 0 &#xA;        bufferOverflow = true;&#xA;        %Add it to the incoming event Queue&#xA;        for j = 1:QUEUE_SIZE&#xA;            %Search for an empty place&#xA;            if eventQueue(j,SOURCE) == 0&#xA;                eventQueue(j,SOURCE)    = packetFrom(i);&#xA;                eventQueue(j,MESSAGE)   = packetMsg(i);&#xA;                eventParamQueue(j)      = packetParam(i);&#xA;                bufferOverflow = false;&#xA;                break;&#xA;            end&#xA;        end        &#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[900, 506, 1085, 754]"/>
          <outPorts id="_K_wN4I2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_LAjfII2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_w08I2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_LAkGMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_yDEI2CEeKjOIt6xW2jaA" name="bufferOverflow" dimensions="-1" type="boolean">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_LAlUUI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K_yDEY2CEeKjOIt6xW2jaA" name="packetFrom" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_LAl7YI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_yqII2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_LAmicI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_zRMI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_LAnwkI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_z4QI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 206, 40, 224]"/>
            <outPorts id="_LAo-sI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_0fUI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 246, 40, 264]"/>
            <outPorts id="_LAqM0I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_K-7HcI2CEeKjOIt6xW2jaA" name="Send Packet" incomingLines="_K--Kw42CEeKjOIt6xW2jaA _K--x0o2CEeKjOIt6xW2jaA _K-__8Y2CEeKjOIt6xW2jaA" outgoingLines="_K-9jsY2CEeKjOIt6xW2jaA _K--x0I2CEeKjOIt6xW2jaA _K--x042CEeKjOIt6xW2jaA _K_BOEI2CEeKjOIt6xW2jaA" code="function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;&#xA;% This function creates packets from the event queue. A packet consists&#xA;% of a destination, a message and an optional parameter for the message.&#xA;% Destination and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;DESTINATION = 2;&#xA;MESSAGE = 1;&#xA;QUEUE_SIZE = 10;&#xA;&#xA;busSize = numel(busSizeSignal);&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;packetMsg = zeros(1,busSize,'uint16');&#xA;packetParam = zeros(1,busSize,'double');&#xA;&#xA;%There is an event in the queue&#xA;for i = 1:busSize   &#xA;    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0&#xA;        %Create packet from the firs entry in the queue&#xA;        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));&#xA;        packetParam(i) = eventParamQueue(1);&#xA;        %Remove the event from the queue&#xA;        for j=1:QUEUE_SIZE - 1&#xA;            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);&#xA;            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);&#xA;            eventParamQueue(j)          = eventParamQueue(j+1);&#xA;        end&#xA;        %Set last element to zero&#xA;        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;&#xA;        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;&#xA;        eventParamQueue(QUEUE_SIZE)    = 0;&#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[150, 514, 310, 781]"/>
          <outPorts id="_K_2UgI2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_LAra8I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_27kI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_LAsCAI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_3ioI2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_LAtQII2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_K_4JsI2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 206, 480, 224]"/>
            <inPorts id="_LAt3MI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_K_5X0I2CEeKjOIt6xW2jaA" name="busSizeSignal" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_LAvFUI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_5-4I2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_LAvsYI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_K_6l8I2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_LAw6gI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_K_CcMY2CEeKjOIt6xW2jaA" name="Terminator2" incomingLines="_K_CcMI2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[780, 362, 805, 388]"/>
          <inPorts id="_K_-QUI2CEeKjOIt6xW2jaA"/>
        </blocks>
      </blocks>
    </blocks>
    <blocks xsi:type="model:SubSystem" id="_KlBZsI2CEeKjOIt6xW2jaA" name="SensorProcessing">
      <parameters name="Position" value="[1260, 20, 1510, 720]"/>
      <outPorts id="_LC1-II2CEeKjOIt6xW2jaA" name="MC_BAT_Info_send" incomingLines="_LC1XE42CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[860, 300, 890, 330]"/>
        <inPorts id="_LDA9QI2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <inPorts id="_KlDO4I2CEeKjOIt6xW2jaA" name="clockSignal" outgoingLines="_KlDO4Y2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 30, 220, 60]"/>
        <outPorts id="_KlD18Y2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_KrX5UY2CEeKjOIt6xW2jaA" name="Pos_X" outgoingLines="_KrZugI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[60, 90, 90, 120]"/>
        <outPorts id="_KrbjsI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_Krmi0Y2CEeKjOIt6xW2jaA" name="ObjectRecognition" outgoingLines="_KroYAI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[60, 150, 90, 180]"/>
        <outPorts id="_KrqNMI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_KrywEY2CEeKjOIt6xW2jaA" name="Pos_Z" outgoingLines="_Kr0lQI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[60, 210, 90, 240]"/>
        <outPorts id="_Kr1zYI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_Kr8hEI2CEeKjOIt6xW2jaA" name="Pos_Y" outgoingLines="_Kr-9UI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[60, 270, 90, 300]"/>
        <outPorts id="_KsALcI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_KsHgMI2CEeKjOIt6xW2jaA" name="Time" outgoingLines="_KsIuUY2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[60, 330, 90, 360]"/>
        <outPorts id="_KsKjgI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_KsTtcI2CEeKjOIt6xW2jaA" name="Velocity" outgoingLines="_KsVioI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[60, 390, 90, 420]"/>
        <outPorts id="_KsXX0I2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LC1-IY2CEeKjOIt6xW2jaA" name="MC_BAT_Info_recv" outgoingLines="_LC1XEo2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[190, 300, 220, 330]"/>
        <outPorts id="_LDAWMY2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LC3MQI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_net_address" outgoingLines="_LC4aYI2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 360, 220, 390]"/>
        <outPorts id="_LDJgIo2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_LC3zUI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_receiver_net_address" outgoingLines="_LC4aYY2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[190, 420, 220, 450]"/>
        <outPorts id="_LDKHMI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <lines id="_KlDO4Y2CEeKjOIt6xW2jaA" sourcePort="_KlD18Y2CEeKjOIt6xW2jaA" targetPort="_KlD18I2CEeKjOIt6xW2jaA" sourceBlock="_KlDO4I2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_KrZugI2CEeKjOIt6xW2jaA" sourcePort="_KrbjsI2CEeKjOIt6xW2jaA" targetPort="_Krbjs42CEeKjOIt6xW2jaA" sourceBlock="_KrX5UY2CEeKjOIt6xW2jaA" targetBlock="_KrZHcI2CEeKjOIt6xW2jaA"/>
      <lines id="_KrX5UI2CEeKjOIt6xW2jaA" sourcePort="_Krbjso2CEeKjOIt6xW2jaA" targetPort="_KrWEII2CEeKjOIt6xW2jaA" sourceBlock="_KrZHcI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_KroYAI2CEeKjOIt6xW2jaA" sourcePort="_KrqNMI2CEeKjOIt6xW2jaA" targetPort="_Krq0QY2CEeKjOIt6xW2jaA" sourceBlock="_Krmi0Y2CEeKjOIt6xW2jaA" targetBlock="_Krnw8I2CEeKjOIt6xW2jaA"/>
      <lines id="_Krmi0I2CEeKjOIt6xW2jaA" sourcePort="_Krq0QI2CEeKjOIt6xW2jaA" targetPort="_KrktoI2CEeKjOIt6xW2jaA" sourceBlock="_Krnw8I2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_Kr0lQI2CEeKjOIt6xW2jaA" sourcePort="_Kr1zYI2CEeKjOIt6xW2jaA" targetPort="_Kr1zY42CEeKjOIt6xW2jaA" sourceBlock="_KrywEY2CEeKjOIt6xW2jaA" targetBlock="_Krz-MI2CEeKjOIt6xW2jaA"/>
      <lines id="_KrywEI2CEeKjOIt6xW2jaA" sourcePort="_Kr1zYo2CEeKjOIt6xW2jaA" targetPort="_Krxh8I2CEeKjOIt6xW2jaA" sourceBlock="_Krz-MI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_Kr-9UI2CEeKjOIt6xW2jaA" sourcePort="_KsALcI2CEeKjOIt6xW2jaA" targetPort="_KsAygY2CEeKjOIt6xW2jaA" sourceBlock="_Kr8hEI2CEeKjOIt6xW2jaA" targetBlock="_Kr-WQI2CEeKjOIt6xW2jaA"/>
      <lines id="_Kr76AI2CEeKjOIt6xW2jaA" sourcePort="_KsAygI2CEeKjOIt6xW2jaA" targetPort="_Kr6r4I2CEeKjOIt6xW2jaA" sourceBlock="_Kr-WQI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_KsIuUY2CEeKjOIt6xW2jaA" sourcePort="_KsKjgI2CEeKjOIt6xW2jaA" targetPort="_KsKjg42CEeKjOIt6xW2jaA" sourceBlock="_KsHgMI2CEeKjOIt6xW2jaA" targetBlock="_KsIuUI2CEeKjOIt6xW2jaA"/>
      <lines id="_KsG5II2CEeKjOIt6xW2jaA" sourcePort="_KsKjgo2CEeKjOIt6xW2jaA" targetPort="_KsFrAI2CEeKjOIt6xW2jaA" sourceBlock="_KsIuUI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_KsVioI2CEeKjOIt6xW2jaA" sourcePort="_KsXX0I2CEeKjOIt6xW2jaA" targetPort="_KsX-4Y2CEeKjOIt6xW2jaA" sourceBlock="_KsTtcI2CEeKjOIt6xW2jaA" targetBlock="_KsU7kI2CEeKjOIt6xW2jaA"/>
      <lines id="_KsTGYI2CEeKjOIt6xW2jaA" sourcePort="_KsX-4I2CEeKjOIt6xW2jaA" targetPort="_KsRRMI2CEeKjOIt6xW2jaA" sourceBlock="_KsU7kI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_LC1XE42CEeKjOIt6xW2jaA" sourcePort="_LC_vII2CEeKjOIt6xW2jaA" targetPort="_LDA9QI2CEeKjOIt6xW2jaA" sourceBlock="_LC2lMI2CEeKjOIt6xW2jaA" targetBlock="_LC1-II2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_LC1XEo2CEeKjOIt6xW2jaA" sourcePort="_LDAWMY2CEeKjOIt6xW2jaA" targetPort="_LC-hAY2CEeKjOIt6xW2jaA" sourceBlock="_LC1-IY2CEeKjOIt6xW2jaA" targetBlock="_LC2lMI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_LCwekI2CEeKjOIt6xW2jaA" sourcePort="_LCy60I2CEeKjOIt6xW2jaA" targetPort="_LC4aYo2CEeKjOIt6xW2jaA" sourceBlock="_KlCAwI2CEeKjOIt6xW2jaA" targetBlock="_LC2lMI2CEeKjOIt6xW2jaA"/>
      <lines id="_LCwekY2CEeKjOIt6xW2jaA" sourcePort="_LC5BcI2CEeKjOIt6xW2jaA" targetPort="_LCxFo42CEeKjOIt6xW2jaA" sourceBlock="_LC2lMI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_LCweko2CEeKjOIt6xW2jaA" sourcePort="_LC5ogI2CEeKjOIt6xW2jaA" targetPort="_LCxssI2CEeKjOIt6xW2jaA" sourceBlock="_LC2lMI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_LCwek42CEeKjOIt6xW2jaA" sourcePort="_LCzh4I2CEeKjOIt6xW2jaA" targetPort="_LC6PkI2CEeKjOIt6xW2jaA" sourceBlock="_KlCAwI2CEeKjOIt6xW2jaA" targetBlock="_LC2lMI2CEeKjOIt6xW2jaA"/>
      <lines id="_LCwelI2CEeKjOIt6xW2jaA" sourcePort="_LC0I8I2CEeKjOIt6xW2jaA" targetPort="_LC62oI2CEeKjOIt6xW2jaA" sourceBlock="_KlCAwI2CEeKjOIt6xW2jaA" targetBlock="_LC2lMI2CEeKjOIt6xW2jaA"/>
      <lines id="_LCxFoI2CEeKjOIt6xW2jaA" sourcePort="_LC0wAI2CEeKjOIt6xW2jaA" targetPort="_LC7dsI2CEeKjOIt6xW2jaA" sourceBlock="_KlCAwI2CEeKjOIt6xW2jaA" targetBlock="_LC2lMI2CEeKjOIt6xW2jaA"/>
      <lines id="_LCxFoY2CEeKjOIt6xW2jaA" sourcePort="_LC8EwI2CEeKjOIt6xW2jaA" targetPort="_LCyTwI2CEeKjOIt6xW2jaA" sourceBlock="_LC2lMI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_LCxFoo2CEeKjOIt6xW2jaA" sourcePort="_LC8r0I2CEeKjOIt6xW2jaA" targetPort="_LCyTwY2CEeKjOIt6xW2jaA" sourceBlock="_LC2lMI2CEeKjOIt6xW2jaA" targetBlock="_KlCAwI2CEeKjOIt6xW2jaA"/>
      <lines id="_LC4aYI2CEeKjOIt6xW2jaA" sourcePort="_LDJgIo2CEeKjOIt6xW2jaA" targetPort="_LDBkUI2CEeKjOIt6xW2jaA" sourceBlock="_LC3MQI2CEeKjOIt6xW2jaA" targetBlock="_LC2lMI2CEeKjOIt6xW2jaA"/>
      <lines id="_LC4aYY2CEeKjOIt6xW2jaA" sourcePort="_LDKHMI2CEeKjOIt6xW2jaA" targetPort="_LDCLYI2CEeKjOIt6xW2jaA" sourceBlock="_LC3zUI2CEeKjOIt6xW2jaA" targetBlock="_LC2lMI2CEeKjOIt6xW2jaA"/>
      <blocks xsi:type="model:ChartBlock" id="_KlCAwI2CEeKjOIt6xW2jaA" name="SensorProcessing_Statechart" incomingLines="_KlDO4Y2CEeKjOIt6xW2jaA _KrX5UI2CEeKjOIt6xW2jaA _Krmi0I2CEeKjOIt6xW2jaA _KrywEI2CEeKjOIt6xW2jaA _Kr76AI2CEeKjOIt6xW2jaA _KsG5II2CEeKjOIt6xW2jaA _KsTGYI2CEeKjOIt6xW2jaA _LCwekY2CEeKjOIt6xW2jaA _LCweko2CEeKjOIt6xW2jaA _LCxFoY2CEeKjOIt6xW2jaA _LCxFoo2CEeKjOIt6xW2jaA" outgoingLines="_LCwekI2CEeKjOIt6xW2jaA _LCwek42CEeKjOIt6xW2jaA _LCwelI2CEeKjOIt6xW2jaA _LCxFoI2CEeKjOIt6xW2jaA" chart="_KdWEYI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[250, 30, 800, 240]"/>
        <outPorts id="_LCy60I2CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadOut" type="uint8">
          <inPorts id="_LC958o2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_LCzh4I2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadOut" type="double">
          <inPorts id="_LC95842CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_LC0I8I2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteOut" type="uint8">
          <inPorts id="_LC959I2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <outPorts id="_LC0wAI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteOut" type="double">
          <inPorts id="_LC-hAI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_KlD18I2CEeKjOIt6xW2jaA" name="clockSignal">
          <outPorts id="_KlD18o2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KrWEII2CEeKjOIt6xW2jaA" name="Pos_X" type="boolean">
          <outPorts id="_KrbjsY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KrktoI2CEeKjOIt6xW2jaA" name="ObjectRecognition" type="boolean">
          <outPorts id="_KrqNMY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_Krxh8I2CEeKjOIt6xW2jaA" name="Pos_Z" type="boolean">
          <outPorts id="_Kr1zYY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_Kr6r4I2CEeKjOIt6xW2jaA" name="Pos_Y" type="boolean">
          <outPorts id="_KsALcY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KsFrAI2CEeKjOIt6xW2jaA" name="Time" type="boolean">
          <outPorts id="_KsKjgY2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_KsRRMI2CEeKjOIt6xW2jaA" name="Velocity" type="boolean">
          <outPorts id="_KsXX0Y2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_LCxFo42CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadIn" type="uint8">
          <outPorts id="_LC9S4I2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_LCxssI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadIn" type="double">
          <outPorts id="_LC9S4Y2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_LCyTwI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteIn" type="uint8">
          <outPorts id="_LC958I2CEeKjOIt6xW2jaA"/>
        </inPorts>
        <inPorts id="_LCyTwY2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteIn" type="double">
          <outPorts id="_LC958Y2CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:ZeroOrderHold" id="_KrZHcI2CEeKjOIt6xW2jaA" name="Pos_X_ZeroOrderHold" incomingLines="_KrZugI2CEeKjOIt6xW2jaA" outgoingLines="_KrX5UI2CEeKjOIt6xW2jaA" sampleTime="0.01">
        <parameters name="Position" value="[160, 90, 190, 120]"/>
        <outPorts id="_Krbjso2CEeKjOIt6xW2jaA">
          <inPorts id="_KrcKwI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_Krbjs42CEeKjOIt6xW2jaA">
          <outPorts id="_KrcKwY2CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:ZeroOrderHold" id="_Krnw8I2CEeKjOIt6xW2jaA" name="ObjectRecognition_ZeroOrderHold" incomingLines="_KroYAI2CEeKjOIt6xW2jaA" outgoingLines="_Krmi0I2CEeKjOIt6xW2jaA" sampleTime="0.01">
        <parameters name="Position" value="[160, 150, 190, 180]"/>
        <outPorts id="_Krq0QI2CEeKjOIt6xW2jaA">
          <inPorts id="_Krq0Qo2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_Krq0QY2CEeKjOIt6xW2jaA">
          <outPorts id="_KrrbUI2CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:ZeroOrderHold" id="_Krz-MI2CEeKjOIt6xW2jaA" name="Pos_Z_ZeroOrderHold" incomingLines="_Kr0lQI2CEeKjOIt6xW2jaA" outgoingLines="_KrywEI2CEeKjOIt6xW2jaA" sampleTime="0.01">
        <parameters name="Position" value="[160, 210, 190, 240]"/>
        <outPorts id="_Kr1zYo2CEeKjOIt6xW2jaA">
          <inPorts id="_Kr1zZI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_Kr1zY42CEeKjOIt6xW2jaA">
          <outPorts id="_Kr2acI2CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:ZeroOrderHold" id="_Kr-WQI2CEeKjOIt6xW2jaA" name="Pos_Y_ZeroOrderHold" incomingLines="_Kr-9UI2CEeKjOIt6xW2jaA" outgoingLines="_Kr76AI2CEeKjOIt6xW2jaA" sampleTime="0.01">
        <parameters name="Position" value="[160, 270, 190, 300]"/>
        <outPorts id="_KsAygI2CEeKjOIt6xW2jaA">
          <inPorts id="_KsAygo2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_KsAygY2CEeKjOIt6xW2jaA">
          <outPorts id="_KsAyg42CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:ZeroOrderHold" id="_KsIuUI2CEeKjOIt6xW2jaA" name="Time_ZeroOrderHold" incomingLines="_KsIuUY2CEeKjOIt6xW2jaA" outgoingLines="_KsG5II2CEeKjOIt6xW2jaA" sampleTime="0.01">
        <parameters name="Position" value="[160, 330, 190, 360]"/>
        <outPorts id="_KsKjgo2CEeKjOIt6xW2jaA">
          <inPorts id="_KsLKkI2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_KsKjg42CEeKjOIt6xW2jaA">
          <outPorts id="_KsLKkY2CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:ZeroOrderHold" id="_KsU7kI2CEeKjOIt6xW2jaA" name="Velocity_ZeroOrderHold" incomingLines="_KsVioI2CEeKjOIt6xW2jaA" outgoingLines="_KsTGYI2CEeKjOIt6xW2jaA" sampleTime="0.01">
        <parameters name="Position" value="[160, 390, 190, 420]"/>
        <outPorts id="_KsX-4I2CEeKjOIt6xW2jaA">
          <inPorts id="_KsX-4o2CEeKjOIt6xW2jaA"/>
        </outPorts>
        <inPorts id="_KsX-4Y2CEeKjOIt6xW2jaA">
          <outPorts id="_KsX-442CEeKjOIt6xW2jaA"/>
        </inPorts>
      </blocks>
      <blocks xsi:type="model:SubSystem" id="_LC2lMI2CEeKjOIt6xW2jaA" name="Link Layer MC_BAT_Info" incomingLines="_LCwekI2CEeKjOIt6xW2jaA _LCwek42CEeKjOIt6xW2jaA _LCwelI2CEeKjOIt6xW2jaA _LCxFoI2CEeKjOIt6xW2jaA _LC1XEo2CEeKjOIt6xW2jaA _LC4aYI2CEeKjOIt6xW2jaA _LC4aYY2CEeKjOIt6xW2jaA" outgoingLines="_LCwekY2CEeKjOIt6xW2jaA _LCweko2CEeKjOIt6xW2jaA _LCxFoY2CEeKjOIt6xW2jaA _LCxFoo2CEeKjOIt6xW2jaA _LC1XE42CEeKjOIt6xW2jaA">
        <parameters name="System.Location" value="[1284, 164, 2556, 887]"/>
        <parameters name="Position" value="[250, 300, 800, 700]"/>
        <outPorts id="_LC_vII2CEeKjOIt6xW2jaA" name="port_out" incomingLines="_LC1XEY2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[960, 143, 990, 157]"/>
          <inPorts id="_LDAWMI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_LC5BcI2CEeKjOIt6xW2jaA" name="write_event_queue_in" incomingLines="_LDI5EI2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[1245, 543, 1275, 557]"/>
          <inPorts id="_LDLVUI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_LC5ogI2CEeKjOIt6xW2jaA" name="write_event_param_queue_in" incomingLines="_LDHD5I2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[1245, 623, 1275, 637]"/>
          <inPorts id="_LDL8YI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_LC8EwI2CEeKjOIt6xW2jaA" name="write_event_queue_out" incomingLines="_LDISAI2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[495, 693, 525, 707]"/>
          <inPorts id="_LDNxkI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <outPorts id="_LC8r0I2CEeKjOIt6xW2jaA" name="write_event_param_queue_out" incomingLines="_LDI5Eo2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[495, 748, 525, 762]"/>
          <inPorts id="_LDOYoI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_LC-hAY2CEeKjOIt6xW2jaA" name="port_in" outgoingLines="_LC1XEI2CEeKjOIt6xW2jaA" dimensions="-1">
          <parameters name="Position" value="[55, 148, 85, 162]"/>
          <outPorts id="_LC_IEI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_LDBkUI2CEeKjOIt6xW2jaA" name="net_address" outgoingLines="_LDISA42CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 263, 265, 277]"/>
          <outPorts id="_LDVGUI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_LDCLYI2CEeKjOIt6xW2jaA" name="receiver_net_address" outgoingLines="_LDGc0Y2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
          <parameters name="Position" value="[235, 298, 265, 312]"/>
          <outPorts id="_LDVtYI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_LC4aYo2CEeKjOIt6xW2jaA" name="read_event_queue_in" outgoingLines="_LDHD5Y2CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[780, 673, 810, 687]"/>
          <outPorts id="_LDKuQI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_LC6PkI2CEeKjOIt6xW2jaA" name="read_event_param_queue_in" outgoingLines="_LDF1xI2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[780, 723, 810, 737]"/>
          <outPorts id="_LDMjcI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_LC62oI2CEeKjOIt6xW2jaA" name="read_event_queue_out" outgoingLines="_LDGc042CEeKjOIt6xW2jaA" dimensions="[10,2]">
          <parameters name="Position" value="[55, 638, 85, 652]"/>
          <outPorts id="_LDNKgI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <inPorts id="_LC7dsI2CEeKjOIt6xW2jaA" name="read_event_param_queue_out" outgoingLines="_LDHD4Y2CEeKjOIt6xW2jaA" dimensions="10">
          <parameters name="Position" value="[55, 728, 85, 742]"/>
          <outPorts id="_LDNKgY2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <lines id="_LC1XEI2CEeKjOIt6xW2jaA" sourcePort="_LC_IEI2CEeKjOIt6xW2jaA" targetPort="_LC_IEY2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAY2CEeKjOIt6xW2jaA" targetBlock="_LC-hAo2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_LC1XEY2CEeKjOIt6xW2jaA" sourcePort="_LC_vIo2CEeKjOIt6xW2jaA" targetPort="_LDAWMI2CEeKjOIt6xW2jaA" sourceBlock="_LC_vIY2CEeKjOIt6xW2jaA" targetBlock="_LC_vII2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
        <lines id="_LDFOsI2CEeKjOIt6xW2jaA" sourcePort="_LDZXwI2CEeKjOIt6xW2jaA" targetPort="_LDTRII2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LC_vIY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDF1wI2CEeKjOIt6xW2jaA" sourcePort="_LDbM8Y2CEeKjOIt6xW2jaA" targetPort="_LEkccI2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LDEAkI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDF1wY2CEeKjOIt6xW2jaA" sourcePort="_LErKII2CEeKjOIt6xW2jaA" targetPort="_LDW7gI2CEeKjOIt6xW2jaA" sourceBlock="_LDEnoI2CEeKjOIt6xW2jaA" targetBlock="_LDCycI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDF1wo2CEeKjOIt6xW2jaA" sourcePort="_LDbM8I2CEeKjOIt6xW2jaA" targetPort="_LEj1YY2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LDEAkI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDF1w42CEeKjOIt6xW2jaA" sourcePort="_LDQN0I2CEeKjOIt6xW2jaA" targetPort="_LDdCIY2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAo2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDF1xI2CEeKjOIt6xW2jaA" sourcePort="_LDMjcI2CEeKjOIt6xW2jaA" targetPort="_LEmRoI2CEeKjOIt6xW2jaA" sourceBlock="_LC6PkI2CEeKjOIt6xW2jaA" targetBlock="_LDEAkI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDGc0I2CEeKjOIt6xW2jaA" sourcePort="_LEj1YI2CEeKjOIt6xW2jaA" targetPort="_LDooUI2CEeKjOIt6xW2jaA" sourceBlock="_LDEAkI2CEeKjOIt6xW2jaA" targetBlock="_LDDZgo2CEeKjOIt6xW2jaA"/>
        <lines id="_LDGc0Y2CEeKjOIt6xW2jaA" sourcePort="_LDVtYI2CEeKjOIt6xW2jaA" targetPort="_LDfeYI2CEeKjOIt6xW2jaA" sourceBlock="_LDCLYI2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDGc0o2CEeKjOIt6xW2jaA" sourcePort="_LEinQI2CEeKjOIt6xW2jaA" targetPort="_LDoBQI2CEeKjOIt6xW2jaA" sourceBlock="_LDEAkI2CEeKjOIt6xW2jaA" targetBlock="_LDDZgY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDGc042CEeKjOIt6xW2jaA" sourcePort="_LDNKgI2CEeKjOIt6xW2jaA" targetPort="_LEs_UY2CEeKjOIt6xW2jaA" sourceBlock="_LC62oI2CEeKjOIt6xW2jaA" targetBlock="_LDEnoI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDGc1I2CEeKjOIt6xW2jaA" sourcePort="_LDb0AI2CEeKjOIt6xW2jaA" targetPort="_LElDgI2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LDEAkI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDGc1Y2CEeKjOIt6xW2jaA" sourcePort="_LEp8AI2CEeKjOIt6xW2jaA" targetPort="_LDgFcY2CEeKjOIt6xW2jaA" sourceBlock="_LDEnoI2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHD4I2CEeKjOIt6xW2jaA" sourcePort="_LDPmwY2CEeKjOIt6xW2jaA" targetPort="_LDdCII2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAo2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHD4Y2CEeKjOIt6xW2jaA" sourcePort="_LDNKgY2CEeKjOIt6xW2jaA" targetPort="_LEuNcI2CEeKjOIt6xW2jaA" sourceBlock="_LC7dsI2CEeKjOIt6xW2jaA" targetBlock="_LDEnoI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHD4o2CEeKjOIt6xW2jaA" sourcePort="_LErxMI2CEeKjOIt6xW2jaA" targetPort="_LDXikY2CEeKjOIt6xW2jaA" sourceBlock="_LDEnoI2CEeKjOIt6xW2jaA" targetBlock="_LDCycY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHD442CEeKjOIt6xW2jaA" sourcePort="_LDQ04I2CEeKjOIt6xW2jaA" targetPort="_LDeQQI2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAo2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHD5I2CEeKjOIt6xW2jaA" sourcePort="_LDnaMI2CEeKjOIt6xW2jaA" targetPort="_LDL8YI2CEeKjOIt6xW2jaA" sourceBlock="_LDDZgY2CEeKjOIt6xW2jaA" targetBlock="_LC5ogI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHD5Y2CEeKjOIt6xW2jaA" sourcePort="_LDKuQI2CEeKjOIt6xW2jaA" targetPort="_LElqkI2CEeKjOIt6xW2jaA" sourceBlock="_LC4aYo2CEeKjOIt6xW2jaA" targetBlock="_LDEAkI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHq8I2CEeKjOIt6xW2jaA" sourcePort="_LDQN0Y2CEeKjOIt6xW2jaA" targetPort="_LDdpMI2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAo2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHq8Y2CEeKjOIt6xW2jaA" sourcePort="_LDYwsY2CEeKjOIt6xW2jaA" targetPort="_LDSqEY2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LC_vIY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHq8o2CEeKjOIt6xW2jaA" sourcePort="_LDRb8I2CEeKjOIt6xW2jaA" targetPort="_LDeQQY2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAo2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHq842CEeKjOIt6xW2jaA" sourcePort="_LEiAMI2CEeKjOIt6xW2jaA" targetPort="_LDmzII2CEeKjOIt6xW2jaA" sourceBlock="_LDEAkI2CEeKjOIt6xW2jaA" targetBlock="_LDDZgI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHq9I2CEeKjOIt6xW2jaA" sourcePort="_LDRb8I2CEeKjOIt6xW2jaA" targetPort="_LEs_UI2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAo2CEeKjOIt6xW2jaA" targetBlock="_LDEnoI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDHq9Y2CEeKjOIt6xW2jaA" sourcePort="_LDal4I2CEeKjOIt6xW2jaA" targetPort="_LDUfQI2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LC_vIY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDISAI2CEeKjOIt6xW2jaA" sourcePort="_LDWUcI2CEeKjOIt6xW2jaA" targetPort="_LDNxkI2CEeKjOIt6xW2jaA" sourceBlock="_LDCycI2CEeKjOIt6xW2jaA" targetBlock="_LC8EwI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDISAY2CEeKjOIt6xW2jaA" sourcePort="_LDYwsI2CEeKjOIt6xW2jaA" targetPort="_LDSqEI2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LC_vIY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDISAo2CEeKjOIt6xW2jaA" sourcePort="_LDZ-0Y2CEeKjOIt6xW2jaA" targetPort="_LDT4MI2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LC_vIY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDISA42CEeKjOIt6xW2jaA" sourcePort="_LDVGUI2CEeKjOIt6xW2jaA" targetPort="_LDe3UI2CEeKjOIt6xW2jaA" sourceBlock="_LDBkUI2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDISBI2CEeKjOIt6xW2jaA" sourcePort="_LEpU8I2CEeKjOIt6xW2jaA" targetPort="_LDgFcI2CEeKjOIt6xW2jaA" sourceBlock="_LDEnoI2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDI5EI2CEeKjOIt6xW2jaA" sourcePort="_LDmMEY2CEeKjOIt6xW2jaA" targetPort="_LDLVUI2CEeKjOIt6xW2jaA" sourceBlock="_LDDZgI2CEeKjOIt6xW2jaA" targetBlock="_LC5BcI2CEeKjOIt6xW2jaA"/>
        <lines id="_LDI5EY2CEeKjOIt6xW2jaA" sourcePort="_LDPmwI2CEeKjOIt6xW2jaA" targetPort="_LDcbEY2CEeKjOIt6xW2jaA" sourceBlock="_LC-hAo2CEeKjOIt6xW2jaA" targetBlock="_LDCyco2CEeKjOIt6xW2jaA"/>
        <lines id="_LDI5Eo2CEeKjOIt6xW2jaA" sourcePort="_LDXikI2CEeKjOIt6xW2jaA" targetPort="_LDOYoI2CEeKjOIt6xW2jaA" sourceBlock="_LDCycY2CEeKjOIt6xW2jaA" targetBlock="_LC8r0I2CEeKjOIt6xW2jaA"/>
        <lines id="_LDI5E42CEeKjOIt6xW2jaA" sourcePort="_LDZ-0I2CEeKjOIt6xW2jaA" targetPort="_LDTRIY2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LC_vIY2CEeKjOIt6xW2jaA"/>
        <lines id="_LDJgII2CEeKjOIt6xW2jaA" sourcePort="_LDcbEI2CEeKjOIt6xW2jaA" targetPort="_LEx30I2CEeKjOIt6xW2jaA" sourceBlock="_LDCyco2CEeKjOIt6xW2jaA" targetBlock="_LDJgIY2CEeKjOIt6xW2jaA"/>
        <blocks xsi:type="model:BusSelector" id="_LC-hAo2CEeKjOIt6xW2jaA" name="Bus\nSelector" incomingLines="_LC1XEI2CEeKjOIt6xW2jaA" outgoingLines="_LDF1w42CEeKjOIt6xW2jaA _LDHD4I2CEeKjOIt6xW2jaA _LDHD442CEeKjOIt6xW2jaA _LDHq8I2CEeKjOIt6xW2jaA _LDHq8o2CEeKjOIt6xW2jaA _LDHq9I2CEeKjOIt6xW2jaA _LDI5EY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[160, 35, 165, 260]"/>
          <outPorts id="_LDPmwI2CEeKjOIt6xW2jaA" name="from"/>
          <outPorts id="_LDPmwY2CEeKjOIt6xW2jaA" name="to"/>
          <outPorts id="_LDQN0I2CEeKjOIt6xW2jaA" name="msg"/>
          <outPorts id="_LDQN0Y2CEeKjOIt6xW2jaA" name="param"/>
          <outPorts id="_LDQ04I2CEeKjOIt6xW2jaA" name="pkgid"/>
          <outPorts id="_LDRb8I2CEeKjOIt6xW2jaA" name="time"/>
          <inPorts id="_LC_IEY2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_LDCycI2CEeKjOIt6xW2jaA" name="Unit Delay1" incomingLines="_LDF1wY2CEeKjOIt6xW2jaA" outgoingLines="_LDISAI2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[405, 683, 440, 717]"/>
          <outPorts id="_LDWUcI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDW7gI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_LDCycY2CEeKjOIt6xW2jaA" name="Unit Delay2" incomingLines="_LDHD4o2CEeKjOIt6xW2jaA" outgoingLines="_LDI5Eo2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[410, 738, 445, 772]"/>
          <outPorts id="_LDXikI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDXikY2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:SubSystem" id="_LDCyco2CEeKjOIt6xW2jaA" name="DataLinkLayer" incomingLines="_LDF1w42CEeKjOIt6xW2jaA _LDGc0Y2CEeKjOIt6xW2jaA _LDGc1Y2CEeKjOIt6xW2jaA _LDHD4I2CEeKjOIt6xW2jaA _LDHD442CEeKjOIt6xW2jaA _LDHq8I2CEeKjOIt6xW2jaA _LDHq8o2CEeKjOIt6xW2jaA _LDISA42CEeKjOIt6xW2jaA _LDISBI2CEeKjOIt6xW2jaA _LDI5EY2CEeKjOIt6xW2jaA" outgoingLines="_LDFOsI2CEeKjOIt6xW2jaA _LDF1wI2CEeKjOIt6xW2jaA _LDF1wo2CEeKjOIt6xW2jaA _LDGc1I2CEeKjOIt6xW2jaA _LDHq8Y2CEeKjOIt6xW2jaA _LDHq9Y2CEeKjOIt6xW2jaA _LDISAY2CEeKjOIt6xW2jaA _LDISAo2CEeKjOIt6xW2jaA _LDI5E42CEeKjOIt6xW2jaA _LDJgII2CEeKjOIt6xW2jaA">
          <parameters name="System.Location" value="[1284, 50, 2556, 995]"/>
          <parameters name="Position" value="[470, 33, 615, 402]"/>
          <outPorts id="_LDYwsI2CEeKjOIt6xW2jaA" name="snd_from_out" incomingLines="_LDllBI2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 48, 685, 62]"/>
            <inPorts id="_LEye4I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDYwsY2CEeKjOIt6xW2jaA" name="snd_to_out" incomingLines="_LDllAY2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 83, 685, 97]"/>
            <inPorts id="_LEztAI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDZXwI2CEeKjOIt6xW2jaA" name="snd_msg_out" incomingLines="_LDkW5I2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 118, 685, 132]"/>
            <inPorts id="_LE0UEI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDZ-0I2CEeKjOIt6xW2jaA" name="snd_param_out" incomingLines="_LDllA42CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 153, 685, 167]"/>
            <inPorts id="_LE07II2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDZ-0Y2CEeKjOIt6xW2jaA" name="snd_pkgid_out" incomingLines="_LDjv042CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[655, 188, 685, 202]"/>
            <inPorts id="_LE1iMI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDal4I2CEeKjOIt6xW2jaA" name="snd_time_out" incomingLines="_LDkW5Y2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 328, 685, 342]"/>
            <inPorts id="_LE2JQI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDbM8I2CEeKjOIt6xW2jaA" name="recv_from_out" incomingLines="_LDk99I2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[655, 223, 685, 237]"/>
            <inPorts id="_LE2wUI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDbM8Y2CEeKjOIt6xW2jaA" name="recv_msg_out" incomingLines="_LDkW4I2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[655, 258, 685, 272]"/>
            <inPorts id="_LE3XYI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDb0AI2CEeKjOIt6xW2jaA" name="recv_param_out" incomingLines="_LDjv0Y2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[655, 293, 685, 307]"/>
            <inPorts id="_LE4lgI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LDcbEI2CEeKjOIt6xW2jaA" name="debug" incomingLines="_LDllBY2CEeKjOIt6xW2jaA" dimensions="-1">
            <parameters name="Position" value="[770, 398, 800, 412]"/>
            <inPorts id="_LE5MkI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_LDcbEY2CEeKjOIt6xW2jaA" name="recv_from_in" outgoingLines="_LDk98I2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 208, 330, 222]"/>
            <outPorts id="_LE5zoI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDdCII2CEeKjOIt6xW2jaA" name="recv_to_in" outgoingLines="_LDjv0o2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 243, 330, 257]"/>
            <outPorts id="_LE6asI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDdCIY2CEeKjOIt6xW2jaA" name="recv_msg_in" outgoingLines="_LDllAo2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 278, 330, 292]"/>
            <outPorts id="_LE7BwI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDdpMI2CEeKjOIt6xW2jaA" name="recv_param_in" outgoingLines="_LDllAI2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 313, 330, 327]"/>
            <outPorts id="_LE7o0I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDeQQI2CEeKjOIt6xW2jaA" name="recv_pkgid_in" outgoingLines="_LDkW4Y2CEeKjOIt6xW2jaA" dimensions="-1" type="uint32">
            <parameters name="Position" value="[300, 348, 330, 362]"/>
            <outPorts id="_LE8P4I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDeQQY2CEeKjOIt6xW2jaA" name="recv_time_in" outgoingLines="_LDk98Y2CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 383, 330, 397]"/>
            <outPorts id="_LE9eAI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDe3UI2CEeKjOIt6xW2jaA" name="snd_from_in" outgoingLines="_LDjv1I2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 68, 330, 82]"/>
            <outPorts id="_LE-FEI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDfeYI2CEeKjOIt6xW2jaA" name="snd_to_in" outgoingLines="_LDk98o2CEeKjOIt6xW2jaA" dimensions="-1" type="uint8">
            <parameters name="Position" value="[300, 103, 330, 117]"/>
            <outPorts id="_LE-sII2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDgFcI2CEeKjOIt6xW2jaA" name="snd_msg_in" outgoingLines="_LDkW4o2CEeKjOIt6xW2jaA" dimensions="-1" type="uint16">
            <parameters name="Position" value="[300, 138, 330, 152]"/>
            <outPorts id="_LE_6QI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LDgFcY2CEeKjOIt6xW2jaA" name="snd_param_in" outgoingLines="_LDk9842CEeKjOIt6xW2jaA" dimensions="-1" type="double">
            <parameters name="Position" value="[300, 173, 330, 187]"/>
            <outPorts id="_LFAhUI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <lines id="_LDjIwI2CEeKjOIt6xW2jaA" sourcePort="_LFLgcI2CEeKjOIt6xW2jaA" targetPort="_LFC9kI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDgsgI2CEeKjOIt6xW2jaA"/>
          <lines id="_LDjv0I2CEeKjOIt6xW2jaA" sourcePort="_LFKSUI2CEeKjOIt6xW2jaA" targetPort="_LFBvcY2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDgsgI2CEeKjOIt6xW2jaA"/>
          <lines id="_LDjv0Y2CEeKjOIt6xW2jaA" sourcePort="_LFJEMI2CEeKjOIt6xW2jaA" targetPort="_LE4lgI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDb0AI2CEeKjOIt6xW2jaA"/>
          <lines id="_LDjv0o2CEeKjOIt6xW2jaA" sourcePort="_LE6asI2CEeKjOIt6xW2jaA" targetPort="_LFPK0I2CEeKjOIt6xW2jaA" sourceBlock="_LDdCII2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDjv042CEeKjOIt6xW2jaA" sourcePort="_LFHPAI2CEeKjOIt6xW2jaA" targetPort="_LE1iMI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDZ-0Y2CEeKjOIt6xW2jaA"/>
          <lines id="_LDjv1I2CEeKjOIt6xW2jaA" sourcePort="_LE-FEI2CEeKjOIt6xW2jaA" targetPort="_LFMHgI2CEeKjOIt6xW2jaA" sourceBlock="_LDe3UI2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDkW4I2CEeKjOIt6xW2jaA" sourcePort="_LFIdII2CEeKjOIt6xW2jaA" targetPort="_LE3XYI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDbM8Y2CEeKjOIt6xW2jaA"/>
          <lines id="_LDkW4Y2CEeKjOIt6xW2jaA" sourcePort="_LE8P4I2CEeKjOIt6xW2jaA" targetPort="_LFQY8Y2CEeKjOIt6xW2jaA" sourceBlock="_LDeQQI2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDkW4o2CEeKjOIt6xW2jaA" sourcePort="_LE_6QI2CEeKjOIt6xW2jaA" targetPort="_LFNVoI2CEeKjOIt6xW2jaA" sourceBlock="_LDgFcI2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDkW442CEeKjOIt6xW2jaA" sourcePort="_LFUDUI2CEeKjOIt6xW2jaA" targetPort="_LFRnEI2CEeKjOIt6xW2jaA" sourceBlock="_LDh6oI2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDkW5I2CEeKjOIt6xW2jaA" sourcePort="_LFGA4I2CEeKjOIt6xW2jaA" targetPort="_LE0UEI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDZXwI2CEeKjOIt6xW2jaA"/>
          <lines id="_LDkW5Y2CEeKjOIt6xW2jaA" sourcePort="_LFJrQI2CEeKjOIt6xW2jaA" targetPort="_LE2JQI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDal4I2CEeKjOIt6xW2jaA"/>
          <lines id="_LDk98I2CEeKjOIt6xW2jaA" sourcePort="_LE5zoI2CEeKjOIt6xW2jaA" targetPort="_LFOjwI2CEeKjOIt6xW2jaA" sourceBlock="_LDcbEY2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDk98Y2CEeKjOIt6xW2jaA" sourcePort="_LE9eAI2CEeKjOIt6xW2jaA" targetPort="_LFRAAI2CEeKjOIt6xW2jaA" sourceBlock="_LDeQQY2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDk98o2CEeKjOIt6xW2jaA" sourcePort="_LE-sII2CEeKjOIt6xW2jaA" targetPort="_LFMukI2CEeKjOIt6xW2jaA" sourceBlock="_LDfeYI2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDk9842CEeKjOIt6xW2jaA" sourcePort="_LFAhUI2CEeKjOIt6xW2jaA" targetPort="_LFN8sI2CEeKjOIt6xW2jaA" sourceBlock="_LDgFcY2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDk99I2CEeKjOIt6xW2jaA" sourcePort="_LFH2EI2CEeKjOIt6xW2jaA" targetPort="_LE2wUI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDbM8I2CEeKjOIt6xW2jaA"/>
          <lines id="_LDllAI2CEeKjOIt6xW2jaA" sourcePort="_LE7o0I2CEeKjOIt6xW2jaA" targetPort="_LFQY8I2CEeKjOIt6xW2jaA" sourceBlock="_LDdpMI2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDllAY2CEeKjOIt6xW2jaA" sourcePort="_LFFZ0I2CEeKjOIt6xW2jaA" targetPort="_LEztAI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDYwsY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDllAo2CEeKjOIt6xW2jaA" sourcePort="_LE7BwI2CEeKjOIt6xW2jaA" targetPort="_LFPx4I2CEeKjOIt6xW2jaA" sourceBlock="_LDdCIY2CEeKjOIt6xW2jaA" targetBlock="_LDgsgY2CEeKjOIt6xW2jaA"/>
          <lines id="_LDllA42CEeKjOIt6xW2jaA" sourcePort="_LFGn8I2CEeKjOIt6xW2jaA" targetPort="_LE07II2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDZ-0I2CEeKjOIt6xW2jaA"/>
          <lines id="_LDllBI2CEeKjOIt6xW2jaA" sourcePort="_LFEywI2CEeKjOIt6xW2jaA" targetPort="_LEye4I2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDYwsI2CEeKjOIt6xW2jaA"/>
          <lines id="_LDllBY2CEeKjOIt6xW2jaA" sourcePort="_LFBvcI2CEeKjOIt6xW2jaA" targetPort="_LE5MkI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgI2CEeKjOIt6xW2jaA" targetBlock="_LDcbEI2CEeKjOIt6xW2jaA"/>
          <lines id="_LDmMEI2CEeKjOIt6xW2jaA" sourcePort="_LFK5YI2CEeKjOIt6xW2jaA" targetPort="_LFCWgI2CEeKjOIt6xW2jaA" sourceBlock="_LDgsgY2CEeKjOIt6xW2jaA" targetBlock="_LDgsgI2CEeKjOIt6xW2jaA"/>
          <blocks xsi:type="model:BusCreator" id="_LDgsgI2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_LDjIwI2CEeKjOIt6xW2jaA _LDjv0I2CEeKjOIt6xW2jaA _LDmMEI2CEeKjOIt6xW2jaA" outgoingLines="_LDllBY2CEeKjOIt6xW2jaA">
            <parameters name="Position" value="[690, 349, 695, 461]"/>
            <outPorts id="_LFBvcI2CEeKjOIt6xW2jaA"/>
            <inPorts id="_LFBvcY2CEeKjOIt6xW2jaA" name="queue_sending_ratio"/>
            <inPorts id="_LFCWgI2CEeKjOIt6xW2jaA" name="queue_received_ratio"/>
            <inPorts id="_LFC9kI2CEeKjOIt6xW2jaA" name="queue_ack_ratio"/>
          </blocks>
          <blocks xsi:type="model:EmbeddedMatlabFunction" id="_LDgsgY2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_LDjv0o2CEeKjOIt6xW2jaA _LDjv1I2CEeKjOIt6xW2jaA _LDkW4Y2CEeKjOIt6xW2jaA _LDkW4o2CEeKjOIt6xW2jaA _LDkW442CEeKjOIt6xW2jaA _LDk98I2CEeKjOIt6xW2jaA _LDk98Y2CEeKjOIt6xW2jaA _LDk98o2CEeKjOIt6xW2jaA _LDk9842CEeKjOIt6xW2jaA _LDllAI2CEeKjOIt6xW2jaA _LDllAo2CEeKjOIt6xW2jaA" outgoingLines="_LDjIwI2CEeKjOIt6xW2jaA _LDjv0I2CEeKjOIt6xW2jaA _LDjv0Y2CEeKjOIt6xW2jaA _LDjv042CEeKjOIt6xW2jaA _LDkW4I2CEeKjOIt6xW2jaA _LDkW5I2CEeKjOIt6xW2jaA _LDkW5Y2CEeKjOIt6xW2jaA _LDk99I2CEeKjOIt6xW2jaA _LDllAY2CEeKjOIt6xW2jaA _LDllA42CEeKjOIt6xW2jaA _LDllBI2CEeKjOIt6xW2jaA _LDmMEI2CEeKjOIt6xW2jaA" code="function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)&#xA;%#eml&#xA;eml.extrinsic('warning', 'disp', 'fprintf');&#xA;&#xA;%Constants&#xA;BUS_SIZE =  numel(snd_msg_in);&#xA;TIMEOUT_ACK     = 2.0;&#xA;MSG_ACK         = 255;&#xA;QUEUE_SIZE = 10;&#xA;QUEUE_SIZE_SENDING = QUEUE_SIZE * BUS_SIZE;&#xA;QUEUE_SIZE_ACK  = QUEUE_SIZE* BUS_SIZE;&#xA;QUEUE_SIZE_RECEIVED = QUEUE_SIZE *BUS_SIZE;&#xA;&#xA;&#xA;%Init&#xA;from    = zeros(1,BUS_SIZE,'uint8');&#xA;to      = zeros(1,BUS_SIZE,'uint8');&#xA;msg     = zeros(1,BUS_SIZE,'uint16');&#xA;param   = zeros(1,BUS_SIZE,'double');&#xA;pkgid   = zeros(1,BUS_SIZE,'uint32');&#xA;time    = zeros(1,BUS_SIZE,'double');&#xA; &#xA;recv_from_out    = zeros(1,BUS_SIZE,'uint8');&#xA;recv_msg_out     = zeros(1,BUS_SIZE,'uint16');&#xA;recv_param_out   = zeros(1,BUS_SIZE,'double');&#xA;&#xA;&#xA;recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);&#xA;&#xA;&#xA;&#xA;%Persistent variables&#xA;persistent sendingQueue ackQueue receivedQueue lastPkgid&#xA;&#xA;if isempty(lastPkgid)&#xA;    lastPkgid = uint32(0);&#xA;end&#xA;&#xA;if isempty(sendingQueue)&#xA;    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);&#xA;end&#xA;&#xA;if isempty(ackQueue)&#xA;    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);&#xA;end&#xA;&#xA;if isempty(receivedQueue)&#xA;    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);&#xA;end&#xA;&#xA;%compute stats&#xA;queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;&#xA;queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;&#xA;queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;&#xA;&#xA;%Step 1: Check for a new outgoing packet&#xA;for i = 1:BUS_SIZE    &#xA;    if snd_msg_in(i) ~= 0&#xA;        lastPkgid = lastPkgid +1;&#xA;        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);&#xA;&#xA;        %Add packet so the outgoing queue&#xA;        sendingQueue = enqueue(sendingQueue, outgoing); &#xA;    end&#xA;end&#xA;    &#xA;%Step 2: Check for a new incoming packet&#xA;for i = 1:length(recv_in)&#xA;    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);&#xA;    if incoming.from ~= 0 &amp;&amp; incoming.to == snd_from_in&#xA;        if incoming.msg == MSG_ACK&#xA;            %Remove packet from ackQueue&#xA;            for j=1:length(ackQueue)&#xA;                if ackQueue(j).pkgid == uint32(incoming.param)&#xA;                    ackQueue = dequeue(ackQueue,j);&#xA;                    break;&#xA;                end&#xA;            end&#xA;        else&#xA;            %Send ACK&#xA;            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);&#xA;            sendingQueue = enqueue(sendingQueue,ackPacket);&#xA;&#xA;            %Check for duplicated packets&#xA;            duplicatedPacket = false;&#xA;            for j=1:length(receivedQueue)&#xA;                if receivedQueue(j).pkgid == incoming.pkgid &amp;&amp; receivedQueue(j).from == incoming.from&#xA;                    duplicatedPacket = true;&#xA;                    break;&#xA;                end&#xA;            end&#xA;&#xA;            if duplicatedPacket == false&#xA;                %save packet&#xA;                receivedQueue = enqueue(receivedQueue, incoming);            &#xA;            end&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;%Step 3: Forward incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if receivedQueue(1).from ~= 0&#xA;        recv_from_out(i)    = receivedQueue(1).from;&#xA;        recv_msg_out(i)     = receivedQueue(1).msg;&#xA;        recv_param_out(i)   = receivedQueue(1).param;&#xA;        receivedQueue = dequeue(receivedQueue,1);&#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;%Step 4: Timeout reached? Send packet again&#xA;for i = 1:length(ackQueue)&#xA;    if ackQueue(i).to ~= 0&#xA;        if ackQueue(i).time + TIMEOUT_ACK &lt;= currentTime&#xA;            %Reset counter&#xA;            ackQueue(i).time = currentTime;&#xA;            %Send again&#xA;            sendingQueue = enqueue(sendingQueue, ackQueue(i));&#xA;            %Remove packet from ackQueue&#xA;            ackQueue = dequeue(ackQueue, i);&#xA;        end&#xA;    end&#xA;end&#xA;&#xA;&#xA;%Step 5: Send outgoing packet&#xA;for i = 1:BUS_SIZE&#xA;    if sendingQueue(1).to ~= 0    &#xA;        from(i)    = sendingQueue(1).from;&#xA;        to(i)      = sendingQueue(1).to;&#xA;        msg(i)     = sendingQueue(1).msg;&#xA;        param(i)   = sendingQueue(1).param;&#xA;        pkgid(i)   = sendingQueue(1).pkgid;&#xA;        time(i)    = sendingQueue(1).time;&#xA;&#xA;        %Add it to the ack queue&#xA;        if sendingQueue(1).msg ~= MSG_ACK&#xA;            ackQueue = enqueue(ackQueue, sendingQueue(1));&#xA;        end&#xA;&#xA;        %remove packet from sending queue&#xA;        sendingQueue = dequeue(sendingQueue, 1);    &#xA;    else&#xA;        break;&#xA;    end&#xA;end&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%%                          H E L P E R&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function p = packet(from, to, msg, param, pkgid, time)&#xA;%#eml&#xA;%Defines a packet&#xA;p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));&#xA;&#xA;function bus = bus(from, to, msg, param, pkgid, time, size) %emp&#xA;%Create an empty bus&#xA;bus = repmat(packet(0,0,0,0,0,0), 1, size);&#xA;for i=1:size&#xA;    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));&#xA;end&#xA;&#xA;&#xA;function queue = enqueue(queue, packet)&#xA;%#eml&#xA;eml.extrinsic('warning', 'sprintf');&#xA;for i = 1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;function queue = dequeue(queue, index)&#xA;%#eml&#xA;assert(index &lt;= length(queue))&#xA;for i=index:length(queue)-1;&#xA;    queue(i) = queue(i+1);&#xA;end&#xA;queue(length(queue)) = packet(0,0,0,0,0,0);&#xA;&#xA;function num = queueNumElements(queue)&#xA;%#eml&#xA;num = 0;&#xA;for i = 1:length(queue)&#xA;    if queue(i).to ~= uint8(0)&#xA;        num = num+1;&#xA;    end&#xA;end    &#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);">
            <parameters name="System.Location" value="[257, 457, 812, 717]"/>
            <parameters name="Position" value="[410, 41, 595, 454]"/>
            <outPorts id="_LFEywI2CEeKjOIt6xW2jaA" name="from" dimensions="-1">
              <parameters name="Position" value="[460, 101, 480, 119]"/>
              <inPorts id="_LFoMYI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFFZ0I2CEeKjOIt6xW2jaA" name="to" dimensions="-1">
              <parameters name="Position" value="[460, 136, 480, 154]"/>
              <inPorts id="_LFozcI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFGA4I2CEeKjOIt6xW2jaA" name="msg" dimensions="-1">
              <parameters name="Position" value="[460, 171, 480, 189]"/>
              <inPorts id="_LFqBkI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFGn8I2CEeKjOIt6xW2jaA" name="param" dimensions="-1">
              <parameters name="Position" value="[460, 206, 480, 224]"/>
              <inPorts id="_LFr2wI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFHPAI2CEeKjOIt6xW2jaA" name="pkgid" dimensions="-1">
              <parameters name="Position" value="[460, 246, 480, 264]"/>
              <inPorts id="_LFsd0I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFH2EI2CEeKjOIt6xW2jaA" name="recv_from_out" dimensions="-1">
              <parameters name="Position" value="[460, 281, 480, 299]"/>
              <inPorts id="_LFtr8I2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFIdII2CEeKjOIt6xW2jaA" name="recv_msg_out" dimensions="-1">
              <parameters name="Position" value="[460, 316, 480, 334]"/>
              <inPorts id="_LFuTAI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFJEMI2CEeKjOIt6xW2jaA" name="recv_param_out" dimensions="-1">
              <parameters name="Position" value="[460, 351, 480, 369]"/>
              <inPorts id="_LFvhII2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFJrQI2CEeKjOIt6xW2jaA" name="time" dimensions="-1">
              <parameters name="Position" value="[460, 386, 480, 404]"/>
              <inPorts id="_LFwIMI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFKSUI2CEeKjOIt6xW2jaA" name="queue_sending_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 426, 480, 444]"/>
              <inPorts id="_LFxWUI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFK5YI2CEeKjOIt6xW2jaA" name="queue_received_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 461, 480, 479]"/>
              <inPorts id="_LFx9YI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <outPorts id="_LFLgcI2CEeKjOIt6xW2jaA" name="queue_ack_ratio" dimensions="-1">
              <parameters name="Position" value="[460, 496, 480, 514]"/>
              <inPorts id="_LFzLgI2CEeKjOIt6xW2jaA" name="In1"/>
            </outPorts>
            <inPorts id="_LFMHgI2CEeKjOIt6xW2jaA" name="snd_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 101, 40, 119]"/>
              <outPorts id="_LF0ZoI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFMukI2CEeKjOIt6xW2jaA" name="snd_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 136, 40, 154]"/>
              <outPorts id="_LF2O0I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFNVoI2CEeKjOIt6xW2jaA" name="snd_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 171, 40, 189]"/>
              <outPorts id="_LF3c8I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFN8sI2CEeKjOIt6xW2jaA" name="snd_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 206, 40, 224]"/>
              <outPorts id="_LF4rEI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFOjwI2CEeKjOIt6xW2jaA" name="recv_from_in" dimensions="-1">
              <parameters name="Position" value="[20, 246, 40, 264]"/>
              <outPorts id="_LF55MI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFPK0I2CEeKjOIt6xW2jaA" name="recv_to_in" dimensions="-1">
              <parameters name="Position" value="[20, 281, 40, 299]"/>
              <outPorts id="_LF7HUI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFPx4I2CEeKjOIt6xW2jaA" name="recv_msg_in" dimensions="-1">
              <parameters name="Position" value="[20, 316, 40, 334]"/>
              <outPorts id="_LF88gI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFQY8I2CEeKjOIt6xW2jaA" name="recv_param_in" dimensions="-1">
              <parameters name="Position" value="[20, 351, 40, 369]"/>
              <outPorts id="_LF9jkI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFQY8Y2CEeKjOIt6xW2jaA" name="recv_pkgid_in" dimensions="-1" type="uint32">
              <parameters name="Position" value="[20, 386, 40, 404]"/>
              <outPorts id="_LF-xsI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFRAAI2CEeKjOIt6xW2jaA" name="recv_time_in" dimensions="-1">
              <parameters name="Position" value="[20, 426, 40, 444]"/>
              <outPorts id="_LF_YwI2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
            <inPorts id="_LFRnEI2CEeKjOIt6xW2jaA" name="currentTime" dimensions="-1">
              <parameters name="Position" value="[20, 461, 40, 479]"/>
              <outPorts id="_LF__0I2CEeKjOIt6xW2jaA" name="Out1"/>
            </inPorts>
          </blocks>
          <blocks xsi:type="model:DigitalClock" id="_LDh6oI2CEeKjOIt6xW2jaA" name="Digital Clock" outgoingLines="_LDkW442CEeKjOIt6xW2jaA" sampleTime="0.1">
            <parameters name="Position" value="[280, 413, 345, 437]"/>
            <outPorts id="_LFUDUI2CEeKjOIt6xW2jaA"/>
          </blocks>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_LDDZgI2CEeKjOIt6xW2jaA" name="Unit Delay3" incomingLines="_LDHq842CEeKjOIt6xW2jaA" outgoingLines="_LDI5EI2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1165, 533, 1200, 567]"/>
          <outPorts id="_LDmMEY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDmzII2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:BusCreator" id="_LC_vIY2CEeKjOIt6xW2jaA" name="Bus\nCreator" incomingLines="_LDFOsI2CEeKjOIt6xW2jaA _LDHq8Y2CEeKjOIt6xW2jaA _LDHq9Y2CEeKjOIt6xW2jaA _LDISAY2CEeKjOIt6xW2jaA _LDISAo2CEeKjOIt6xW2jaA _LDI5E42CEeKjOIt6xW2jaA" outgoingLines="_LC1XEY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[830, 37, 835, 258]"/>
          <outPorts id="_LC_vIo2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDSqEI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDSqEY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDTRII2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDTRIY2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDT4MI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDUfQI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:UnitDelay" id="_LDDZgY2CEeKjOIt6xW2jaA" name="Unit Delay4" incomingLines="_LDGc0o2CEeKjOIt6xW2jaA" outgoingLines="_LDHD5I2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[1170, 613, 1205, 647]"/>
          <outPorts id="_LDnaMI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_LDoBQI2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_LDDZgo2CEeKjOIt6xW2jaA" name="Terminator" incomingLines="_LDGc0I2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[1155, 700, 1175, 720]"/>
          <inPorts id="_LDooUI2CEeKjOIt6xW2jaA" name="1"/>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_LDEAkI2CEeKjOIt6xW2jaA" name="Receive Packet" incomingLines="_LDF1wI2CEeKjOIt6xW2jaA _LDF1wo2CEeKjOIt6xW2jaA _LDF1xI2CEeKjOIt6xW2jaA _LDGc1I2CEeKjOIt6xW2jaA _LDHD5Y2CEeKjOIt6xW2jaA" outgoingLines="_LDGc0I2CEeKjOIt6xW2jaA _LDGc0o2CEeKjOIt6xW2jaA _LDHq842CEeKjOIt6xW2jaA" code="function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;% This function receives packets and adds them to the event queue.&#xA;% A packet consists of a source, a message and an optional parameter for &#xA;% the message. Source and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;SOURCE = 2;&#xA;MESSAGE = 1;&#xA;BUS_SIZE = numel(packetFrom);&#xA;QUEUE_SIZE = 10;&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;bufferOverflow = false;&#xA;&#xA;%New incoming packet&#xA;for i = 1:BUS_SIZE&#xA;    if packetFrom(i) ~= 0 &#xA;        bufferOverflow = true;&#xA;        %Add it to the incoming event Queue&#xA;        for j = 1:QUEUE_SIZE&#xA;            %Search for an empty place&#xA;            if eventQueue(j,SOURCE) == 0&#xA;                eventQueue(j,SOURCE)    = packetFrom(i);&#xA;                eventQueue(j,MESSAGE)   = packetMsg(i);&#xA;                eventParamQueue(j)      = packetParam(i);&#xA;                bufferOverflow = false;&#xA;                break;&#xA;            end&#xA;        end        &#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[900, 506, 1085, 754]"/>
          <outPorts id="_LEiAMI2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_LFWfkI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LEinQI2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_LFXtsI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LEj1YI2CEeKjOIt6xW2jaA" name="bufferOverflow" dimensions="-1" type="boolean">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_LFY70I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_LEj1YY2CEeKjOIt6xW2jaA" name="packetFrom" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_LFaJ8I2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LEkccI2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_LFbYEI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LElDgI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_LFb_II2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LElqkI2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 206, 40, 224]"/>
            <outPorts id="_LFdNQI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LEmRoI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 246, 40, 264]"/>
            <outPorts id="_LFebYI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_LDEnoI2CEeKjOIt6xW2jaA" name="Send Packet" incomingLines="_LDGc042CEeKjOIt6xW2jaA _LDHD4Y2CEeKjOIt6xW2jaA _LDHq9I2CEeKjOIt6xW2jaA" outgoingLines="_LDF1wY2CEeKjOIt6xW2jaA _LDGc1Y2CEeKjOIt6xW2jaA _LDHD4o2CEeKjOIt6xW2jaA _LDISBI2CEeKjOIt6xW2jaA" code="function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)&#xA;%#eml&#xA;&#xA;% This function creates packets from the event queue. A packet consists&#xA;% of a destination, a message and an optional parameter for the message.&#xA;% Destination and message are contained at position 1 and 2 in the &#xA;% eventQueue. Because of the different data type the parameter has his own &#xA;% queue eventParamQueue.&#xA;&#xA;%Constants&#xA;DESTINATION = 2;&#xA;MESSAGE = 1;&#xA;QUEUE_SIZE = 10;&#xA;&#xA;busSize = numel(busSizeSignal);&#xA;&#xA;%Init&#xA;eventQueue = eventQueueIn;&#xA;eventParamQueue = eventParamQueueIn;&#xA;packetMsg = zeros(1,busSize,'uint16');&#xA;packetParam = zeros(1,busSize,'double');&#xA;&#xA;%There is an event in the queue&#xA;for i = 1:busSize   &#xA;    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0&#xA;        %Create packet from the firs entry in the queue&#xA;        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));&#xA;        packetParam(i) = eventParamQueue(1);&#xA;        %Remove the event from the queue&#xA;        for j=1:QUEUE_SIZE - 1&#xA;            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);&#xA;            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);&#xA;            eventParamQueue(j)          = eventParamQueue(j+1);&#xA;        end&#xA;        %Set last element to zero&#xA;        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;&#xA;        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;&#xA;        eventParamQueue(QUEUE_SIZE)    = 0;&#xA;    else&#xA;        break;&#xA;    end&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="Position" value="[150, 514, 310, 781]"/>
          <outPorts id="_LEpU8I2CEeKjOIt6xW2jaA" name="packetMsg" dimensions="-1">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_LFg3oI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LEp8AI2CEeKjOIt6xW2jaA" name="packetParam" dimensions="-1">
            <parameters name="Position" value="[460, 136, 480, 154]"/>
            <inPorts id="_LFiFwI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LErKII2CEeKjOIt6xW2jaA" name="eventQueue" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[460, 171, 480, 189]"/>
            <inPorts id="_LFjT4I2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <outPorts id="_LErxMI2CEeKjOIt6xW2jaA" name="eventParamQueue" dimensions="10" type="double">
            <parameters name="Position" value="[460, 206, 480, 224]"/>
            <inPorts id="_LFkiAI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_LEs_UI2CEeKjOIt6xW2jaA" name="busSizeSignal" dimensions="-1">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_LFlJEI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LEs_UY2CEeKjOIt6xW2jaA" name="eventQueueIn" dimensions="[10,2]" type="uint8">
            <parameters name="Position" value="[20, 136, 40, 154]"/>
            <outPorts id="_LFmXMI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
          <inPorts id="_LEuNcI2CEeKjOIt6xW2jaA" name="eventParamQueueIn" dimensions="10" type="double">
            <parameters name="Position" value="[20, 171, 40, 189]"/>
            <outPorts id="_LFm-QI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
        <blocks xsi:type="model:MiscBlock" id="_LDJgIY2CEeKjOIt6xW2jaA" name="Terminator2" incomingLines="_LDJgII2CEeKjOIt6xW2jaA" type="Terminator">
          <parameters name="Position" value="[780, 362, 805, 388]"/>
          <inPorts id="_LEx30I2CEeKjOIt6xW2jaA"/>
        </blocks>
      </blocks>
    </blocks>
    <stateflowMachine id="_Kca3UI2CEeKjOIt6xW2jaA">
      <charts id="_KdAGII2CEeKjOIt6xW2jaA" name="MainControl_Behavior" block="_KktQoI2CEeKjOIt6xW2jaA">
        <nodes xsi:type="stateflow:State" id="_KdAtMI2CEeKjOIt6xW2jaA" subStateType="PARALLEL" name="chart" initial="true">
          <nodes xsi:type="stateflow:State" id="_KdAtMY2CEeKjOIt6xW2jaA" name="chartRegion" priority="2">
            <nodes xsi:type="stateflow:State" id="_TmmH4I2CEeKjOIt6xW2jaA" subStateType="PARALLEL" name="Main" initial="true">
              <nodes xsi:type="stateflow:State" id="_Tm_wgI2CEeKjOIt6xW2jaA" name="Port_BAT_Information_Other_Robot" priority="2">
                <nodes xsi:type="stateflow:State" id="_Tnb1YI2CEeKjOIt6xW2jaA" incoming="_ToSxAI2CEeKjOIt6xW2jaA" outgoing="_ToCSUI2CEeKjOIt6xW2jaA _TohagI2CEeKjOIt6xW2jaA" name="Inactive" initial="true"/>
                <nodes xsi:type="stateflow:State" id="_TngG0I2CEeKjOIt6xW2jaA" incoming="_ToCSUI2CEeKjOIt6xW2jaA _To-GcI2CEeKjOIt6xW2jaA" outgoing="_TpMv8I2CEeKjOIt6xW2jaA _Tpg5AI2CEeKjOIt6xW2jaA" name="MyTurn">
                  <entryAction id="_UDVuQI2CEeKjOIt6xW2jaA" expression="c0=reset()"/>
                </nodes>
                <nodes xsi:type="stateflow:State" id="_TnkYQI2CEeKjOIt6xW2jaA" incoming="_TohagI2CEeKjOIt6xW2jaA _TpMv8I2CEeKjOIt6xW2jaA" outgoing="_To-GcI2CEeKjOIt6xW2jaA _TqABMI2CEeKjOIt6xW2jaA" name="YourTurn">
                  <entryAction id="_UDWVUI2CEeKjOIt6xW2jaA" expression="c0=reset()"/>
                </nodes>
                <nodes xsi:type="stateflow:State" id="_TnpQwI2CEeKjOIt6xW2jaA" incoming="_Tpg5AI2CEeKjOIt6xW2jaA _TqABMI2CEeKjOIt6xW2jaA" outgoing="_ToSxAI2CEeKjOIt6xW2jaA" name="TimedOut"/>
                <transitions id="_ToCSUI2CEeKjOIt6xW2jaA" source="_Tnb1YI2CEeKjOIt6xW2jaA" target="_TngG0I2CEeKjOIt6xW2jaA" priority="2">
                  <guard id="_T0KCwI2CEeKjOIt6xW2jaA" expression="BAT_Information_Other_Robot_checkQueue(EVT_TURN_X, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_Y, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_Z, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_V, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_TIME, BAT_Information_Other_RobotReadOut)"/>
                  <action id="_T0KCwY2CEeKjOIt6xW2jaA" expression="[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_1] = BAT_Information_Other_Robot_dequeue(EVT_TURN_X, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_2] = BAT_Information_Other_Robot_dequeue(EVT_TURN_Y, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_3] = BAT_Information_Other_Robot_dequeue(EVT_TURN_Z, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_4] = BAT_Information_Other_Robot_dequeue(EVT_TURN_V, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_5] = BAT_Information_Other_Robot_dequeue(EVT_TURN_TIME, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut)"/>
                  <action id="_T_eh8I2CEeKjOIt6xW2jaA" expression="velocity = tmp_var_4 ;  posX = tmp_var_1 ;  posY = tmp_var_2 ;  posZ = tmp_var_3 ;  timeOfArrival = tmp_var_5 ;  BATInfoReceivedByRobot = true "/>
                </transitions>
                <transitions id="_ToSxAI2CEeKjOIt6xW2jaA" source="_TnpQwI2CEeKjOIt6xW2jaA" target="_Tnb1YI2CEeKjOIt6xW2jaA" priority="1"/>
                <transitions id="_TohagI2CEeKjOIt6xW2jaA" source="_Tnb1YI2CEeKjOIt6xW2jaA" target="_TnkYQI2CEeKjOIt6xW2jaA" priority="1">
                  <guard id="_T6DPYI2CEeKjOIt6xW2jaA" expression="BATInfoReceivedBySP == true &amp;&amp; IsMaster == true"/>
                  <action id="_TxTjEI2CEeKjOIt6xW2jaA" expression="[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_X, BAT_Information_Other_RobotWriteOut, double(posX), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_Y, BAT_Information_Other_RobotWriteOut, double(posY), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_Z, BAT_Information_Other_RobotWriteOut, double(posZ), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_V, BAT_Information_Other_RobotWriteOut, double(velocity), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_TIME, BAT_Information_Other_RobotWriteOut, double(velocity), BAT_Information_Other_RobotParamWriteOut)&#xA;"/>
                  <action id="_T8UgQI2CEeKjOIt6xW2jaA" expression="BATInfoReceivedBySP = false "/>
                </transitions>
                <transitions id="_To-GcI2CEeKjOIt6xW2jaA" source="_TnkYQI2CEeKjOIt6xW2jaA" target="_TngG0I2CEeKjOIt6xW2jaA" priority="2">
                  <guard id="_Tzab4I2CEeKjOIt6xW2jaA" expression="BAT_Information_Other_Robot_checkQueue(EVT_TURN_X, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_Y, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_Z, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_V, BAT_Information_Other_RobotReadOut) &amp;&amp; BAT_Information_Other_Robot_checkQueue(EVT_TURN_TIME, BAT_Information_Other_RobotReadOut)"/>
                  <action id="_Tzab4Y2CEeKjOIt6xW2jaA" expression="[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_1] = BAT_Information_Other_Robot_dequeue(EVT_TURN_X, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_2] = BAT_Information_Other_Robot_dequeue(EVT_TURN_Y, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_3] = BAT_Information_Other_Robot_dequeue(EVT_TURN_Z, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_4] = BAT_Information_Other_Robot_dequeue(EVT_TURN_V, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut); &#xA;[BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut, tmp_var_5] = BAT_Information_Other_Robot_dequeue(EVT_TURN_TIME, BAT_Information_Other_RobotReadOut, BAT_Information_Other_RobotParamReadOut)"/>
                  <action id="_T-xXUI2CEeKjOIt6xW2jaA" expression="velocity = tmp_var_4 ;  posX = tmp_var_1 ;  posY = tmp_var_2 ;  posZ = tmp_var_3 ;  BATInfoReceivedByRobot = true ;  timeOfArrival = tmp_var_5 "/>
                </transitions>
                <transitions id="_TpMv8I2CEeKjOIt6xW2jaA" source="_TngG0I2CEeKjOIt6xW2jaA" target="_TnkYQI2CEeKjOIt6xW2jaA" priority="2">
                  <guard id="_T5t4MI2CEeKjOIt6xW2jaA" expression="BATInfoReceivedBySP == true"/>
                  <action id="_Tw8WsI2CEeKjOIt6xW2jaA" expression="[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_X, BAT_Information_Other_RobotWriteOut, double(posX), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_Y, BAT_Information_Other_RobotWriteOut, double(posY), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_Z, BAT_Information_Other_RobotWriteOut, double(posZ), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_V, BAT_Information_Other_RobotWriteOut, double(velocity), BAT_Information_Other_RobotParamWriteOut)&#xA;[BAT_Information_Other_RobotWriteOut, BAT_Information_Other_RobotParamWriteOut] = BAT_Information_Other_Robot_enqueue(EVT_TURN_TIME, BAT_Information_Other_RobotWriteOut, double(velocity), BAT_Information_Other_RobotParamWriteOut)&#xA;"/>
                  <action id="_T_DrMI2CEeKjOIt6xW2jaA" expression="BATInfoReceivedBySP = false "/>
                </transitions>
                <transitions id="_Tpg5AI2CEeKjOIt6xW2jaA" source="_TngG0I2CEeKjOIt6xW2jaA" target="_TnpQwI2CEeKjOIt6xW2jaA" priority="1">
                  <guard id="_T3zMoI2CEeKjOIt6xW2jaA" expression="time(c0) >= 100"/>
                </transitions>
                <transitions id="_TqABMI2CEeKjOIt6xW2jaA" source="_TnkYQI2CEeKjOIt6xW2jaA" target="_TnpQwI2CEeKjOIt6xW2jaA" priority="1">
                  <guard id="_T4E5cI2CEeKjOIt6xW2jaA" expression="time(c0) >= 100"/>
                </transitions>
                <local id="_T3r34I2CEeKjOIt6xW2jaA" name="c0" type="double" value="0.0"/>
              </nodes>
              <nodes xsi:type="stateflow:State" id="_TnCMwI2CEeKjOIt6xW2jaA" name="Port_BAT_Info_To_StrikeControl" priority="-1">
                <nodes xsi:type="stateflow:State" id="_Tns7II2CEeKjOIt6xW2jaA" incoming="_UD_OgI2CEeKjOIt6xW2jaA" outgoing="_UD_OgI2CEeKjOIt6xW2jaA" name="Sending" initial="true"/>
                <transitions id="_UD_OgI2CEeKjOIt6xW2jaA" source="_Tns7II2CEeKjOIt6xW2jaA" target="_Tns7II2CEeKjOIt6xW2jaA" priority="1">
                  <guard id="_U1mRoI2CEeKjOIt6xW2jaA" expression="BATInfoReceivedByRobot == true"/>
                  <action id="_UpNbcI2CEeKjOIt6xW2jaA" expression="[BAT_Info_To_StrikeControlWriteOut, BAT_Info_To_StrikeControlParamWriteOut] = BAT_Info_To_StrikeControl_enqueue(EVT_TRANSFERBAT_INFORMATION_X, BAT_Info_To_StrikeControlWriteOut, double(posX), BAT_Info_To_StrikeControlParamWriteOut)&#xA;[BAT_Info_To_StrikeControlWriteOut, BAT_Info_To_StrikeControlParamWriteOut] = BAT_Info_To_StrikeControl_enqueue(EVT_TRANSFERBAT_INFORMATION_Y, BAT_Info_To_StrikeControlWriteOut, double(posY), BAT_Info_To_StrikeControlParamWriteOut)&#xA;[BAT_Info_To_StrikeControlWriteOut, BAT_Info_To_StrikeControlParamWriteOut] = BAT_Info_To_StrikeControl_enqueue(EVT_TRANSFERBAT_INFORMATION_Z, BAT_Info_To_StrikeControlWriteOut, double(posZ), BAT_Info_To_StrikeControlParamWriteOut)&#xA;[BAT_Info_To_StrikeControlWriteOut, BAT_Info_To_StrikeControlParamWriteOut] = BAT_Info_To_StrikeControl_enqueue(EVT_TRANSFERBAT_INFORMATION_V, BAT_Info_To_StrikeControlWriteOut, double(velocity), BAT_Info_To_StrikeControlParamWriteOut)&#xA;[BAT_Info_To_StrikeControlWriteOut, BAT_Info_To_StrikeControlParamWriteOut] = BAT_Info_To_StrikeControl_enqueue(EVT_TRANSFERBAT_INFORMATION_TIME, BAT_Info_To_StrikeControlWriteOut, double(velocity), BAT_Info_To_StrikeControlParamWriteOut)&#xA;"/>
                  <action id="_U4U1gI2CEeKjOIt6xW2jaA" expression="BATInfoReceivedByRobot = false "/>
                </transitions>
              </nodes>
              <nodes xsi:type="stateflow:State" id="_TnFQEI2CEeKjOIt6xW2jaA" name="Port_BAT_Info_To_SensorProcessing" priority="1">
                <nodes xsi:type="stateflow:State" id="_TnwlgI2CEeKjOIt6xW2jaA" incoming="_UEI_gI2CEeKjOIt6xW2jaA" outgoing="_UEI_gI2CEeKjOIt6xW2jaA" name="Receiving" initial="true"/>
                <transitions id="_UEI_gI2CEeKjOIt6xW2jaA" source="_TnwlgI2CEeKjOIt6xW2jaA" target="_TnwlgI2CEeKjOIt6xW2jaA" priority="1">
                  <guard id="_UsagcI2CEeKjOIt6xW2jaA" expression="BAT_Info_To_SensorProcessing_checkQueue(EVT_TRANSFERBAT_INFORMATION_X, BAT_Info_To_SensorProcessingReadOut) &amp;&amp; BAT_Info_To_SensorProcessing_checkQueue(EVT_TRANSFERBAT_INFORMATION_Y, BAT_Info_To_SensorProcessingReadOut) &amp;&amp; BAT_Info_To_SensorProcessing_checkQueue(EVT_TRANSFERBAT_INFORMATION_Z, BAT_Info_To_SensorProcessingReadOut) &amp;&amp; BAT_Info_To_SensorProcessing_checkQueue(EVT_TRANSFERBAT_INFORMATION_V, BAT_Info_To_SensorProcessingReadOut) &amp;&amp; BAT_Info_To_SensorProcessing_checkQueue(EVT_TRANSFERBAT_INFORMATION_TIME, BAT_Info_To_SensorProcessingReadOut)"/>
                  <action id="_UsagcY2CEeKjOIt6xW2jaA" expression="[BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut, tmp_var_1] = BAT_Info_To_SensorProcessing_dequeue(EVT_TRANSFERBAT_INFORMATION_X, BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut); &#xA;[BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut, tmp_var_2] = BAT_Info_To_SensorProcessing_dequeue(EVT_TRANSFERBAT_INFORMATION_Y, BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut); &#xA;[BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut, tmp_var_3] = BAT_Info_To_SensorProcessing_dequeue(EVT_TRANSFERBAT_INFORMATION_Z, BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut); &#xA;[BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut, tmp_var_4] = BAT_Info_To_SensorProcessing_dequeue(EVT_TRANSFERBAT_INFORMATION_V, BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut); &#xA;[BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut, tmp_var_5] = BAT_Info_To_SensorProcessing_dequeue(EVT_TRANSFERBAT_INFORMATION_TIME, BAT_Info_To_SensorProcessingReadOut, BAT_Info_To_SensorProcessingParamReadOut)"/>
                  <action id="_U4tQAI2CEeKjOIt6xW2jaA" expression="velocity = tmp_var_4 ;  posX = tmp_var_1 ;  posY = tmp_var_2 ;  posZ = tmp_var_3 ;  timeOfArrival = tmp_var_5 ;  BATInfoReceivedBySP = true "/>
                </transitions>
              </nodes>
            </nodes>
            <local id="_TvgzUI2CEeKjOIt6xW2jaA" name="state" type="int32" value="0"/>
            <local id="_TvkdsI2CEeKjOIt6xW2jaA" name="BATInfoReceivedByRobot" type="boolean" value="false"/>
            <local id="_TvovII2CEeKjOIt6xW2jaA" name="IsMaster" type="boolean" value="false"/>
            <local id="_TvsZgI2CEeKjOIt6xW2jaA" name="posZ" type="double" value="0.0"/>
            <local id="_Tvwq8I2CEeKjOIt6xW2jaA" name="posX" type="double" value="0.0"/>
            <local id="_Tv0VUI2CEeKjOIt6xW2jaA" name="BATInfoReceivedBySP" type="boolean" value="false"/>
            <local id="_Tv4mwI2CEeKjOIt6xW2jaA" name="timeOfArrival" type="double" value="0.0"/>
            <local id="_Tv8RII2CEeKjOIt6xW2jaA" name="posY" type="double" value="0.0"/>
            <local id="_TwAikI2CEeKjOIt6xW2jaA" name="velocity" type="double" value="0.0"/>
          </nodes>
          <nodes xsi:type="stateflow:State" id="_KdBUQI2CEeKjOIt6xW2jaA" incoming="_KdBUQY2CEeKjOIt6xW2jaA" outgoing="_KdBUQY2CEeKjOIt6xW2jaA" name="DataInit" priority="1"/>
          <transitions id="_KdBUQY2CEeKjOIt6xW2jaA" source="_KdBUQI2CEeKjOIt6xW2jaA" target="_KdBUQI2CEeKjOIt6xW2jaA">
            <action id="_KdB7UI2CEeKjOIt6xW2jaA" expression="BAT_Information_Other_RobotWriteOut = BAT_Information_Other_RobotWriteIn;&#xA;BAT_Information_Other_RobotParamWriteOut = BAT_Information_Other_RobotParamWriteIn;&#xA;BAT_Information_Other_RobotReadOut = BAT_Information_Other_RobotReadIn;&#xA;BAT_Information_Other_RobotParamReadOut = BAT_Information_Other_RobotParamReadIn;&#xA;BAT_Info_To_StrikeControlWriteOut = BAT_Info_To_StrikeControlWriteIn;&#xA;BAT_Info_To_StrikeControlParamWriteOut = BAT_Info_To_StrikeControlParamWriteIn;&#xA;BAT_Info_To_StrikeControlReadOut = BAT_Info_To_StrikeControlReadIn;&#xA;BAT_Info_To_StrikeControlParamReadOut = BAT_Info_To_StrikeControlParamReadIn;&#xA;BAT_Info_To_SensorProcessingWriteOut = BAT_Info_To_SensorProcessingWriteIn;&#xA;BAT_Info_To_SensorProcessingParamWriteOut = BAT_Info_To_SensorProcessingParamWriteIn;&#xA;BAT_Info_To_SensorProcessingReadOut = BAT_Info_To_SensorProcessingReadIn;&#xA;BAT_Info_To_SensorProcessingParamReadOut = BAT_Info_To_SensorProcessingParamReadIn;&#xA;"/>
          </transitions>
        </nodes>
        <embeddedFunctions id="_KdBUQo2CEeKjOIt6xW2jaA" name="time" code="function logicalTime = time(clock) \n&#xD;&#xA; sample = 0.001;  % the sample time of the system clock \n&#xD;&#xA; %convert to pass units of time after last reset \n&#xD;&#xA; logicalTime = uint32((clockSignal - clock)/sample);">
          <input id="_KdDJcI2CEeKjOIt6xW2jaA" name="clock" type="double"/>
          <output id="_KdCiYI2CEeKjOIt6xW2jaA" name="logicalTime" type="uint32"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KdBUQ42CEeKjOIt6xW2jaA" name="reset" code="function clock = reset() \n&#xD;&#xA; %set clock variable to current time \n&#xD;&#xA; clock = clockSignal;">
          <output id="_KdDwgI2CEeKjOIt6xW2jaA" name="clock" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KhN3wI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_enqueue" code="function [evtQueue, paramQueue] = BAT_Information_Other_Robot_enqueue(event, evtQueueIn, param, paramQueueIn) %eml &#xA; evtQueue = evtQueueIn; &#xA; paramQueue = paramQueueIn; &#xA; for i = 1:length(evtQueue) &#xA; if evtQueue(i) == uint8(0) &#xA; evtQueue(i) = event; &#xA; paramQueue(i) = param; &#xA; return &#xA; end &#xA; end">
          <input id="_KhQUAY2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KhQUAo2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KhQ7EI2CEeKjOIt6xW2jaA" name="param" type="double"/>
          <input id="_KhQ7EY2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KhPs8I2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhQUAI2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KhOe0I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_dequeue" code="function [evtQueue, paramQueue, parameter] = BAT_Information_Other_Robot_dequeue(event, evtQueueIn, paramQueueIn) %eml &#xA;  evtQueue = evtQueueIn; &#xA;  paramQueue = paramQueueIn; &#xA;  parameter = 0; &#xA;  for i = 1:length(evtQueue) &#xA;    if evtQueue(i) == event &#xA;         parameter = paramQueue(i); &#xA;         for j = i:length(evtQueue)-1 &#xA;             evtQueue(j) = evtQueue(j+1); &#xA;             %Compatibility &#xA;             evtQueue(j+length(evtQueue)) = evtQueue(j+1+length(evtQueue)); &#xA;             paramQueue(j) = paramQueue(j+1); &#xA;         end &#xA;         evtQueue(length(evtQueue)) = 0; &#xA;         %Compatibility &#xA;         evtQueue(length(evtQueue)+length(evtQueue)) = 0; &#xA;         paramQueue(length(paramQueue)) = 0; &#xA;         return &#xA;     end &#xA;  end">
          <input id="_KhSJMo2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KhSwQI2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KhSwQY2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KhRiII2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhSJMI2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
          <output id="_KhSJMY2CEeKjOIt6xW2jaA" name="parameter" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KhPF4I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_checkQueue" code="function available = BAT_Information_Other_Robot_checkQueue(event, evtQueue) %eml &#xA; available = false; &#xA; for i = 1:length(evtQueue) &#xA;     if evtQueue(i) == event &#xA;         available = true;    &#xA;         return &#xA;     end &#xA; end">
          <input id="_KhTXUY2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KhTXUo2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhTXUI2CEeKjOIt6xW2jaA" name="available" type="boolean"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KhVMgI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControl_enqueue" code="function [evtQueue, paramQueue] = BAT_Info_To_StrikeControl_enqueue(event, evtQueueIn, param, paramQueueIn) %eml &#xA; evtQueue = evtQueueIn; &#xA; paramQueue = paramQueueIn; &#xA; for i = 1:length(evtQueue) &#xA; if evtQueue(i) == uint8(0) &#xA; evtQueue(i) = event; &#xA; paramQueue(i) = param; &#xA; return &#xA; end &#xA; end">
          <input id="_KhYP0Y2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KhY24I2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KhY24Y2CEeKjOIt6xW2jaA" name="param" type="double"/>
          <input id="_KhZd8I2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KhXowI2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhYP0I2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KhVzkI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControl_dequeue" code="function [evtQueue, paramQueue, parameter] = BAT_Info_To_StrikeControl_dequeue(event, evtQueueIn, paramQueueIn) %eml &#xA;  evtQueue = evtQueueIn; &#xA;  paramQueue = paramQueueIn; &#xA;  parameter = 0; &#xA;  for i = 1:length(evtQueue) &#xA;    if evtQueue(i) == event &#xA;         parameter = paramQueue(i); &#xA;         for j = i:length(evtQueue)-1 &#xA;             evtQueue(j) = evtQueue(j+1); &#xA;             %Compatibility &#xA;             evtQueue(j+length(evtQueue)) = evtQueue(j+1+length(evtQueue)); &#xA;             paramQueue(j) = paramQueue(j+1); &#xA;         end &#xA;         evtQueue(length(evtQueue)) = 0; &#xA;         %Compatibility &#xA;         evtQueue(length(evtQueue)+length(evtQueue)) = 0; &#xA;         paramQueue(length(paramQueue)) = 0; &#xA;         return &#xA;     end &#xA;  end">
          <input id="_KhasEY2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KhbTII2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KhbTIY2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KhZd8Y2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhaFAI2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
          <output id="_KhasEI2CEeKjOIt6xW2jaA" name="parameter" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KhWaoI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControl_checkQueue" code="function available = BAT_Info_To_StrikeControl_checkQueue(event, evtQueue) %eml &#xA; available = false; &#xA; for i = 1:length(evtQueue) &#xA;     if evtQueue(i) == event &#xA;         available = true;    &#xA;         return &#xA;     end &#xA; end">
          <input id="_Khb6MY2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_Khb6Mo2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_Khb6MI2CEeKjOIt6xW2jaA" name="available" type="boolean"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KhdvYI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessing_enqueue" code="function [evtQueue, paramQueue] = BAT_Info_To_SensorProcessing_enqueue(event, evtQueueIn, param, paramQueueIn) %eml &#xA; evtQueue = evtQueueIn; &#xA; paramQueue = paramQueueIn; &#xA; for i = 1:length(evtQueue) &#xA; if evtQueue(i) == uint8(0) &#xA; evtQueue(i) = event; &#xA; paramQueue(i) = param; &#xA; return &#xA; end &#xA; end">
          <input id="_KhgLoI2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KhgLoY2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KhgysI2CEeKjOIt6xW2jaA" name="param" type="double"/>
          <input id="_KhgysY2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KhfkkI2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhfkkY2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KheWcI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessing_dequeue" code="function [evtQueue, paramQueue, parameter] = BAT_Info_To_SensorProcessing_dequeue(event, evtQueueIn, paramQueueIn) %eml &#xA;  evtQueue = evtQueueIn; &#xA;  paramQueue = paramQueueIn; &#xA;  parameter = 0; &#xA;  for i = 1:length(evtQueue) &#xA;    if evtQueue(i) == event &#xA;         parameter = paramQueue(i); &#xA;         for j = i:length(evtQueue)-1 &#xA;             evtQueue(j) = evtQueue(j+1); &#xA;             %Compatibility &#xA;             evtQueue(j+length(evtQueue)) = evtQueue(j+1+length(evtQueue)); &#xA;             paramQueue(j) = paramQueue(j+1); &#xA;         end &#xA;         evtQueue(length(evtQueue)) = 0; &#xA;         %Compatibility &#xA;         evtQueue(length(evtQueue)+length(evtQueue)) = 0; &#xA;         paramQueue(length(paramQueue)) = 0; &#xA;         return &#xA;     end &#xA;  end">
          <input id="_KhiA0Y2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KhiA0o2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_Khin4I2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KhhZwI2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhhZwY2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
          <output id="_KhiA0I2CEeKjOIt6xW2jaA" name="parameter" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_Khe9gI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessing_checkQueue" code="function available = BAT_Info_To_SensorProcessing_checkQueue(event, evtQueue) %eml &#xA; available = false; &#xA; for i = 1:length(evtQueue) &#xA;     if evtQueue(i) == event &#xA;         available = true;    &#xA;         return &#xA;     end &#xA; end">
          <input id="_KhjO8Y2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_Khj2AI2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KhjO8I2CEeKjOIt6xW2jaA" name="available" type="boolean"/>
        </embeddedFunctions>
        <local id="_Kjg90I2CEeKjOIt6xW2jaA" name="tmp_var_1" type="double"/>
        <local id="_KjiL8I2CEeKjOIt6xW2jaA" name="tmp_var_2" type="double"/>
        <local id="_KjjaEI2CEeKjOIt6xW2jaA" name="tmp_var_3" type="double"/>
        <local id="_KjlPQI2CEeKjOIt6xW2jaA" name="tmp_var_4" type="double"/>
        <local id="_KjmdYI2CEeKjOIt6xW2jaA" name="tmp_var_5" type="double"/>
        <constant id="_UJR-MI2CEeKjOIt6xW2jaA" name="EVT_TURN_X" type="uint32" value="11"/>
        <constant id="_UJZ6AI2CEeKjOIt6xW2jaA" name="EVT_TURN_Y" type="uint32" value="12"/>
        <constant id="_UJjD8I2CEeKjOIt6xW2jaA" name="EVT_TURN_Z" type="uint32" value="13"/>
        <constant id="_UJtcAI2CEeKjOIt6xW2jaA" name="EVT_TURN_V" type="uint32" value="14"/>
        <constant id="_UJ6QUI2CEeKjOIt6xW2jaA" name="EVT_TURN_TIME" type="uint32" value="15"/>
        <constant id="_UKKvAI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_X" type="uint32" value="6"/>
        <constant id="_UKgGMI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_Y" type="uint32" value="7"/>
        <constant id="_UK688I2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_Z" type="uint32" value="8"/>
        <constant id="_ULSJUI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_V" type="uint32" value="9"/>
        <constant id="_ULuOMI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_TIME" type="uint32" value="10"/>
        <output id="_KuVGsI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotReadOut" type="uint8" size="[10,2]"/>
        <output id="_KuWU0I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamReadOut" type="double" size="10"/>
        <output id="_KuW74I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotWriteOut" type="uint8" size="[10,2]"/>
        <output id="_KuXi8I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamWriteOut" type="double" size="10"/>
        <output id="_K0GXgI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlReadOut" type="uint8" size="[10,2]"/>
        <output id="_K0G-kI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamReadOut" type="double" size="10"/>
        <output id="_K0IzwI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlWriteOut" type="uint8" size="[10,2]"/>
        <output id="_K0Ko8I2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamWriteOut" type="double" size="10"/>
        <output id="_K6LxYI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingReadOut" type="uint8" size="[10,2]"/>
        <output id="_K6MYcI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamReadOut" type="double" size="10"/>
        <output id="_K6M_gI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingWriteOut" type="uint8" size="[10,2]"/>
        <output id="_K6ONoI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamWriteOut" type="double" size="10"/>
        <input id="_Kkt3sI2CEeKjOIt6xW2jaA" name="clockSignal" type="double"/>
        <input id="_KrOvYI2CEeKjOIt6xW2jaA" name="isMaster" type="boolean"/>
        <input id="_KuQ1QI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotReadIn" type="uint8" size="[10,2]"/>
        <input id="_KuSDYI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamReadIn" type="double" size="10"/>
        <input id="_KuTRgI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotWriteIn" type="uint8" size="[10,2]"/>
        <input id="_KuUfoI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_RobotParamWriteIn" type="double" size="10"/>
        <input id="_K0CtII2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlReadIn" type="uint8" size="[10,2]"/>
        <input id="_K0DUMI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamReadIn" type="double" size="10"/>
        <input id="_K0D7QI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlWriteIn" type="uint8" size="[10,2]"/>
        <input id="_K0FJYI2CEeKjOIt6xW2jaA" name="BAT_Info_To_StrikeControlParamWriteIn" type="double" size="10"/>
        <input id="_K6IuEI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingReadIn" type="uint8" size="[10,2]"/>
        <input id="_K6J8MI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamReadIn" type="double" size="10"/>
        <input id="_K6KjQI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingWriteIn" type="uint8" size="[10,2]"/>
        <input id="_K6LKUI2CEeKjOIt6xW2jaA" name="BAT_Info_To_SensorProcessingParamWriteIn" type="double" size="10"/>
      </charts>
      <charts id="_KdLsUI2CEeKjOIt6xW2jaA" name="StrikeControl" block="_Kk420I2CEeKjOIt6xW2jaA">
        <nodes xsi:type="stateflow:State" id="_KdMTYI2CEeKjOIt6xW2jaA" subStateType="PARALLEL" name="chart" initial="true">
          <nodes xsi:type="stateflow:State" id="_KdMTYY2CEeKjOIt6xW2jaA" name="chartRegion" priority="2">
            <nodes xsi:type="stateflow:State" id="_TmsOgI2CEeKjOIt6xW2jaA" name="Main" initial="true">
              <nodes xsi:type="stateflow:State" id="_TsZ08I2CEeKjOIt6xW2jaA" incoming="_UFGBwI2CEeKjOIt6xW2jaA" outgoing="_UFGBwI2CEeKjOIt6xW2jaA" name="Receiving" initial="true"/>
              <transitions id="_UFGBwI2CEeKjOIt6xW2jaA" source="_TsZ08I2CEeKjOIt6xW2jaA" target="_TsZ08I2CEeKjOIt6xW2jaA" priority="1">
                <guard id="_UtL8gI2CEeKjOIt6xW2jaA" expression="MC_BAT_Info_checkQueue(EVT_TRANSFERBAT_INFORMATION_X, MC_BAT_InfoReadOut) &amp;&amp; MC_BAT_Info_checkQueue(EVT_TRANSFERBAT_INFORMATION_Y, MC_BAT_InfoReadOut) &amp;&amp; MC_BAT_Info_checkQueue(EVT_TRANSFERBAT_INFORMATION_Z, MC_BAT_InfoReadOut) &amp;&amp; MC_BAT_Info_checkQueue(EVT_TRANSFERBAT_INFORMATION_V, MC_BAT_InfoReadOut) &amp;&amp; MC_BAT_Info_checkQueue(EVT_TRANSFERBAT_INFORMATION_TIME, MC_BAT_InfoReadOut)"/>
                <action id="_UtMjkI2CEeKjOIt6xW2jaA" expression="[MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut, tmp_var_1] = MC_BAT_Info_dequeue(EVT_TRANSFERBAT_INFORMATION_X, MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut); &#xA;[MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut, tmp_var_2] = MC_BAT_Info_dequeue(EVT_TRANSFERBAT_INFORMATION_Y, MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut); &#xA;[MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut, tmp_var_3] = MC_BAT_Info_dequeue(EVT_TRANSFERBAT_INFORMATION_Z, MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut); &#xA;[MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut, tmp_var_4] = MC_BAT_Info_dequeue(EVT_TRANSFERBAT_INFORMATION_V, MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut); &#xA;[MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut, tmp_var_5] = MC_BAT_Info_dequeue(EVT_TRANSFERBAT_INFORMATION_TIME, MC_BAT_InfoReadOut, MC_BAT_InfoParamReadOut)"/>
                <action id="_U5AK8I2CEeKjOIt6xW2jaA" expression="velocity = tmp_var_4 ;  posX = tmp_var_1 ;  posY = tmp_var_2 ;  posZ = tmp_var_3 ;  timeOfArrival = tmp_var_5 "/>
              </transitions>
            </nodes>
            <local id="_TwGpMI2CEeKjOIt6xW2jaA" name="velocity" type="double" value="0.0"/>
            <local id="_TwK6oI2CEeKjOIt6xW2jaA" name="timeOfArrival" type="double" value="0.0"/>
            <local id="_TwOlAI2CEeKjOIt6xW2jaA" name="posX" type="double" value="0.0"/>
            <local id="_TwS2cI2CEeKjOIt6xW2jaA" name="posY" type="double" value="0.0"/>
            <local id="_TwWg0I2CEeKjOIt6xW2jaA" name="posZ" type="double" value="0.0"/>
          </nodes>
          <nodes xsi:type="stateflow:State" id="_KdMTYo2CEeKjOIt6xW2jaA" incoming="_KdM6cI2CEeKjOIt6xW2jaA" outgoing="_KdM6cI2CEeKjOIt6xW2jaA" name="DataInit" priority="1"/>
          <transitions id="_KdM6cI2CEeKjOIt6xW2jaA" source="_KdMTYo2CEeKjOIt6xW2jaA" target="_KdMTYo2CEeKjOIt6xW2jaA">
            <action id="_KdNhgI2CEeKjOIt6xW2jaA" expression="MC_BAT_InfoWriteOut = MC_BAT_InfoWriteIn;&#xA;MC_BAT_InfoParamWriteOut = MC_BAT_InfoParamWriteIn;&#xA;MC_BAT_InfoReadOut = MC_BAT_InfoReadIn;&#xA;MC_BAT_InfoParamReadOut = MC_BAT_InfoParamReadIn;&#xA;"/>
          </transitions>
        </nodes>
        <embeddedFunctions id="_KdM6cY2CEeKjOIt6xW2jaA" name="time" code="function logicalTime = time(clock) \n&#xD;&#xA; sample = 0.001;  % the sample time of the system clock \n&#xD;&#xA; %convert to pass units of time after last reset \n&#xD;&#xA; logicalTime = uint32((clockSignal - clock)/sample);">
          <input id="_KdOIkI2CEeKjOIt6xW2jaA" name="clock" type="double"/>
          <output id="_KdNhgY2CEeKjOIt6xW2jaA" name="logicalTime" type="uint32"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KdM6co2CEeKjOIt6xW2jaA" name="reset" code="function clock = reset() \n&#xD;&#xA; %set clock variable to current time \n&#xD;&#xA; clock = clockSignal;">
          <output id="_KdOIkY2CEeKjOIt6xW2jaA" name="clock" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_Kh7CYI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_enqueue" code="function [evtQueue, paramQueue] = MC_BAT_Info_enqueue(event, evtQueueIn, param, paramQueueIn) %eml &#xA; evtQueue = evtQueueIn; &#xA; paramQueue = paramQueueIn; &#xA; for i = 1:length(evtQueue) &#xA; if evtQueue(i) == uint8(0) &#xA; evtQueue(i) = event; &#xA; paramQueue(i) = param; &#xA; return &#xA; end &#xA; end">
          <input id="_Kh-FsY2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_Kh-swI2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_Kh-swY2CEeKjOIt6xW2jaA" name="param" type="double"/>
          <input id="_Kh_T0I2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_Kh9eoI2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_Kh-FsI2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
        </embeddedFunctions>
        <embeddedFunctions id="_Kh7pcI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_dequeue" code="function [evtQueue, paramQueue, parameter] = MC_BAT_Info_dequeue(event, evtQueueIn, paramQueueIn) %eml &#xA;  evtQueue = evtQueueIn; &#xA;  paramQueue = paramQueueIn; &#xA;  parameter = 0; &#xA;  for i = 1:length(evtQueue) &#xA;    if evtQueue(i) == event &#xA;         parameter = paramQueue(i); &#xA;         for j = i:length(evtQueue)-1 &#xA;             evtQueue(j) = evtQueue(j+1); &#xA;             %Compatibility &#xA;             evtQueue(j+length(evtQueue)) = evtQueue(j+1+length(evtQueue)); &#xA;             paramQueue(j) = paramQueue(j+1); &#xA;         end &#xA;         evtQueue(length(evtQueue)) = 0; &#xA;         %Compatibility &#xA;         evtQueue(length(evtQueue)+length(evtQueue)) = 0; &#xA;         paramQueue(length(paramQueue)) = 0; &#xA;         return &#xA;     end &#xA;  end">
          <input id="_KiAh8I2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KiAh8Y2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KiBJAI2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_Kh_T0Y2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_Kh_64I2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
          <output id="_Kh_64Y2CEeKjOIt6xW2jaA" name="parameter" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_Kh83kI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_checkQueue" code="function available = MC_BAT_Info_checkQueue(event, evtQueue) %eml &#xA; available = false; &#xA; for i = 1:length(evtQueue) &#xA;     if evtQueue(i) == event &#xA;         available = true;    &#xA;         return &#xA;     end &#xA; end">
          <input id="_KiBwEI2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KiBwEY2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KiBJAY2CEeKjOIt6xW2jaA" name="available" type="boolean"/>
        </embeddedFunctions>
        <local id="_KjtyII2CEeKjOIt6xW2jaA" name="tmp_var_1" type="double"/>
        <local id="_KjvAQI2CEeKjOIt6xW2jaA" name="tmp_var_2" type="double"/>
        <local id="_KjvnUI2CEeKjOIt6xW2jaA" name="tmp_var_3" type="double"/>
        <local id="_Kjw1cI2CEeKjOIt6xW2jaA" name="tmp_var_4" type="double"/>
        <local id="_KjyDkI2CEeKjOIt6xW2jaA" name="tmp_var_5" type="double"/>
        <constant id="_UM5S4I2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_X" type="uint32" value="6"/>
        <constant id="_UNDD4I2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_Y" type="uint32" value="7"/>
        <constant id="_UNODAI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_Z" type="uint32" value="8"/>
        <constant id="_UNZCII2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_V" type="uint32" value="9"/>
        <constant id="_UNnEkI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_TIME" type="uint32" value="10"/>
        <output id="_K-fCkI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadOut" type="uint8" size="[10,2]"/>
        <output id="_K-fpoI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadOut" type="double" size="10"/>
        <output id="_K-gQsI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteOut" type="uint8" size="[10,2]"/>
        <output id="_K-g3wI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteOut" type="double" size="10"/>
        <input id="_Kk5d4I2CEeKjOIt6xW2jaA" name="clockSignal" type="double"/>
        <input id="_K-b_QI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadIn" type="uint8" size="[10,2]"/>
        <input id="_K-dNYI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadIn" type="double" size="10"/>
        <input id="_K-d0cI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteIn" type="uint8" size="[10,2]"/>
        <input id="_K-ebgI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteIn" type="double" size="10"/>
      </charts>
      <charts id="_KdWEYI2CEeKjOIt6xW2jaA" name="SensorProcessing" block="_KlCAwI2CEeKjOIt6xW2jaA">
        <nodes xsi:type="stateflow:State" id="_KdWEYY2CEeKjOIt6xW2jaA" subStateType="PARALLEL" name="chart" initial="true">
          <nodes xsi:type="stateflow:State" id="_KdWrcI2CEeKjOIt6xW2jaA" name="chartRegion" priority="2">
            <nodes xsi:type="stateflow:State" id="_Tmv44I2CEeKjOIt6xW2jaA" name="Main" initial="true">
              <nodes xsi:type="stateflow:State" id="_TskNAI2CEeKjOIt6xW2jaA" incoming="_UFRn8I2CEeKjOIt6xW2jaA" outgoing="_UFRn8I2CEeKjOIt6xW2jaA" name="Sending" initial="true">
                <entryAction id="_UDYKgI2CEeKjOIt6xW2jaA" expression="c0=reset()"/>
              </nodes>
              <transitions id="_UFRn8I2CEeKjOIt6xW2jaA" source="_TskNAI2CEeKjOIt6xW2jaA" target="_TskNAI2CEeKjOIt6xW2jaA" priority="1">
                <guard id="_Uy474I2CEeKjOIt6xW2jaA" expression="time(c0) >= 50"/>
                <action id="_UixcQI2CEeKjOIt6xW2jaA" expression="c0=reset()"/>
                <action id="_Upr8kI2CEeKjOIt6xW2jaA" expression="[MC_BAT_InfoWriteOut, MC_BAT_InfoParamWriteOut] = MC_BAT_Info_enqueue(EVT_TRANSFERBAT_INFORMATION_X, MC_BAT_InfoWriteOut, double(Pos_X), MC_BAT_InfoParamWriteOut)&#xA;[MC_BAT_InfoWriteOut, MC_BAT_InfoParamWriteOut] = MC_BAT_Info_enqueue(EVT_TRANSFERBAT_INFORMATION_Y, MC_BAT_InfoWriteOut, double(Pos_Y), MC_BAT_InfoParamWriteOut)&#xA;[MC_BAT_InfoWriteOut, MC_BAT_InfoParamWriteOut] = MC_BAT_Info_enqueue(EVT_TRANSFERBAT_INFORMATION_Z, MC_BAT_InfoWriteOut, double(Pos_Z), MC_BAT_InfoParamWriteOut)&#xA;[MC_BAT_InfoWriteOut, MC_BAT_InfoParamWriteOut] = MC_BAT_Info_enqueue(EVT_TRANSFERBAT_INFORMATION_V, MC_BAT_InfoWriteOut, double(1), MC_BAT_InfoParamWriteOut)&#xA;[MC_BAT_InfoWriteOut, MC_BAT_InfoParamWriteOut] = MC_BAT_Info_enqueue(EVT_TRANSFERBAT_INFORMATION_TIME, MC_BAT_InfoWriteOut, double(Time), MC_BAT_InfoParamWriteOut)&#xA;"/>
              </transitions>
            </nodes>
            <local id="_TwbZUI2CEeKjOIt6xW2jaA" name="Pos_X" type="double" value="0.0"/>
            <local id="_TwfDsI2CEeKjOIt6xW2jaA" name="Pos_Z" type="double" value="0.0"/>
            <local id="_Twj8MI2CEeKjOIt6xW2jaA" name="Pos_Y" type="double" value="0.0"/>
            <local id="_TwpbwI2CEeKjOIt6xW2jaA" name="Time" type="double" value="0.0"/>
          </nodes>
          <nodes xsi:type="stateflow:State" id="_KdWrcY2CEeKjOIt6xW2jaA" incoming="_KdWrco2CEeKjOIt6xW2jaA" outgoing="_KdWrco2CEeKjOIt6xW2jaA" name="DataInit" priority="1"/>
          <transitions id="_KdWrco2CEeKjOIt6xW2jaA" source="_KdWrcY2CEeKjOIt6xW2jaA" target="_KdWrcY2CEeKjOIt6xW2jaA">
            <action id="_KdXSgY2CEeKjOIt6xW2jaA" expression="MC_BAT_InfoWriteOut = MC_BAT_InfoWriteIn;&#xA;MC_BAT_InfoParamWriteOut = MC_BAT_InfoParamWriteIn;&#xA;MC_BAT_InfoReadOut = MC_BAT_InfoReadIn;&#xA;MC_BAT_InfoParamReadOut = MC_BAT_InfoParamReadIn;&#xA;"/>
          </transitions>
        </nodes>
        <embeddedFunctions id="_KdWrc42CEeKjOIt6xW2jaA" name="time" code="function logicalTime = time(clock) \n&#xD;&#xA; sample = 0.001;  % the sample time of the system clock \n&#xD;&#xA; %convert to pass units of time after last reset \n&#xD;&#xA; logicalTime = uint32((clockSignal - clock)/sample);">
          <input id="_KdX5kI2CEeKjOIt6xW2jaA" name="clock" type="double"/>
          <output id="_KdXSgo2CEeKjOIt6xW2jaA" name="logicalTime" type="uint32"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KdXSgI2CEeKjOIt6xW2jaA" name="reset" code="function clock = reset() \n&#xD;&#xA; %set clock variable to current time \n&#xD;&#xA; clock = clockSignal;">
          <output id="_KdX5kY2CEeKjOIt6xW2jaA" name="clock" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KiIdwI2CEeKjOIt6xW2jaA" name="MC_BAT_Info_enqueue" code="function [evtQueue, paramQueue] = MC_BAT_Info_enqueue(event, evtQueueIn, param, paramQueueIn) %eml &#xA; evtQueue = evtQueueIn; &#xA; paramQueue = paramQueueIn; &#xA; for i = 1:length(evtQueue) &#xA; if evtQueue(i) == uint8(0) &#xA; evtQueue(i) = event; &#xA; paramQueue(i) = param; &#xA; return &#xA; end &#xA; end">
          <input id="_KiMvMI2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KiMvMY2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KiNWQI2CEeKjOIt6xW2jaA" name="param" type="double"/>
          <input id="_KiN9UI2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KiLhEI2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KiMIII2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KiJr4I2CEeKjOIt6xW2jaA" name="MC_BAT_Info_dequeue" code="function [evtQueue, paramQueue, parameter] = MC_BAT_Info_dequeue(event, evtQueueIn, paramQueueIn) %eml &#xA;  evtQueue = evtQueueIn; &#xA;  paramQueue = paramQueueIn; &#xA;  parameter = 0; &#xA;  for i = 1:length(evtQueue) &#xA;    if evtQueue(i) == event &#xA;         parameter = paramQueue(i); &#xA;         for j = i:length(evtQueue)-1 &#xA;             evtQueue(j) = evtQueue(j+1); &#xA;             %Compatibility &#xA;             evtQueue(j+length(evtQueue)) = evtQueue(j+1+length(evtQueue)); &#xA;             paramQueue(j) = paramQueue(j+1); &#xA;         end &#xA;         evtQueue(length(evtQueue)) = 0; &#xA;         %Compatibility &#xA;         evtQueue(length(evtQueue)+length(evtQueue)) = 0; &#xA;         paramQueue(length(paramQueue)) = 0; &#xA;         return &#xA;     end &#xA;  end">
          <input id="_KiQZkI2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KiQZkY2CEeKjOIt6xW2jaA" name="evtQueueIn" type="uint8" size="[10,2]"/>
          <input id="_KiRnsI2CEeKjOIt6xW2jaA" name="paramQueueIn" type="double" size="10"/>
          <output id="_KiOkYI2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KiPLcI2CEeKjOIt6xW2jaA" name="paramQueue" type="double" size="10"/>
          <output id="_KiPygI2CEeKjOIt6xW2jaA" name="parameter" type="double"/>
        </embeddedFunctions>
        <embeddedFunctions id="_KiKS8I2CEeKjOIt6xW2jaA" name="MC_BAT_Info_checkQueue" code="function available = MC_BAT_Info_checkQueue(event, evtQueue) %eml &#xA; available = false; &#xA; for i = 1:length(evtQueue) &#xA;     if evtQueue(i) == event &#xA;         available = true;    &#xA;         return &#xA;     end &#xA; end">
          <input id="_KiSOwY2CEeKjOIt6xW2jaA" name="event" type="uint8"/>
          <input id="_KiS10I2CEeKjOIt6xW2jaA" name="evtQueue" type="uint8" size="[10,2]"/>
          <output id="_KiSOwI2CEeKjOIt6xW2jaA" name="available" type="boolean"/>
        </embeddedFunctions>
        <local id="_T3qCsI2CEeKjOIt6xW2jaA" name="c0" type="double" value="0.0"/>
        <constant id="_UXTzII2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_X" type="uint32" value="6"/>
        <constant id="_UXbu8I2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_Y" type="uint32" value="7"/>
        <constant id="_UXlf8I2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_Z" type="uint32" value="8"/>
        <constant id="_UXxtMI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_V" type="uint32" value="9"/>
        <constant id="_UX96cI2CEeKjOIt6xW2jaA" name="EVT_TRANSFERBAT_INFORMATION_TIME" type="uint32" value="10"/>
        <output id="_LCuCUI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadOut" type="uint8" size="[10,2]"/>
        <output id="_LCupYI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadOut" type="double" size="10"/>
        <output id="_LCvQcI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteOut" type="uint8" size="[10,2]"/>
        <output id="_LCv3gI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteOut" type="double" size="10"/>
        <input id="_KlCn0I2CEeKjOIt6xW2jaA" name="clockSignal" type="double"/>
        <input id="_KrZugY2CEeKjOIt6xW2jaA" name="Pos_X" type="boolean"/>
        <input id="_KroYAY2CEeKjOIt6xW2jaA" name="ObjectRecognition" type="boolean"/>
        <input id="_Kr0lQY2CEeKjOIt6xW2jaA" name="Pos_Z" type="boolean"/>
        <input id="_Kr-9UY2CEeKjOIt6xW2jaA" name="Pos_Y" type="boolean"/>
        <input id="_KsIuUo2CEeKjOIt6xW2jaA" name="Time" type="boolean"/>
        <input id="_KsVioY2CEeKjOIt6xW2jaA" name="Velocity" type="boolean"/>
        <input id="_LCq_AI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoReadIn" type="uint8" size="[10,2]"/>
        <input id="_LCsNII2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamReadIn" type="double" size="10"/>
        <input id="_LCs0MI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoWriteIn" type="uint8" size="[10,2]"/>
        <input id="_LCtbQI2CEeKjOIt6xW2jaA" name="MC_BAT_InfoParamWriteIn" type="double" size="10"/>
      </charts>
    </stateflowMachine>
    <buses id="_KcWl4I2CEeKjOIt6xW2jaA" name="PacketBus">
      <elements name="from" dimensions="1" type="uint8"/>
      <elements name="to" dimensions="1" type="uint8"/>
      <elements name="msg" dimensions="1" type="uint16"/>
      <elements name="param" dimensions="1" type="double"/>
      <elements name="pkgid" dimensions="1" type="uint32"/>
      <elements name="time" dimensions="1" type="double"/>
    </buses>
    <buses id="_KlUUoI2CEeKjOIt6xW2jaA" name="MainBus">
      <elements name="rc1" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <elements name="rc2" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
    </buses>
  </libraries>
  <libraries id="_KmvQ8I2CEeKjOIt6xW2jaA" name="robot1">
    <blocks xsi:type="model:SubSystem" id="_KmxtMI2CEeKjOIt6xW2jaA" name="robot1">
      <parameters name="Position" value="[20, 20, 270, 720]"/>
      <outPorts id="_LwGFsY2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_send" incomingLines="_TkSawY2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[550, 110, 580, 140]"/>
        <inPorts id="_LwH64o2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <inPorts id="_LtA8gI2CEeKjOIt6xW2jaA" name="objectRec1:object_recognition" outgoingLines="_Tj71cI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 970, 130, 1000]"/>
        <outPorts id="_LtCxsI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LtVsoI2CEeKjOIt6xW2jaA" name="isMaster1:isMaster" outgoingLines="_Tj0gsI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 160, 130, 190]"/>
        <outPorts id="_LtYI4I2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LtyYkI2CEeKjOIt6xW2jaA" name="Pos_X:Pos_X" outgoingLines="_Tj5ZMI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 920, 130, 950]"/>
        <outPorts id="_LtzmsI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LuKMAI2CEeKjOIt6xW2jaA" name="Pos_Y:Pos_Y" outgoingLines="_Tj3kAI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 1070, 130, 1100]"/>
        <outPorts id="_LuLaII2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LugKQI2CEeKjOIt6xW2jaA" name="Pos_Z:Pos_Z" outgoingLines="_Tj2V4I2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 1020, 130, 1050]"/>
        <outPorts id="_LugxUI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_Lu7BAI2CEeKjOIt6xW2jaA" name="Time:Time" outgoingLines="_Tj6nUI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 1120, 130, 1150]"/>
        <outPorts id="_Lu82MI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LvS0cI2CEeKjOIt6xW2jaA" name="Velocity:Velocity" outgoingLines="_Tj9qoI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 1170, 130, 1200]"/>
        <outPorts id="_LvUCkI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LwGFsI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_recv" outgoingLines="_TkSawI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[100, 210, 130, 240]"/>
        <outPorts id="_LwH64Y2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LwGswI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_net_address" outgoingLines="_TkTB0I2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[100, 260, 130, 290]"/>
        <outPorts id="_LwH6442CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_LwGswY2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_receiver_net_address" outgoingLines="_TkSawo2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[100, 310, 130, 340]"/>
        <outPorts id="_LwIh8I2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <lines id="_KmyUQY2CEeKjOIt6xW2jaA" sourcePort="_KmziYI2CEeKjOIt6xW2jaA" targetPort="_Km1XkI2CEeKjOIt6xW2jaA" sourceBlock="_KmxtMY2CEeKjOIt6xW2jaA" targetBlock="_KmziYo2CEeKjOIt6xW2jaA" bus="_Km0JcI2CEeKjOIt6xW2jaA"/>
      <lines id="_KmyUQo2CEeKjOIt6xW2jaA" sourcePort="_Km3MwI2CEeKjOIt6xW2jaA" targetPort="_KmziYY2CEeKjOIt6xW2jaA" sourceBlock="_KmziYo2CEeKjOIt6xW2jaA" targetBlock="_KmyUQI2CEeKjOIt6xW2jaA" bus="_Km0JcI2CEeKjOIt6xW2jaA"/>
      <lines id="_KoPFwY2CEeKjOIt6xW2jaA" sourcePort="_KoPs0I2CEeKjOIt6xW2jaA" targetPort="_KkuewI2CEeKjOIt6xW2jaA" sourceBlock="_KoPFwI2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <lines id="_KoSJEY2CEeKjOIt6xW2jaA" sourcePort="_KoSwII2CEeKjOIt6xW2jaA" targetPort="_Kk6E8I2CEeKjOIt6xW2jaA" sourceBlock="_KoSJEI2CEeKjOIt6xW2jaA" targetBlock="_KoRiAI2CEeKjOIt6xW2jaA"/>
      <lines id="_KoVzcI2CEeKjOIt6xW2jaA" sourcePort="_KoVzcY2CEeKjOIt6xW2jaA" targetPort="_KlDO4I2CEeKjOIt6xW2jaA" sourceBlock="_KoVMYY2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_LpUIQI2CEeKjOIt6xW2jaA" sourcePort="_LpUvUI2CEeKjOIt6xW2jaA" targetPort="_K0WPII2CEeKjOIt6xW2jaA" sourceBlock="_LpUIQY2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <lines id="_LpfHYI2CEeKjOIt6xW2jaA" sourcePort="_LpgVgI2CEeKjOIt6xW2jaA" targetPort="_K6X-oY2CEeKjOIt6xW2jaA" sourceBlock="_LpfHYY2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <lines id="_LpqtkI2CEeKjOIt6xW2jaA" sourcePort="_LprUoI2CEeKjOIt6xW2jaA" targetPort="_K-oMgI2CEeKjOIt6xW2jaA" sourceBlock="_LpqtkY2CEeKjOIt6xW2jaA" targetBlock="_KoRiAI2CEeKjOIt6xW2jaA"/>
      <lines id="_Lp3h4I2CEeKjOIt6xW2jaA" sourcePort="_Lp4I8I2CEeKjOIt6xW2jaA" targetPort="_LC3MQI2CEeKjOIt6xW2jaA" sourceBlock="_Lp3h4Y2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_TiXvMY2CEeKjOIt6xW2jaA" sourcePort="_K0Ty4Y2CEeKjOIt6xW2jaA" targetPort="_TiZkYY2CEeKjOIt6xW2jaA" sourceBlock="_KoOesI2CEeKjOIt6xW2jaA" targetBlock="_KmxtMY2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TiXvMI2CEeKjOIt6xW2jaA" sourcePort="_K-mXU42CEeKjOIt6xW2jaA" targetPort="_TiZkYo2CEeKjOIt6xW2jaA" sourceBlock="_KoRiAI2CEeKjOIt6xW2jaA" targetBlock="_KmxtMY2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TiXvM42CEeKjOIt6xW2jaA" sourcePort="_TiYWQY2CEeKjOIt6xW2jaA" targetPort="_K-m-YI2CEeKjOIt6xW2jaA" sourceBlock="_KmyUQI2CEeKjOIt6xW2jaA" targetBlock="_KoRiAI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TiXvMo2CEeKjOIt6xW2jaA" sourcePort="_TiYWQI2CEeKjOIt6xW2jaA" targetPort="_K0UZ8I2CEeKjOIt6xW2jaA" sourceBlock="_KmyUQI2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TiY9UI2CEeKjOIt6xW2jaA" sourcePort="_TicAoI2CEeKjOIt6xW2jaA" targetPort="_K0XdQI2CEeKjOIt6xW2jaA" sourceBlock="_TiYWQo2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <lines id="_TiZkYI2CEeKjOIt6xW2jaA" sourcePort="_TicnsI2CEeKjOIt6xW2jaA" targetPort="_K-ozkI2CEeKjOIt6xW2jaA" sourceBlock="_TiY9UY2CEeKjOIt6xW2jaA" targetBlock="_KoRiAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TigSEY2CEeKjOIt6xW2jaA" sourcePort="_K6WJco2CEeKjOIt6xW2jaA" targetPort="_TihgMY2CEeKjOIt6xW2jaA" sourceBlock="_KoOesI2CEeKjOIt6xW2jaA" targetBlock="_KmxtMY2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TigSEI2CEeKjOIt6xW2jaA" sourcePort="_LC1-II2CEeKjOIt6xW2jaA" targetPort="_TihgMo2CEeKjOIt6xW2jaA" sourceBlock="_KoVMYI2CEeKjOIt6xW2jaA" targetBlock="_KmxtMY2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TigSE42CEeKjOIt6xW2jaA" sourcePort="_TigSFY2CEeKjOIt6xW2jaA" targetPort="_LC1-IY2CEeKjOIt6xW2jaA" sourceBlock="_KmyUQI2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TigSEo2CEeKjOIt6xW2jaA" sourcePort="_TigSFI2CEeKjOIt6xW2jaA" targetPort="_K6WwgI2CEeKjOIt6xW2jaA" sourceBlock="_KmyUQI2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_Tig5II2CEeKjOIt6xW2jaA" sourcePort="_Tij8cI2CEeKjOIt6xW2jaA" targetPort="_K6YlsI2CEeKjOIt6xW2jaA" sourceBlock="_TigSFo2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <lines id="_TihgMI2CEeKjOIt6xW2jaA" sourcePort="_Tij8cY2CEeKjOIt6xW2jaA" targetPort="_LC3zUI2CEeKjOIt6xW2jaA" sourceBlock="_Tig5IY2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tj0gsI2CEeKjOIt6xW2jaA" sourcePort="_LtYI4I2CEeKjOIt6xW2jaA" targetPort="_KrLsEY2CEeKjOIt6xW2jaA" sourceBlock="_LtVsoI2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tj2V4I2CEeKjOIt6xW2jaA" sourcePort="_LugxUI2CEeKjOIt6xW2jaA" targetPort="_KrywEY2CEeKjOIt6xW2jaA" sourceBlock="_LugKQI2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tj3kAI2CEeKjOIt6xW2jaA" sourcePort="_LuLaII2CEeKjOIt6xW2jaA" targetPort="_Kr8hEI2CEeKjOIt6xW2jaA" sourceBlock="_LuKMAI2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tj5ZMI2CEeKjOIt6xW2jaA" sourcePort="_LtzmsI2CEeKjOIt6xW2jaA" targetPort="_KrX5UY2CEeKjOIt6xW2jaA" sourceBlock="_LtyYkI2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tj6nUI2CEeKjOIt6xW2jaA" sourcePort="_Lu82MI2CEeKjOIt6xW2jaA" targetPort="_KsHgMI2CEeKjOIt6xW2jaA" sourceBlock="_Lu7BAI2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tj71cI2CEeKjOIt6xW2jaA" sourcePort="_LtCxsI2CEeKjOIt6xW2jaA" targetPort="_Krmi0Y2CEeKjOIt6xW2jaA" sourceBlock="_LtA8gI2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tj9qoI2CEeKjOIt6xW2jaA" sourcePort="_LvUCkI2CEeKjOIt6xW2jaA" targetPort="_KsTtcI2CEeKjOIt6xW2jaA" sourceBlock="_LvS0cI2CEeKjOIt6xW2jaA" targetBlock="_KoVMYI2CEeKjOIt6xW2jaA"/>
      <lines id="_TkSawI2CEeKjOIt6xW2jaA" sourcePort="_LwH64Y2CEeKjOIt6xW2jaA" targetPort="_KueQoI2CEeKjOIt6xW2jaA" sourceBlock="_LwGFsI2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TkSawY2CEeKjOIt6xW2jaA" sourcePort="_KudplI2CEeKjOIt6xW2jaA" targetPort="_LwH64o2CEeKjOIt6xW2jaA" sourceBlock="_KoOesI2CEeKjOIt6xW2jaA" targetBlock="_LwGFsY2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TkSawo2CEeKjOIt6xW2jaA" sourcePort="_LwIh8I2CEeKjOIt6xW2jaA" targetPort="_KugF0I2CEeKjOIt6xW2jaA" sourceBlock="_LwGswY2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <lines id="_TkTB0I2CEeKjOIt6xW2jaA" sourcePort="_LwH6442CEeKjOIt6xW2jaA" targetPort="_KufewI2CEeKjOIt6xW2jaA" sourceBlock="_LwGswI2CEeKjOIt6xW2jaA" targetBlock="_KoOesI2CEeKjOIt6xW2jaA"/>
      <blocks xsi:type="model:BusCreator" id="_KmxtMY2CEeKjOIt6xW2jaA" incomingLines="_TiXvMY2CEeKjOIt6xW2jaA _TiXvMI2CEeKjOIt6xW2jaA _TigSEY2CEeKjOIt6xW2jaA _TigSEI2CEeKjOIt6xW2jaA" outgoingLines="_KmyUQY2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[900, 500, 920, 620]"/>
        <outPorts id="_KmziYI2CEeKjOIt6xW2jaA"/>
        <inPorts id="_TiZkYY2CEeKjOIt6xW2jaA"/>
        <inPorts id="_TiZkYo2CEeKjOIt6xW2jaA"/>
        <inPorts id="_TihgMY2CEeKjOIt6xW2jaA"/>
        <inPorts id="_TihgMo2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:BusSelector" id="_KmyUQI2CEeKjOIt6xW2jaA" incomingLines="_KmyUQo2CEeKjOIt6xW2jaA" outgoingLines="_TiXvM42CEeKjOIt6xW2jaA _TiXvMo2CEeKjOIt6xW2jaA _TigSE42CEeKjOIt6xW2jaA _TigSEo2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[1160, 500, 1180, 620]"/>
        <outPorts id="_TiYWQI2CEeKjOIt6xW2jaA"/>
        <outPorts id="_TiYWQY2CEeKjOIt6xW2jaA"/>
        <outPorts id="_TigSFI2CEeKjOIt6xW2jaA"/>
        <outPorts id="_TigSFY2CEeKjOIt6xW2jaA"/>
        <inPorts id="_KmziYY2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:SubSystem" id="_KmziYo2CEeKjOIt6xW2jaA" name="communicationSwitch" incomingLines="_KmyUQY2CEeKjOIt6xW2jaA" outgoingLines="_KmyUQo2CEeKjOIt6xW2jaA">
        <parameters name="System.Location" value="[559, 228, 1057, 528]"/>
        <parameters name="System.ModelBrowserWidth" value="200"/>
        <parameters name="Position" value="[980, 500, 1080, 620]"/>
        <outPorts id="_Km3MwI2CEeKjOIt6xW2jaA" name="Out" incomingLines="_Km6QEY2CEeKjOIt6xW2jaA" dimensions="-1" type="Bus">
          <parameters name="Position" value="[425, 118, 455, 132]"/>
          <inPorts id="_Km7eMI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_Km1XkI2CEeKjOIt6xW2jaA" name="In" outgoingLines="_Km6QEI2CEeKjOIt6xW2jaA" dimensions="-1" type="Bus">
          <parameters name="Position" value="[100, 118, 130, 132]"/>
          <outPorts id="_Km63IY2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <lines id="_Km6QEI2CEeKjOIt6xW2jaA" sourcePort="_Km63IY2CEeKjOIt6xW2jaA" targetPort="_Km96cI2CEeKjOIt6xW2jaA" sourceBlock="_Km1XkI2CEeKjOIt6xW2jaA" targetBlock="_Km4a4Y2CEeKjOIt6xW2jaA" bus="_Km0JcI2CEeKjOIt6xW2jaA"/>
        <lines id="_Km6QEY2CEeKjOIt6xW2jaA" sourcePort="_Km8sUI2CEeKjOIt6xW2jaA" targetPort="_Km7eMI2CEeKjOIt6xW2jaA" sourceBlock="_Km4a4I2CEeKjOIt6xW2jaA" targetBlock="_Km3MwI2CEeKjOIt6xW2jaA" bus="_Km0JcI2CEeKjOIt6xW2jaA"/>
        <lines id="_Km63II2CEeKjOIt6xW2jaA" sourcePort="_Km9TYI2CEeKjOIt6xW2jaA" targetPort="_Km8sUY2CEeKjOIt6xW2jaA" sourceBlock="_Km4a4Y2CEeKjOIt6xW2jaA" targetBlock="_Km4a4I2CEeKjOIt6xW2jaA" bus="_Km0JcI2CEeKjOIt6xW2jaA"/>
        <blocks xsi:type="model:UnitDelay" id="_Km4a4I2CEeKjOIt6xW2jaA" name="Unit Delay" incomingLines="_Km63II2CEeKjOIt6xW2jaA" outgoingLines="_Km6QEY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[350, 108, 385, 142]"/>
          <outPorts id="_Km8sUI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_Km8sUY2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_Km4a4Y2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_Km6QEI2CEeKjOIt6xW2jaA" outgoingLines="_Km63II2CEeKjOIt6xW2jaA" code="function outBus = BusImpl(inBus)&#xA;%#eml&#xA;eml.extrinsic('fieldnames','disp','setfield','fprintf');&#xA;&#xA;busSize = 1;&#xA;queueSize = 10*busSize; %length of queue&#xA;numShuttles = 0; %Define data type&#xA;numShuttles = numel(fieldnames(inBus)); %Shuttles connected to the bus&#xA;assert(numShuttles &lt;= 20) %Defines an upper bound for number of shuttles. &#xA;%Important for static memory allocation. &#xA;lookupTableSize = 200;&#xA;&#xA;&#xA;&#xA;NOT_ASSIGNED = -1;&#xA;&#xA;%We need persistent queues&#xA;persistent queue;&#xA;persistent lookupTable;&#xA;&#xA;%Initialize the queues&#xA;if isempty(queue)&#xA;    queue = repmat(emptyPacket(), numShuttles, queueSize);&#xA;end&#xA;&#xA;if isempty(lookupTable)&#xA;    lookupTable = repmat(NOT_ASSIGNED, lookupTableSize,1);&#xA;end&#xA;&#xA;%Clean outbus&#xA;outBus = inBus;&#xA;for i = 1:numShuttles&#xA;    outBus = setfield(outBus, createRailCabName(i), emptyBus(busSize));&#xA;end&#xA;&#xA;%Retrieve packets&#xA;for i = 1:numShuttles&#xA;    %Get current bus&#xA;    currentBus = getBusFromIndex(inBus, busSize, i);&#xA;    for j = 1:busSize&#xA;        %Read packet&#xA;        packet = getPacketFromBus(currentBus, j);&#xA;        &#xA;        %Check if new packet&#xA;        if isValid(packet, numShuttles)&#xA;             %Save sender bus element to lookup table&#xA;            if lookupTable(packet.from) == NOT_ASSIGNED&#xA;                lookupTable(packet.from) = i;&#xA;            end&#xA;            &#xA;            %Save packet in queue&#xA;            target = lookupTable(packet.to);&#xA;            %Destination unkown. Send to all unassigned.&#xA;            if target == NOT_ASSIGNED&#xA;                for k = 1:numShuttles&#xA;                    if(lookupTable(packet.from) ~= k)&#xA;                        queue(k,:) = enqueue(queue(k,:), packet); &#xA;                    end&#xA;                end                &#xA;            %Destination known&#xA;            else &#xA;                queue(target,:) = enqueue(queue(target,:), packet);&#xA;            end            &#xA;        end&#xA;    end&#xA;&#xA;end&#xA;&#xA;%Send packet from queue&#xA;for i = 1:numShuttles    &#xA;    currentBus = getBusFromIndex(outBus, busSize, i);&#xA;    for j = 1:busSize&#xA;        if ~isEmpty(queue(i,:))&#xA;            &#xA;            &#xA;            %Read last packet&#xA;            packet = front(queue(i,:));&#xA;            queue(i,:) = dequeue(queue(i,:)); &#xA;            &#xA;%            if packet.msg ~= 255 %No ACK&#xA;%                fprintf('Sending on port %u[%u/%u]: %s', i, j, busSize, toString(packet));&#xA;%            end            &#xA;            &#xA;            %Save packet to bus&#xA;            currentBus = setPacketToBus(currentBus, j, packet);&#xA;            &#xA;        else&#xA;            break;&#xA;        end&#xA;    end &#xA;    %Save bus&#xA;    outBus = setBusToIndex(outBus, i, currentBus);&#xA;end&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% BUS&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function name = createRailCabName(index) %#eml&#xA;%Create name for the railcab used on the bus&#xA;eml.extrinsic('sprintf');&#xA;name = sprintf('rc%d', index);&#xA;&#xA;function bus = getBusFromIndex(inBus, busSize, index) %eml&#xA;%Retrieve a PacketBus from the RailCaBbus&#xA;eml.extrinsic('getfield');&#xA;busName = createRailCabName(index);&#xA;bus = emptyBus(busSize);&#xA;bus = getfield(inBus, busName);&#xA;&#xA;function rcBus = setBusToIndex(rcBus, index, packetBus) %eml&#xA;%Save a PacketBus to RailCabBus&#xA;eml.extrinsic('setfield');&#xA;busName = createRailCabName(index);&#xA;rcBus = setfield(rcBus, busName, packetBus);&#xA;&#xA;function packet = getPacketFromBus(packetBus, index) %eml&#xA;%Retrieve a packet from the bus&#xA;packet = emptyPacket();&#xA;packet.from = packetBus.from(index);&#xA;packet.to = packetBus.to(index);&#xA;packet.msg = packetBus.msg(index);&#xA;packet.param = packetBus.param (index);&#xA;packet.pkgid = packetBus.pkgid(index);&#xA;packet.time = packetBus.time(index);&#xA;&#xA;function packetBus = setPacketToBus(packetBus, index, packet) %eml&#xA;%Save a packet to the bus&#xA;packetBus.from(index) = packet.from;&#xA;packetBus.to(index) = packet.to;&#xA;packetBus.msg(index) = packet.msg;&#xA;packetBus.param (index) = packet.param;&#xA;packetBus.pkgid(index) = packet.pkgid;&#xA;packetBus.time(index) = packet.time;&#xA;&#xA;function bus = emptyBus(size) %emp&#xA;%Create an empty bus&#xA;bus = struct('from', zeros(size,1,'uint8'),'to', zeros(size,1,'uint8'),'msg', zeros(size,1,'uint16'),'param', zeros(size,1,'double'),'pkgid', zeros(size,1,'uint32'), 'time', zeros(size,1,'double'));&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% PACKET&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;function packet = emptyPacket() %#eml&#xA;%Creates an empty packet&#xA;packet = struct('from', uint8(0),'to', uint8(0),'msg', uint16(0),'param', double(0.0),'pkgid', uint32(0), 'time', double(0));&#xA;&#xA;function valid = isValid(packet, numShuttles) %#eml&#xA;%Checks wether the given packet is valid and transported by the bus&#xA;eml.extrinsic('getfield');&#xA;valid = false;&#xA;if packet.to > 0 &amp;&amp; packet.to &lt;= numShuttles &#xA;    if packet.from > 0 &amp;&amp; packet.from &lt;= numShuttles&#xA;        valid = true;&#xA;    end&#xA;end&#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% QUEUE&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function queue = enqueue(queue, packet) %#eml&#xA;%Insert the packet at the end of the queue&#xA;eml.extrinsic('warning');&#xA;for i=1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;%No empty entry found&#xA;warning('RailCab:Bus','Bus: buffer overflow for outgoing queue to %d', queue(1).to);&#xA;&#xA;function queue = dequeue(queue) %#eml&#xA;%Removes the first packet of the queue&#xA;for i = 1:length(queue)-1&#xA;    queue(i) = queue(i+1);&#xA;    if queue(i).to == 0&#xA;        %end reached&#xA;        return;&#xA;    end&#xA;end&#xA;queue(length(queue)) = emptyPacket();&#xA;&#xA;function packet = front(queue) %#eml&#xA;%Returns the first element from the queue&#xA;packet = queue(1);&#xA;&#xA;function empty = isEmpty(queue) %#eml&#xA;%Checks whether the queue is empty or not&#xA;packet = queue(1);&#xA;if packet.to == 0&#xA;    empty = true;&#xA;else&#xA;    empty = false;&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="System.ModelBrowserWidth" value="200"/>
          <parameters name="Position" value="[200, 89, 310, 161]"/>
          <outPorts id="_Km9TYI2CEeKjOIt6xW2jaA" name="outBus" dimensions="-1" type="Bus">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_Km_voI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_Km96cI2CEeKjOIt6xW2jaA" name="inBus" dimensions="-1" type="Bus">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_KnAWsI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
      </blocks>
      <blocks xsi:type="model:LibraryReference" id="_KoOesI2CEeKjOIt6xW2jaA" name="mc1" incomingLines="_KoPFwY2CEeKjOIt6xW2jaA _LpUIQI2CEeKjOIt6xW2jaA _LpfHYI2CEeKjOIt6xW2jaA _TiXvMo2CEeKjOIt6xW2jaA _TiY9UI2CEeKjOIt6xW2jaA _TigSEo2CEeKjOIt6xW2jaA _Tig5II2CEeKjOIt6xW2jaA _Tj0gsI2CEeKjOIt6xW2jaA _TkSawI2CEeKjOIt6xW2jaA _TkSawo2CEeKjOIt6xW2jaA _TkTB0I2CEeKjOIt6xW2jaA" outgoingLines="_TiXvMY2CEeKjOIt6xW2jaA _TigSEY2CEeKjOIt6xW2jaA _TkSawY2CEeKjOIt6xW2jaA" sourceBlock="_KkspkI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[200, 100, 450, 800]"/>
      </blocks>
      <blocks xsi:type="model:DigitalClock" id="_KoPFwI2CEeKjOIt6xW2jaA" outgoingLines="_KoPFwY2CEeKjOIt6xW2jaA" sampleTime="0.0010">
        <parameters name="Position" value="[100, 110, 130, 140]"/>
        <outPorts id="_KoPs0I2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:LibraryReference" id="_KoRiAI2CEeKjOIt6xW2jaA" name="sc1" incomingLines="_KoSJEY2CEeKjOIt6xW2jaA _LpqtkI2CEeKjOIt6xW2jaA _TiXvM42CEeKjOIt6xW2jaA _TiZkYI2CEeKjOIt6xW2jaA" outgoingLines="_TiXvMI2CEeKjOIt6xW2jaA" sourceBlock="_Kk4PwI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[1500, 100, 1750, 800]"/>
      </blocks>
      <blocks xsi:type="model:DigitalClock" id="_KoSJEI2CEeKjOIt6xW2jaA" outgoingLines="_KoSJEY2CEeKjOIt6xW2jaA" sampleTime="0.0010">
        <parameters name="Position" value="[1400, 110, 1430, 140]"/>
        <outPorts id="_KoSwII2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:LibraryReference" id="_KoVMYI2CEeKjOIt6xW2jaA" name="sp1" incomingLines="_KoVzcI2CEeKjOIt6xW2jaA _Lp3h4I2CEeKjOIt6xW2jaA _TigSE42CEeKjOIt6xW2jaA _TihgMI2CEeKjOIt6xW2jaA _Tj2V4I2CEeKjOIt6xW2jaA _Tj3kAI2CEeKjOIt6xW2jaA _Tj5ZMI2CEeKjOIt6xW2jaA _Tj6nUI2CEeKjOIt6xW2jaA _Tj71cI2CEeKjOIt6xW2jaA _Tj9qoI2CEeKjOIt6xW2jaA" outgoingLines="_TigSEI2CEeKjOIt6xW2jaA" sourceBlock="_KlBZsI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[200, 860, 450, 1560]"/>
      </blocks>
      <blocks xsi:type="model:DigitalClock" id="_KoVMYY2CEeKjOIt6xW2jaA" outgoingLines="_KoVzcI2CEeKjOIt6xW2jaA" sampleTime="0.0010">
        <parameters name="Position" value="[100, 870, 130, 900]"/>
        <outPorts id="_KoVzcY2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_LpUIQY2CEeKjOIt6xW2jaA" name="mc1_BAT_Info_ToSC_net_address" outgoingLines="_LpUIQI2CEeKjOIt6xW2jaA" value="2" type="uint8">
        <parameters name="Position" value="[100, 360, 130, 390]"/>
        <outPorts id="_LpUvUI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_LpfHYY2CEeKjOIt6xW2jaA" name="mc1_BAT_Info_ToSP_net_address" outgoingLines="_LpfHYI2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[100, 460, 130, 490]"/>
        <outPorts id="_LpgVgI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_LpqtkY2CEeKjOIt6xW2jaA" name="sc1_BAT_Info_net_address" outgoingLines="_LpqtkI2CEeKjOIt6xW2jaA" value="3" type="uint8">
        <parameters name="Position" value="[1400, 160, 1430, 190]"/>
        <outPorts id="_LprUoI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_Lp3h4Y2CEeKjOIt6xW2jaA" name="sp1_BAT_Info_net_address" outgoingLines="_Lp3h4I2CEeKjOIt6xW2jaA" value="4" type="uint8">
        <parameters name="Position" value="[100, 1220, 130, 1250]"/>
        <outPorts id="_Lp4I8I2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_TiYWQo2CEeKjOIt6xW2jaA" name="mc1_BAT_Info_ToSC_receiver_net_address" outgoingLines="_TiY9UI2CEeKjOIt6xW2jaA" value="3" type="uint8">
        <parameters name="Position" value="[100, 410, 130, 440]"/>
        <outPorts id="_TicAoI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_TiY9UY2CEeKjOIt6xW2jaA" name="sc1_BAT_Info_receiver_net_address" outgoingLines="_TiZkYI2CEeKjOIt6xW2jaA" value="2" type="uint8">
        <parameters name="Position" value="[1400, 210, 1430, 240]"/>
        <outPorts id="_TicnsI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_TigSFo2CEeKjOIt6xW2jaA" name="mc1_BAT_Info_ToSP_receiver_net_address" outgoingLines="_Tig5II2CEeKjOIt6xW2jaA" value="4" type="uint8">
        <parameters name="Position" value="[100, 510, 130, 540]"/>
        <outPorts id="_Tij8cI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_Tig5IY2CEeKjOIt6xW2jaA" name="sp1_BAT_Info_receiver_net_address" outgoingLines="_TihgMI2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[100, 1270, 130, 1300]"/>
        <outPorts id="_Tij8cY2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
    </blocks>
    <buses id="_Km0JcI2CEeKjOIt6xW2jaA" name="robot1_Bus">
      <elements name="rc1" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <elements name="rc2" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <elements name="rc3" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <elements name="rc4" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
    </buses>
  </libraries>
  <libraries id="_KnHEYI2CEeKjOIt6xW2jaA" name="robot2">
    <blocks xsi:type="model:SubSystem" id="_KnI5kI2CEeKjOIt6xW2jaA" name="robot2">
      <parameters name="Position" value="[20, 20, 270, 720]"/>
      <outPorts id="_LwRE0I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_send" incomingLines="_TlTucY2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[550, 110, 580, 140]"/>
        <inPorts id="_LwS6Ao2CEeKjOIt6xW2jaA"/>
      </outPorts>
      <inPorts id="_LtJfYI2CEeKjOIt6xW2jaA" name="objectRec2:object_recognition" outgoingLines="_TjnsYI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[1400, 210, 1430, 240]"/>
        <outPorts id="_LtL7oI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LtpOoI2CEeKjOIt6xW2jaA" name="isMaster2:isMaster" outgoingLines="_TjJLQI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[100, 160, 130, 190]"/>
        <outPorts id="_LtqcwI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_Lt-l0I2CEeKjOIt6xW2jaA" name="Pos_X:Pos_X" outgoingLines="_TjVYgI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[1400, 160, 1430, 190]"/>
        <outPorts id="_LuBCEI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LuVyMI2CEeKjOIt6xW2jaA" name="Pos_Y:Pos_Y" outgoingLines="_TjbfII2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[1400, 310, 1430, 340]"/>
        <outPorts id="_LuXAUI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LurJYI2CEeKjOIt6xW2jaA" name="Pos_Z:Pos_Z" outgoingLines="_TjhlwI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[1400, 260, 1430, 290]"/>
        <outPorts id="_LusXgI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LvHOQI2CEeKjOIt6xW2jaA" name="Time:Time" outgoingLines="_TjQgAI2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[1400, 360, 1430, 390]"/>
        <outPorts id="_LvIcYI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LvdMgI2CEeKjOIt6xW2jaA" name="Velocity:Velocity" outgoingLines="_TjvBII2CEeKjOIt6xW2jaA" type="boolean">
        <parameters name="Position" value="[1400, 410, 1430, 440]"/>
        <outPorts id="_LveaoI2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LwQdwI2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_recv" outgoingLines="_TlTucI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[100, 210, 130, 240]"/>
        <outPorts id="_LwS6AY2CEeKjOIt6xW2jaA"/>
      </inPorts>
      <inPorts id="_LwRr4I2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_net_address" outgoingLines="_TlTuc42CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[100, 260, 130, 290]"/>
        <outPorts id="_LwThEI2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <inPorts id="_LwRr4Y2CEeKjOIt6xW2jaA" name="BAT_Information_Other_Robot_receiver_net_address" outgoingLines="_TlTuco2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[100, 310, 130, 340]"/>
        <outPorts id="_LwThEY2CEeKjOIt6xW2jaA" type="uint8"/>
      </inPorts>
      <lines id="_KnKHsI2CEeKjOIt6xW2jaA" sourcePort="_KnLV0I2CEeKjOIt6xW2jaA" targetPort="_KnMj8I2CEeKjOIt6xW2jaA" sourceBlock="_KnJgoI2CEeKjOIt6xW2jaA" targetBlock="_KnLV0o2CEeKjOIt6xW2jaA" bus="_KnLV042CEeKjOIt6xW2jaA"/>
      <lines id="_KnKHsY2CEeKjOIt6xW2jaA" sourcePort="_KnNyEI2CEeKjOIt6xW2jaA" targetPort="_KnLV0Y2CEeKjOIt6xW2jaA" sourceBlock="_KnLV0o2CEeKjOIt6xW2jaA" targetBlock="_KnJgoY2CEeKjOIt6xW2jaA" bus="_KnLV042CEeKjOIt6xW2jaA"/>
      <lines id="_KoY2wI2CEeKjOIt6xW2jaA" sourcePort="_KoY2wY2CEeKjOIt6xW2jaA" targetPort="_KkuewI2CEeKjOIt6xW2jaA" sourceBlock="_KoYPsY2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <lines id="_Kob6EI2CEeKjOIt6xW2jaA" sourcePort="_Kob6EY2CEeKjOIt6xW2jaA" targetPort="_KlDO4I2CEeKjOIt6xW2jaA" sourceBlock="_KobTAY2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_KoeWUY2CEeKjOIt6xW2jaA" sourcePort="_KoeWUo2CEeKjOIt6xW2jaA" targetPort="_Kk6E8I2CEeKjOIt6xW2jaA" sourceBlock="_KoeWUI2CEeKjOIt6xW2jaA" targetBlock="_KodvQI2CEeKjOIt6xW2jaA"/>
      <lines id="_LpZn0I2CEeKjOIt6xW2jaA" sourcePort="_LpaO4I2CEeKjOIt6xW2jaA" targetPort="_K0WPII2CEeKjOIt6xW2jaA" sourceBlock="_LpZn0Y2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <lines id="_Lpkm8I2CEeKjOIt6xW2jaA" sourcePort="_LplOAI2CEeKjOIt6xW2jaA" targetPort="_K6X-oY2CEeKjOIt6xW2jaA" sourceBlock="_Lpkm8Y2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <lines id="_LpvmEI2CEeKjOIt6xW2jaA" sourcePort="_LpwNII2CEeKjOIt6xW2jaA" targetPort="_K-oMgI2CEeKjOIt6xW2jaA" sourceBlock="_LpvmEY2CEeKjOIt6xW2jaA" targetBlock="_KodvQI2CEeKjOIt6xW2jaA"/>
      <lines id="_Lp9ogI2CEeKjOIt6xW2jaA" sourcePort="_Lp-PkI2CEeKjOIt6xW2jaA" targetPort="_LC3MQI2CEeKjOIt6xW2jaA" sourceBlock="_Lp9ogY2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TiwwwI2CEeKjOIt6xW2jaA" sourcePort="_K6WJco2CEeKjOIt6xW2jaA" targetPort="_Tix-4Y2CEeKjOIt6xW2jaA" sourceBlock="_KoYPsI2CEeKjOIt6xW2jaA" targetBlock="_KnJgoI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TiwJsI2CEeKjOIt6xW2jaA" sourcePort="_LC1-II2CEeKjOIt6xW2jaA" targetPort="_Tiyl8I2CEeKjOIt6xW2jaA" sourceBlock="_KobTAI2CEeKjOIt6xW2jaA" targetBlock="_KnJgoI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_Tiwwwo2CEeKjOIt6xW2jaA" sourcePort="_TiwwxI2CEeKjOIt6xW2jaA" targetPort="_LC1-IY2CEeKjOIt6xW2jaA" sourceBlock="_KnJgoY2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TiwwwY2CEeKjOIt6xW2jaA" sourcePort="_Tiwww42CEeKjOIt6xW2jaA" targetPort="_K6WwgI2CEeKjOIt6xW2jaA" sourceBlock="_KnJgoY2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TixX0I2CEeKjOIt6xW2jaA" sourcePort="_Ti0bII2CEeKjOIt6xW2jaA" targetPort="_K6YlsI2CEeKjOIt6xW2jaA" sourceBlock="_TiwwxY2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <lines id="_Tix-4I2CEeKjOIt6xW2jaA" sourcePort="_Ti1CMI2CEeKjOIt6xW2jaA" targetPort="_LC3zUI2CEeKjOIt6xW2jaA" sourceBlock="_TixX0Y2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_Ti4FgY2CEeKjOIt6xW2jaA" sourcePort="_K0Ty4Y2CEeKjOIt6xW2jaA" targetPort="_Ti56sY2CEeKjOIt6xW2jaA" sourceBlock="_KoYPsI2CEeKjOIt6xW2jaA" targetBlock="_KnJgoI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_Ti4FgI2CEeKjOIt6xW2jaA" sourcePort="_K-mXU42CEeKjOIt6xW2jaA" targetPort="_Ti56so2CEeKjOIt6xW2jaA" sourceBlock="_KodvQI2CEeKjOIt6xW2jaA" targetBlock="_KnJgoI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_Ti4Fg42CEeKjOIt6xW2jaA" sourcePort="_Ti4FhY2CEeKjOIt6xW2jaA" targetPort="_K-m-YI2CEeKjOIt6xW2jaA" sourceBlock="_KnJgoY2CEeKjOIt6xW2jaA" targetBlock="_KodvQI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_Ti4Fgo2CEeKjOIt6xW2jaA" sourcePort="_Ti4FhI2CEeKjOIt6xW2jaA" targetPort="_K0UZ8I2CEeKjOIt6xW2jaA" sourceBlock="_KnJgoY2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_Ti5ToI2CEeKjOIt6xW2jaA" sourcePort="_Ti8W8I2CEeKjOIt6xW2jaA" targetPort="_K0XdQI2CEeKjOIt6xW2jaA" sourceBlock="_Ti4skI2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <lines id="_Ti56sI2CEeKjOIt6xW2jaA" sourcePort="_Ti8W8Y2CEeKjOIt6xW2jaA" targetPort="_K-ozkI2CEeKjOIt6xW2jaA" sourceBlock="_Ti5ToY2CEeKjOIt6xW2jaA" targetBlock="_KodvQI2CEeKjOIt6xW2jaA"/>
      <lines id="_TjJLQI2CEeKjOIt6xW2jaA" sourcePort="_LtqcwI2CEeKjOIt6xW2jaA" targetPort="_KrLsEY2CEeKjOIt6xW2jaA" sourceBlock="_LtpOoI2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <lines id="_TjQgAI2CEeKjOIt6xW2jaA" sourcePort="_LvIcYI2CEeKjOIt6xW2jaA" targetPort="_KsHgMI2CEeKjOIt6xW2jaA" sourceBlock="_LvHOQI2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TjVYgI2CEeKjOIt6xW2jaA" sourcePort="_LuBCEI2CEeKjOIt6xW2jaA" targetPort="_KrX5UY2CEeKjOIt6xW2jaA" sourceBlock="_Lt-l0I2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TjbfII2CEeKjOIt6xW2jaA" sourcePort="_LuXAUI2CEeKjOIt6xW2jaA" targetPort="_Kr8hEI2CEeKjOIt6xW2jaA" sourceBlock="_LuVyMI2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TjhlwI2CEeKjOIt6xW2jaA" sourcePort="_LusXgI2CEeKjOIt6xW2jaA" targetPort="_KrywEY2CEeKjOIt6xW2jaA" sourceBlock="_LurJYI2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TjnsYI2CEeKjOIt6xW2jaA" sourcePort="_LtL7oI2CEeKjOIt6xW2jaA" targetPort="_Krmi0Y2CEeKjOIt6xW2jaA" sourceBlock="_LtJfYI2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TjvBII2CEeKjOIt6xW2jaA" sourcePort="_LveaoI2CEeKjOIt6xW2jaA" targetPort="_KsTtcI2CEeKjOIt6xW2jaA" sourceBlock="_LvdMgI2CEeKjOIt6xW2jaA" targetBlock="_KobTAI2CEeKjOIt6xW2jaA"/>
      <lines id="_TlTucI2CEeKjOIt6xW2jaA" sourcePort="_LwS6AY2CEeKjOIt6xW2jaA" targetPort="_KueQoI2CEeKjOIt6xW2jaA" sourceBlock="_LwQdwI2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TlTucY2CEeKjOIt6xW2jaA" sourcePort="_KudplI2CEeKjOIt6xW2jaA" targetPort="_LwS6Ao2CEeKjOIt6xW2jaA" sourceBlock="_KoYPsI2CEeKjOIt6xW2jaA" targetBlock="_LwRE0I2CEeKjOIt6xW2jaA" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <lines id="_TlTuco2CEeKjOIt6xW2jaA" sourcePort="_LwThEY2CEeKjOIt6xW2jaA" targetPort="_KugF0I2CEeKjOIt6xW2jaA" sourceBlock="_LwRr4Y2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <lines id="_TlTuc42CEeKjOIt6xW2jaA" sourcePort="_LwThEI2CEeKjOIt6xW2jaA" targetPort="_KufewI2CEeKjOIt6xW2jaA" sourceBlock="_LwRr4I2CEeKjOIt6xW2jaA" targetBlock="_KoYPsI2CEeKjOIt6xW2jaA"/>
      <blocks xsi:type="model:BusCreator" id="_KnJgoI2CEeKjOIt6xW2jaA" incomingLines="_TiwwwI2CEeKjOIt6xW2jaA _TiwJsI2CEeKjOIt6xW2jaA _Ti4FgY2CEeKjOIt6xW2jaA _Ti4FgI2CEeKjOIt6xW2jaA" outgoingLines="_KnKHsI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[900, 500, 920, 620]"/>
        <outPorts id="_KnLV0I2CEeKjOIt6xW2jaA"/>
        <inPorts id="_Tix-4Y2CEeKjOIt6xW2jaA"/>
        <inPorts id="_Tiyl8I2CEeKjOIt6xW2jaA"/>
        <inPorts id="_Ti56sY2CEeKjOIt6xW2jaA"/>
        <inPorts id="_Ti56so2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:BusSelector" id="_KnJgoY2CEeKjOIt6xW2jaA" incomingLines="_KnKHsY2CEeKjOIt6xW2jaA" outgoingLines="_Tiwwwo2CEeKjOIt6xW2jaA _TiwwwY2CEeKjOIt6xW2jaA _Ti4Fg42CEeKjOIt6xW2jaA _Ti4Fgo2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[1160, 500, 1180, 620]"/>
        <outPorts id="_Tiwww42CEeKjOIt6xW2jaA"/>
        <outPorts id="_TiwwxI2CEeKjOIt6xW2jaA"/>
        <outPorts id="_Ti4FhI2CEeKjOIt6xW2jaA"/>
        <outPorts id="_Ti4FhY2CEeKjOIt6xW2jaA"/>
        <inPorts id="_KnLV0Y2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:SubSystem" id="_KnLV0o2CEeKjOIt6xW2jaA" name="communicationSwitch" incomingLines="_KnKHsI2CEeKjOIt6xW2jaA" outgoingLines="_KnKHsY2CEeKjOIt6xW2jaA">
        <parameters name="System.Location" value="[559, 228, 1057, 528]"/>
        <parameters name="System.ModelBrowserWidth" value="200"/>
        <parameters name="Position" value="[980, 500, 1080, 620]"/>
        <outPorts id="_KnNyEI2CEeKjOIt6xW2jaA" name="Out" incomingLines="_KnPnQY2CEeKjOIt6xW2jaA" dimensions="-1" type="Bus">
          <parameters name="Position" value="[425, 118, 455, 132]"/>
          <inPorts id="_KnQ1YI2CEeKjOIt6xW2jaA" name="In1"/>
        </outPorts>
        <inPorts id="_KnMj8I2CEeKjOIt6xW2jaA" name="In" outgoingLines="_KnPnQI2CEeKjOIt6xW2jaA" dimensions="-1" type="Bus">
          <parameters name="Position" value="[100, 118, 130, 132]"/>
          <outPorts id="_KnQOUI2CEeKjOIt6xW2jaA" name="Out1"/>
        </inPorts>
        <lines id="_KnPnQI2CEeKjOIt6xW2jaA" sourcePort="_KnQOUI2CEeKjOIt6xW2jaA" targetPort="_KnSqkI2CEeKjOIt6xW2jaA" sourceBlock="_KnMj8I2CEeKjOIt6xW2jaA" targetBlock="_KnOZII2CEeKjOIt6xW2jaA" bus="_KnLV042CEeKjOIt6xW2jaA"/>
        <lines id="_KnPnQY2CEeKjOIt6xW2jaA" sourcePort="_KnRccI2CEeKjOIt6xW2jaA" targetPort="_KnQ1YI2CEeKjOIt6xW2jaA" sourceBlock="_KnNyEY2CEeKjOIt6xW2jaA" targetBlock="_KnNyEI2CEeKjOIt6xW2jaA" bus="_KnLV042CEeKjOIt6xW2jaA"/>
        <lines id="_KnPnQo2CEeKjOIt6xW2jaA" sourcePort="_KnSDgI2CEeKjOIt6xW2jaA" targetPort="_KnRccY2CEeKjOIt6xW2jaA" sourceBlock="_KnOZII2CEeKjOIt6xW2jaA" targetBlock="_KnNyEY2CEeKjOIt6xW2jaA" bus="_KnLV042CEeKjOIt6xW2jaA"/>
        <blocks xsi:type="model:UnitDelay" id="_KnNyEY2CEeKjOIt6xW2jaA" name="Unit Delay" incomingLines="_KnPnQo2CEeKjOIt6xW2jaA" outgoingLines="_KnPnQY2CEeKjOIt6xW2jaA">
          <parameters name="Position" value="[350, 108, 385, 142]"/>
          <outPorts id="_KnRccI2CEeKjOIt6xW2jaA"/>
          <inPorts id="_KnRccY2CEeKjOIt6xW2jaA"/>
        </blocks>
        <blocks xsi:type="model:EmbeddedMatlabFunction" id="_KnOZII2CEeKjOIt6xW2jaA" name="Embedded\nMATLAB Function" incomingLines="_KnPnQI2CEeKjOIt6xW2jaA" outgoingLines="_KnPnQo2CEeKjOIt6xW2jaA" code="function outBus = BusImpl(inBus)&#xA;%#eml&#xA;eml.extrinsic('fieldnames','disp','setfield','fprintf');&#xA;&#xA;busSize = 1;&#xA;queueSize = 10*busSize; %length of queue&#xA;numShuttles = 0; %Define data type&#xA;numShuttles = numel(fieldnames(inBus)); %Shuttles connected to the bus&#xA;assert(numShuttles &lt;= 20) %Defines an upper bound for number of shuttles. &#xA;%Important for static memory allocation. &#xA;lookupTableSize = 200;&#xA;&#xA;&#xA;&#xA;NOT_ASSIGNED = -1;&#xA;&#xA;%We need persistent queues&#xA;persistent queue;&#xA;persistent lookupTable;&#xA;&#xA;%Initialize the queues&#xA;if isempty(queue)&#xA;    queue = repmat(emptyPacket(), numShuttles, queueSize);&#xA;end&#xA;&#xA;if isempty(lookupTable)&#xA;    lookupTable = repmat(NOT_ASSIGNED, lookupTableSize,1);&#xA;end&#xA;&#xA;%Clean outbus&#xA;outBus = inBus;&#xA;for i = 1:numShuttles&#xA;    outBus = setfield(outBus, createRailCabName(i), emptyBus(busSize));&#xA;end&#xA;&#xA;%Retrieve packets&#xA;for i = 1:numShuttles&#xA;    %Get current bus&#xA;    currentBus = getBusFromIndex(inBus, busSize, i);&#xA;    for j = 1:busSize&#xA;        %Read packet&#xA;        packet = getPacketFromBus(currentBus, j);&#xA;        &#xA;        %Check if new packet&#xA;        if isValid(packet, numShuttles)&#xA;             %Save sender bus element to lookup table&#xA;            if lookupTable(packet.from) == NOT_ASSIGNED&#xA;                lookupTable(packet.from) = i;&#xA;            end&#xA;            &#xA;            %Save packet in queue&#xA;            target = lookupTable(packet.to);&#xA;            %Destination unkown. Send to all unassigned.&#xA;            if target == NOT_ASSIGNED&#xA;                for k = 1:numShuttles&#xA;                    if(lookupTable(packet.from) ~= k)&#xA;                        queue(k,:) = enqueue(queue(k,:), packet); &#xA;                    end&#xA;                end                &#xA;            %Destination known&#xA;            else &#xA;                queue(target,:) = enqueue(queue(target,:), packet);&#xA;            end            &#xA;        end&#xA;    end&#xA;&#xA;end&#xA;&#xA;%Send packet from queue&#xA;for i = 1:numShuttles    &#xA;    currentBus = getBusFromIndex(outBus, busSize, i);&#xA;    for j = 1:busSize&#xA;        if ~isEmpty(queue(i,:))&#xA;            &#xA;            &#xA;            %Read last packet&#xA;            packet = front(queue(i,:));&#xA;            queue(i,:) = dequeue(queue(i,:)); &#xA;            &#xA;%            if packet.msg ~= 255 %No ACK&#xA;%                fprintf('Sending on port %u[%u/%u]: %s', i, j, busSize, toString(packet));&#xA;%            end            &#xA;            &#xA;            %Save packet to bus&#xA;            currentBus = setPacketToBus(currentBus, j, packet);&#xA;            &#xA;        else&#xA;            break;&#xA;        end&#xA;    end &#xA;    %Save bus&#xA;    outBus = setBusToIndex(outBus, i, currentBus);&#xA;end&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% BUS&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function name = createRailCabName(index) %#eml&#xA;%Create name for the railcab used on the bus&#xA;eml.extrinsic('sprintf');&#xA;name = sprintf('rc%d', index);&#xA;&#xA;function bus = getBusFromIndex(inBus, busSize, index) %eml&#xA;%Retrieve a PacketBus from the RailCaBbus&#xA;eml.extrinsic('getfield');&#xA;busName = createRailCabName(index);&#xA;bus = emptyBus(busSize);&#xA;bus = getfield(inBus, busName);&#xA;&#xA;function rcBus = setBusToIndex(rcBus, index, packetBus) %eml&#xA;%Save a PacketBus to RailCabBus&#xA;eml.extrinsic('setfield');&#xA;busName = createRailCabName(index);&#xA;rcBus = setfield(rcBus, busName, packetBus);&#xA;&#xA;function packet = getPacketFromBus(packetBus, index) %eml&#xA;%Retrieve a packet from the bus&#xA;packet = emptyPacket();&#xA;packet.from = packetBus.from(index);&#xA;packet.to = packetBus.to(index);&#xA;packet.msg = packetBus.msg(index);&#xA;packet.param = packetBus.param (index);&#xA;packet.pkgid = packetBus.pkgid(index);&#xA;packet.time = packetBus.time(index);&#xA;&#xA;function packetBus = setPacketToBus(packetBus, index, packet) %eml&#xA;%Save a packet to the bus&#xA;packetBus.from(index) = packet.from;&#xA;packetBus.to(index) = packet.to;&#xA;packetBus.msg(index) = packet.msg;&#xA;packetBus.param (index) = packet.param;&#xA;packetBus.pkgid(index) = packet.pkgid;&#xA;packetBus.time(index) = packet.time;&#xA;&#xA;function bus = emptyBus(size) %emp&#xA;%Create an empty bus&#xA;bus = struct('from', zeros(size,1,'uint8'),'to', zeros(size,1,'uint8'),'msg', zeros(size,1,'uint16'),'param', zeros(size,1,'double'),'pkgid', zeros(size,1,'uint32'), 'time', zeros(size,1,'double'));&#xA;&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% PACKET&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;function packet = emptyPacket() %#eml&#xA;%Creates an empty packet&#xA;packet = struct('from', uint8(0),'to', uint8(0),'msg', uint16(0),'param', double(0.0),'pkgid', uint32(0), 'time', double(0));&#xA;&#xA;function valid = isValid(packet, numShuttles) %#eml&#xA;%Checks wether the given packet is valid and transported by the bus&#xA;eml.extrinsic('getfield');&#xA;valid = false;&#xA;if packet.to > 0 &amp;&amp; packet.to &lt;= numShuttles &#xA;    if packet.from > 0 &amp;&amp; packet.from &lt;= numShuttles&#xA;        valid = true;&#xA;    end&#xA;end&#xA;&#xA;function packetString = toString(packet) %#eml&#xA;eml.extrinsic('sprintf');&#xA;packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);&#xA;&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;%% QUEUE&#xA;%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%&#xA;&#xA;function queue = enqueue(queue, packet) %#eml&#xA;%Insert the packet at the end of the queue&#xA;eml.extrinsic('warning');&#xA;for i=1:length(queue)&#xA;    if queue(i).to == 0&#xA;        queue(i) = packet;&#xA;        return;&#xA;    end&#xA;end&#xA;%No empty entry found&#xA;warning('RailCab:Bus','Bus: buffer overflow for outgoing queue to %d', queue(1).to);&#xA;&#xA;function queue = dequeue(queue) %#eml&#xA;%Removes the first packet of the queue&#xA;for i = 1:length(queue)-1&#xA;    queue(i) = queue(i+1);&#xA;    if queue(i).to == 0&#xA;        %end reached&#xA;        return;&#xA;    end&#xA;end&#xA;queue(length(queue)) = emptyPacket();&#xA;&#xA;function packet = front(queue) %#eml&#xA;%Returns the first element from the queue&#xA;packet = queue(1);&#xA;&#xA;function empty = isEmpty(queue) %#eml&#xA;%Checks whether the queue is empty or not&#xA;packet = queue(1);&#xA;if packet.to == 0&#xA;    empty = true;&#xA;else&#xA;    empty = false;&#xA;end">
          <parameters name="System.Location" value="[257, 457, 812, 717]"/>
          <parameters name="System.ModelBrowserWidth" value="200"/>
          <parameters name="Position" value="[200, 89, 310, 161]"/>
          <outPorts id="_KnSDgI2CEeKjOIt6xW2jaA" name="outBus" dimensions="-1" type="Bus">
            <parameters name="Position" value="[460, 101, 480, 119]"/>
            <inPorts id="_KnT4sI2CEeKjOIt6xW2jaA" name="In1"/>
          </outPorts>
          <inPorts id="_KnSqkI2CEeKjOIt6xW2jaA" name="inBus" dimensions="-1" type="Bus">
            <parameters name="Position" value="[20, 101, 40, 119]"/>
            <outPorts id="_KnUfwI2CEeKjOIt6xW2jaA" name="Out1"/>
          </inPorts>
        </blocks>
      </blocks>
      <blocks xsi:type="model:LibraryReference" id="_KoYPsI2CEeKjOIt6xW2jaA" name="mc2" incomingLines="_KoY2wI2CEeKjOIt6xW2jaA _LpZn0I2CEeKjOIt6xW2jaA _Lpkm8I2CEeKjOIt6xW2jaA _TiwwwY2CEeKjOIt6xW2jaA _TixX0I2CEeKjOIt6xW2jaA _Ti4Fgo2CEeKjOIt6xW2jaA _Ti5ToI2CEeKjOIt6xW2jaA _TjJLQI2CEeKjOIt6xW2jaA _TlTucI2CEeKjOIt6xW2jaA _TlTuco2CEeKjOIt6xW2jaA _TlTuc42CEeKjOIt6xW2jaA" outgoingLines="_TiwwwI2CEeKjOIt6xW2jaA _Ti4FgY2CEeKjOIt6xW2jaA _TlTucY2CEeKjOIt6xW2jaA" sourceBlock="_KkspkI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[200, 100, 450, 800]"/>
      </blocks>
      <blocks xsi:type="model:DigitalClock" id="_KoYPsY2CEeKjOIt6xW2jaA" outgoingLines="_KoY2wI2CEeKjOIt6xW2jaA" sampleTime="0.0010">
        <parameters name="Position" value="[100, 110, 130, 140]"/>
        <outPorts id="_KoY2wY2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:LibraryReference" id="_KobTAI2CEeKjOIt6xW2jaA" name="sp2" incomingLines="_Kob6EI2CEeKjOIt6xW2jaA _Lp9ogI2CEeKjOIt6xW2jaA _Tiwwwo2CEeKjOIt6xW2jaA _Tix-4I2CEeKjOIt6xW2jaA _TjQgAI2CEeKjOIt6xW2jaA _TjVYgI2CEeKjOIt6xW2jaA _TjbfII2CEeKjOIt6xW2jaA _TjhlwI2CEeKjOIt6xW2jaA _TjnsYI2CEeKjOIt6xW2jaA _TjvBII2CEeKjOIt6xW2jaA" outgoingLines="_TiwJsI2CEeKjOIt6xW2jaA" sourceBlock="_KlBZsI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[1500, 100, 1750, 800]"/>
      </blocks>
      <blocks xsi:type="model:DigitalClock" id="_KobTAY2CEeKjOIt6xW2jaA" outgoingLines="_Kob6EI2CEeKjOIt6xW2jaA" sampleTime="0.0010">
        <parameters name="Position" value="[1400, 110, 1430, 140]"/>
        <outPorts id="_Kob6EY2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:LibraryReference" id="_KodvQI2CEeKjOIt6xW2jaA" name="sc2" incomingLines="_KoeWUY2CEeKjOIt6xW2jaA _LpvmEI2CEeKjOIt6xW2jaA _Ti4Fg42CEeKjOIt6xW2jaA _Ti56sI2CEeKjOIt6xW2jaA" outgoingLines="_Ti4FgI2CEeKjOIt6xW2jaA" sourceBlock="_Kk4PwI2CEeKjOIt6xW2jaA">
        <parameters name="Position" value="[200, 860, 450, 1560]"/>
      </blocks>
      <blocks xsi:type="model:DigitalClock" id="_KoeWUI2CEeKjOIt6xW2jaA" outgoingLines="_KoeWUY2CEeKjOIt6xW2jaA" sampleTime="0.0010">
        <parameters name="Position" value="[100, 870, 130, 900]"/>
        <outPorts id="_KoeWUo2CEeKjOIt6xW2jaA"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_LpZn0Y2CEeKjOIt6xW2jaA" name="mc2_BAT_Info_ToSC_net_address" outgoingLines="_LpZn0I2CEeKjOIt6xW2jaA" value="2" type="uint8">
        <parameters name="Position" value="[100, 360, 130, 390]"/>
        <outPorts id="_LpaO4I2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_Lpkm8Y2CEeKjOIt6xW2jaA" name="mc2_BAT_Info_ToSP_net_address" outgoingLines="_Lpkm8I2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[100, 460, 130, 490]"/>
        <outPorts id="_LplOAI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_LpvmEY2CEeKjOIt6xW2jaA" name="sc2_BAT_Info_net_address" outgoingLines="_LpvmEI2CEeKjOIt6xW2jaA" value="4" type="uint8">
        <parameters name="Position" value="[100, 920, 130, 950]"/>
        <outPorts id="_LpwNII2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_Lp9ogY2CEeKjOIt6xW2jaA" name="sp2_BAT_Info_net_address" outgoingLines="_Lp9ogI2CEeKjOIt6xW2jaA" value="3" type="uint8">
        <parameters name="Position" value="[1400, 460, 1430, 490]"/>
        <outPorts id="_Lp-PkI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_TiwwxY2CEeKjOIt6xW2jaA" name="mc2_BAT_Info_ToSP_receiver_net_address" outgoingLines="_TixX0I2CEeKjOIt6xW2jaA" value="3" type="uint8">
        <parameters name="Position" value="[100, 510, 130, 540]"/>
        <outPorts id="_Ti0bII2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_TixX0Y2CEeKjOIt6xW2jaA" name="sp2_BAT_Info_receiver_net_address" outgoingLines="_Tix-4I2CEeKjOIt6xW2jaA" type="uint8">
        <parameters name="Position" value="[1400, 510, 1430, 540]"/>
        <outPorts id="_Ti1CMI2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_Ti4skI2CEeKjOIt6xW2jaA" name="mc2_BAT_Info_ToSC_receiver_net_address" outgoingLines="_Ti5ToI2CEeKjOIt6xW2jaA" value="4" type="uint8">
        <parameters name="Position" value="[100, 410, 130, 440]"/>
        <outPorts id="_Ti8W8I2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
      <blocks xsi:type="model:Constant" id="_Ti5ToY2CEeKjOIt6xW2jaA" name="sc2_BAT_Info_receiver_net_address" outgoingLines="_Ti56sI2CEeKjOIt6xW2jaA" value="2" type="uint8">
        <parameters name="Position" value="[100, 970, 130, 1000]"/>
        <outPorts id="_Ti8W8Y2CEeKjOIt6xW2jaA" type="uint8"/>
      </blocks>
    </blocks>
    <buses id="_KnLV042CEeKjOIt6xW2jaA" name="robot2_Bus">
      <elements name="rc1" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <elements name="rc2" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <elements name="rc3" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
      <elements name="rc4" type="Bus" bus="_KcWl4I2CEeKjOIt6xW2jaA"/>
    </buses>
  </libraries>
</model:SimulinkContainer>
