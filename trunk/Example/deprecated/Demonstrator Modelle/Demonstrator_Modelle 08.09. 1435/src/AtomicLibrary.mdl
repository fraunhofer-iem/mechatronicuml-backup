Library {
  Name			  "AtomicLibrary"
  PostLoadFcn		  "PacketBusGenerator; RailCabBusGenerator"
  LibraryType "BlockLibrary"    Array {
    Type		    "Handle"
    Dimension		    1
    Simulink.ConfigSet {
      $ObjectID		      1
    }
    PropName		    "ConfigurationSets"
  }
  
  BlockDefaults {
  }
  AnnotationDefaults {
  }
  LineDefaults {
  }
  BlockParameterDefaults {
  }
  System {
    Name		    "AtomicLibrary"    
	
  Block {
    BlockType SubSystem
    Name "UserInterface"
    SID				37
    Ports [16, 5, 0, 0]
    Tag		"id=_qU3SQPdmEeGH_6eRdlYQdA"
  Position "[20, 20, 270, 650]"
	  System {
	  	Name  "UserInterface"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				38
    Tag		"id=_qWKSwPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGYREQUEST.provider_recv"
    SID				39
    Tag		"id=_r0Kh0PdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 1140, 220, 1170]"
  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGYREQUEST.provider_net_adress"
    SID				40
    Tag		"id=_r0M-EPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 1200, 220, 1230]"
  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGYREQUEST.provider_receiver_net_adress"
    SID				41
    Tag		"id=_r0NlIPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 1260, 220, 1290]"
  }

  Block {
    BlockType Inport
    Name "HMI_RESET.master_recv"
    SID				42
    Tag		"id=_r-XmsPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 1600, 220, 1630]"
  }

  Block {
    BlockType Inport
    Name "HMI_RESET.master_net_adress"
    SID				43
    Tag		"id=_r-aC8PdmEeGH_6eRdlYQdA"
    Port "6"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 1660, 220, 1690]"
  }

  Block {
    BlockType Inport
    Name "HMI_RESET.master_receiver_net_adress"
    SID				44
    Tag		"id=_r-aqAPdmEeGH_6eRdlYQdA"
    Port "7"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 1720, 220, 1750]"
  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGY.master_recv"
    SID				45
    Tag		"id=_sId94PdmEeGH_6eRdlYQdA"
    Port "8"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 2060, 220, 2090]"
  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGY.master_net_adress"
    SID				46
    Tag		"id=_sIhoQPdmEeGH_6eRdlYQdA"
    Port "9"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 2120, 220, 2150]"
  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGY.master_receiver_net_adress"
    SID				47
    Tag		"id=_sIi2YPdmEeGH_6eRdlYQdA"
    Port "10"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 2180, 220, 2210]"
  }

  Block {
    BlockType Inport
    Name "STATUS.slave_recv"
    SID				48
    Tag		"id=_sS5sQPdmEeGH_6eRdlYQdA"
    Port "11"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 2520, 220, 2550]"
  }

  Block {
    BlockType Inport
    Name "STATUS.slave_net_adress"
    SID				49
    Tag		"id=_sS8vkPdmEeGH_6eRdlYQdA"
    Port "12"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 2580, 220, 2610]"
  }

  Block {
    BlockType Inport
    Name "STATUS.slave_receiver_net_adress"
    SID				50
    Tag		"id=_sS9WoPdmEeGH_6eRdlYQdA"
    Port "13"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 2640, 220, 2670]"
  }

  Block {
    BlockType Inport
    Name "HMI_END.master_recv"
    SID				51
    Tag		"id=_sc4usPdmEeGH_6eRdlYQdA"
    Port "14"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 2980, 220, 3010]"
  }

  Block {
    BlockType Inport
    Name "HMI_END.master_net_adress"
    SID				52
    Tag		"id=_sc7K8PdmEeGH_6eRdlYQdA"
    Port "15"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 3040, 220, 3070]"
  }

  Block {
    BlockType Inport
    Name "HMI_END.master_receiver_net_adress"
    SID				53
    Tag		"id=_sc7yAPdmEeGH_6eRdlYQdA"
    Port "16"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 3100, 220, 3130]"
  }
	  	
  Block {
    BlockType Outport
    Name "HMI_STRATEGYREQUEST.provider_send"
    SID				54
    Tag		"id=_r0J6wPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 1140, 890, 1170]"
  }

  Block {
    BlockType Outport
    Name "HMI_RESET.master_send"
    SID				55
    Tag		"id=_r-W_oPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 1600, 890, 1630]"
  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGY.master_send"
    SID				56
    Tag		"id=_sIcvwPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 2060, 890, 2090]"
  }

  Block {
    BlockType Outport
    Name "STATUS.slave_send"
    SID				57
    Tag		"id=_sS5FMPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 2520, 890, 2550]"
  }

  Block {
    BlockType Outport
    Name "HMI_END.master_send"
    SID				58
    Tag		"id=_sc4HoPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 2980, 890, 3010]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer HMI_STRATEGYREQUEST.provider"
    SID				59
    Ports [7, 5, 0, 0]
    Tag		"id=_r0MXBPdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 1140, 800, 1540]"
	  System {
	  	Name  "Link Layer HMI_STRATEGYREQUEST.provider"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				60
    Tag		"id=_r0aZcPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				61
    Tag		"id=_r0i8UPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				62
    Tag		"id=_r0kKcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				63
    Tag		"id=_r0bAgPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				64
    Tag		"id=_r0dcwPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				65
    Tag		"id=_r0eD0PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				66
    Tag		"id=_r0fR8PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				67
    Tag		"id=_r0ZyYfdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				68
    Tag		"id=_r0cOoPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				69
    Tag		"id=_r0c1sPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				70
    Tag		"id=_r0ggEPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				71
    Tag		"id=_r0huMPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				72
    Ports [10, 10, 0, 0]
    Tag		"id=_r0l_ofdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				73
    Tag		"id=_r1VmgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				74
    Tag		"id=_r1XbsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				75
    Tag		"id=_r1Yp0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				76
    Tag		"id=_r1afAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				77
    Tag		"id=_r1cUMPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				78
    Tag		"id=_r1eJYPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				79
    Tag		"id=_r1f-kPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				80
    Tag		"id=_r1hzwPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				81
    Tag		"id=_r1jo8PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				82
    Tag		"id=_r1leIPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				83
    Tag		"id=_r1LOcPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				84
    Tag		"id=_r1L1gPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				85
    Tag		"id=_r1NDoPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				86
    Tag		"id=_r1ORwPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				87
    Tag		"id=_r1Pf4PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				88
    Tag		"id=_r1QG8PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				89
    Tag		"id=_r1RVEPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				90
    Tag		"id=_r1SjMPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				91
    Tag		"id=_r1TxUPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				92
    Tag		"id=_r1UYYPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				93
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_r1msQPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport10"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				94 
      Tag				"id=_r1msQfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 94
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				95
    Tag		"id=_r3_48PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				96
    Tag		"id=_r4DjUPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				97
    Tag		"id=_r4HNsPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				98
    Tag		"id=_r4KRAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				99
    Tag		"id=_r4N7YPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				100
    Tag		"id=_r4Q-sPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				101
    Tag		"id=_r4Sz4PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				102
    Tag		"id=_r4VQIPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				103
    Tag		"id=_r4XsYPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				104
    Tag		"id=_r4aIoPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				105
    Tag		"id=_r4ck4PdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 16"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				106
    Tag		"id=_r3gJsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				107
    Tag		"id=_r3h-4PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				108
    Tag		"id=_r3kbIPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				109
    Tag		"id=_r3mQUPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				110
    Tag		"id=_r3oskPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				111
    Tag		"id=_r3qhwPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				112
    Tag		"id=_r3s-APdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				113
    Tag		"id=_r3vaQPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				114
    Tag		"id=_r3ydkPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				115
    Tag		"id=_r31g4PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				116
    Tag		"id=_r34kMPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				117
    Tag		"id=_r38OkPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_r1pIgPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_r1rkwPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_r1sL0PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_r1sL0fdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_r1sL0vdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_r1sL0_dmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_r1sL1PdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_r1sy4PdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_r1sy4fdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_r1sy4vdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_r1sy4_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_r1sy5PdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_r1tZ8PdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_r1tZ8fdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_r1tZ8vdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_r1tZ8_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_r1tZ9PdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_r1tZ9fdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_r1uBAPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_r1uBAfdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_r1uBAvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_r1uBA_dmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_r1uBBPdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport10"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_r1uoEPdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_r1uoEfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				118
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_r0lYkPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_r0lYkfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_r0l_oPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_r0mmsPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				119
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_r0nNwPdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_r0n00PdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_r0n00fdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				120 
      Tag				"id=_r0n00vdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 120
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				121
    Tag		"id=_r2MiIPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				122
    Tag		"id=_r2O-YPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				123
    Tag		"id=_r2RaoPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				124
    Tag		"id=_r2T24PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				125
    Tag		"id=_r2WTIPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 17"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				126
    Tag		"id=_r2F0cPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				127
    Tag		"id=_r2IQsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				128
    Tag		"id=_r2Ks8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				129 
      Tag				"id=_r0ob4PdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 129
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				130
    Tag		"id=_r2hSQPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				131
    Tag		"id=_r2jHcPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				132
    Tag		"id=_r2k8oPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 18"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				133
    Tag		"id=_r2akkPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				134
    Tag		"id=_r2cZwPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				135
    Tag		"id=_r2eO8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				136
    Tag		"id=_r2fdEPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_r0rfMPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_r0rfMfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_r0rfMvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_r0rfM_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_r0rfNPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_r0rfNfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_r0sGQPdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_r0sGQfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_r0sGQvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_r0sGQ_dmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_r0stUPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_r0stUfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_r0stUvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_r0OzQPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_r0tUYPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_r0tUYfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_r0tUYvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_r0tUY_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_r0t7cPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_r0t7cfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_r0t7cvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_r0uigPdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_r0uigfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_r0vJkfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_r0vJkvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_r0vwoPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_r0vwofdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_r0vwovdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_r0vwo_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport11"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_r0OzQfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_r0vwpPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_r0wXsPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_r0wXsfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_r0wXsvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "Link Layer HMI_RESET.master"
    SID				137
    Ports [7, 5, 0, 0]
    Tag		"id=_r-Zb4_dmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 1600, 800, 2000]"
	  System {
	  	Name  "Link Layer HMI_RESET.master"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				138
    Tag		"id=_r-neUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				139
    Tag		"id=_r-vaIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				140
    Tag		"id=_r-woQPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				141
    Tag		"id=_r-oFYPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				142
    Tag		"id=_r-p6kPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				143
    Tag		"id=_r-rIsPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				144
    Tag		"id=_r-sW0PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				145
    Tag		"id=_r-m3QPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				146
    Tag		"id=_r-oscPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				147
    Tag		"id=_r-pTgPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				148
    Tag		"id=_r-s94PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				149
    Tag		"id=_r-uMAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				150
    Ports [10, 10, 0, 0]
    Tag		"id=_r-x2YfdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				151
    Tag		"id=_r_oK8PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				152
    Tag		"id=_r_pZEPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				153
    Tag		"id=_r_qnMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				154
    Tag		"id=_r_scYPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				155
    Tag		"id=_r_tqgPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				156
    Tag		"id=_r_vfsPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				157
    Tag		"id=_r_wt0PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				158
    Tag		"id=_r_yjAPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				159
    Tag		"id=_r_zxIPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				160
    Tag		"id=_r_0_QPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				161
    Tag		"id=_r_aIgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				162
    Tag		"id=_r_bWoPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				163
    Tag		"id=_r_b9sPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				164
    Tag		"id=_r_dL0PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				165
    Tag		"id=_r_fBAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				166
    Tag		"id=_r_gPIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				167
    Tag		"id=_r_iEUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				168
    Tag		"id=_r_jScPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				169
    Tag		"id=_r_lHoPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				170
    Tag		"id=_r_m80PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				171
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_r_3bgPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport12"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				172 
      Tag				"id=_r_4CkPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 172
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				173
    Tag		"id=_sCqQ0PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				174
    Tag		"id=_sCtUIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				175
    Tag		"id=_sCw-gPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				176
    Tag		"id=_sCzawPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				177
    Tag		"id=_sC2eEPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				178
    Tag		"id=_sC4TQPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				179
    Tag		"id=_sC79oPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				180
    Tag		"id=_sC_oAPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				181
    Tag		"id=_sDCrUPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				182
    Tag		"id=_sDGVsPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				183
    Tag		"id=_sDKAEPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 19"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				184
    Tag		"id=_sCKhkPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				185
    Tag		"id=_sCM90PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				186
    Tag		"id=_sCQoMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				187
    Tag		"id=_sCTrgPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				188
    Tag		"id=_sCWu0PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				189
    Tag		"id=_sCZyIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				190
    Tag		"id=_sCcOYPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				191
    Tag		"id=_sCeqoPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				192
    Tag		"id=_sChG4PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				193
    Tag		"id=_sCjjIPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				194
    Tag		"id=_sClYUPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				195
    Tag		"id=_sCn0kPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_r_7F4PdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_r__XUPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_r__XUfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_r__XUvdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_r__-YPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_r__-YfdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_r__-YvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_r__-Y_dmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_r__-ZPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_sAAlcPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_sAAlcfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_sAAlcvdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_sAAlc_dmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_sAAldPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_sABMgPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_sABMgfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_sABMgvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_sABMg_dmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_sABMhPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_sABMhfdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_sABzkPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_sABzkfdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_sABzkvdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport12"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_sABzk_dmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_sABzlPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				196
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_r-xPUPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_r-xPUfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_r-x2YPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_r-ydcPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				197
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_r-ydcfdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_r-ydcvdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_r-zEgPdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				198 
      Tag				"id=_r-zEgfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 198
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				199
    Tag		"id=_sAd4cPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				200
    Tag		"id=_sAgUsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				201
    Tag		"id=_sAiw8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				202
    Tag		"id=_sAkmIPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				203
    Tag		"id=_sAnCYPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 20"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				204
    Tag		"id=_sAYY4PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				205
    Tag		"id=_sAaOEPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				206
    Tag		"id=_sAcDQPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				207 
      Tag				"id=_r-zrkPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 207
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				208
    Tag		"id=_sAyBgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				209
    Tag		"id=_sA0dwPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				210
    Tag		"id=_sA26APdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 21"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				211
    Tag		"id=_sApeoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				212
    Tag		"id=_sArT0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				213
    Tag		"id=_sAtJAPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				214
    Tag		"id=_sAu-MPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_r-3V8PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_r-3V8fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_r-3V8vdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_r-39APdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_r-39AfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_r-39AvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_r-39A_dmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_r-39BPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_r-39BfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_r-4kEPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_r-4kEfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_r-4kEvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_r-4kE_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_r-b4IPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_r-4kFPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_r-5LIPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_r-5LIfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_r-5LIvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_r-5LI_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_r-5LJPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_r-5LJfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_r-5yMPdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_r-5yMfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_r-5yM_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_r-5yNPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_r-6ZQPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_r-6ZQfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_r-6ZQvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_r-6ZQ_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport13"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_r-b4IfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_r-6ZRPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_r-7AUPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_r-7AUfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_r-7AUvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "Link Layer HMI_STRATEGY.master"
    SID				215
    Ports [7, 5, 0, 0]
    Tag		"id=_sIgaIfdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 2060, 800, 2460]"
	  System {
	  	Name  "Link Layer HMI_STRATEGY.master"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				216
    Tag		"id=_sIzVEPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				217
    Tag		"id=_sI-7QPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				218
    Tag		"id=_sJAJYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				219
    Tag		"id=_sI0jMPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				220
    Tag		"id=_sI3mgPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				221
    Tag		"id=_sI40oPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				222
    Tag		"id=_sI6CwPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				223
    Tag		"id=_sIyuAfdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				224
    Tag		"id=_sI1KQPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				225
    Tag		"id=_sI2YYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				226
    Tag		"id=_sI7Q4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				227
    Tag		"id=_sI8fAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				228
    Ports [10, 10, 0, 0]
    Tag		"id=_sJClovdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				229
    Tag		"id=_sJ0owPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				230
    Tag		"id=_sJ124PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				231
    Tag		"id=_sJ3FAPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				232
    Tag		"id=_sJ4TIPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				233
    Tag		"id=_sJ5hQPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				234
    Tag		"id=_sJ7WcPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				235
    Tag		"id=_sJ9LoPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				236
    Tag		"id=_sJ_A0PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				237
    Tag		"id=_sKA2APdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				238
    Tag		"id=_sKDSQPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				239
    Tag		"id=_sJppoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				240
    Tag		"id=_sJq3wPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				241
    Tag		"id=_sJsF4PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				242
    Tag		"id=_sJtUAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				243
    Tag		"id=_sJt7EPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				244
    Tag		"id=_sJvJMPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				245
    Tag		"id=_sJwXUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				246
    Tag		"id=_sJw-YPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				247
    Tag		"id=_sJyMgPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				248
    Tag		"id=_sJzaoPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				249
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_sKFHcPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport14"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				250 
      Tag				"id=_sKFHcfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 250
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				251
    Tag		"id=_sM6ZAPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				252
    Tag		"id=_sM-qcPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				253
    Tag		"id=_sNBtwPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				254
    Tag		"id=_sNEKAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				255
    Tag		"id=_sNGmQPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				256
    Tag		"id=_sNJCgPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				257
    Tag		"id=_sNMF0PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				258
    Tag		"id=_sNPJIPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				259
    Tag		"id=_sNSzgPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				260
    Tag		"id=_sNV20PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				261
    Tag		"id=_sNYTEPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 22"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				262
    Tag		"id=_sMaCsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				263
    Tag		"id=_sMdGAPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				264
    Tag		"id=_sMgJUPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				265
    Tag		"id=_sMjMoPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				266
    Tag		"id=_sMm3APdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				267
    Tag		"id=_sMp6UPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				268
    Tag		"id=_sMsWkPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				269
    Tag		"id=_sMuy0PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				270
    Tag		"id=_sMxPEPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				271
    Tag		"id=_sMzEQPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				272
    Tag		"id=_sM1ggPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				273
    Tag		"id=_sM38wPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_sKIx0PdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_sKMcMPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_sKMcMfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_sKNDQPdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_sKNDQfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_sKNDQvdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_sKNqUPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_sKNqUfdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_sKNqUvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_sKNqU_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_sKORYPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_sKORYfdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_sKORYvdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_sKORY_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_sKO4cPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_sKO4cfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_sKO4cvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_sKPfgPdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_sKPfgfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_sKPfgvdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_sKPfg_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_sKQGkPdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_sKQGkfdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport14"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_sKQGkvdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_sKQGk_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				274
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_sJB-kPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_sJCloPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_sJClofdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_sJDMsPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				275
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_sJDMsfdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_sJDzwPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_sJDzwfdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				276 
      Tag				"id=_sJDzwvdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 276
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				277
    Tag		"id=_sKqWQPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				278
    Tag		"id=_sKsLcPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				279
    Tag		"id=_sKtZkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				280
    Tag		"id=_sKunsPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				281
    Tag		"id=_sKxD8PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 23"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				282
    Tag		"id=_sKmE0PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				283
    Tag		"id=_sKn6APdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				284
    Tag		"id=_sKpIIPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				285 
      Tag				"id=_sJEa0PdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 285
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				286
    Tag		"id=_sLJecPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				287
    Tag		"id=_sLL6sPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				288
    Tag		"id=_sLQMIPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 24"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				289
    Tag		"id=_sLAUgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				290
    Tag		"id=_sLCJsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				291
    Tag		"id=_sLD-4PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				292
    Tag		"id=_sLGbIPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_sJG3EPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_sJG3EfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_sJG3EvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_sJG3E_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_sJG3FPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_sJHeIPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_sJHeIfdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_sJHeIvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_sJHeI_dmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_sJHeJPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_sJIFMPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_sJIFMfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_sJIFMvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_sIkrkPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_sJIFM_dmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_sJIsQPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_sJIsQfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_sJIsQvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_sJIsQ_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_sJIsRPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_sJIsRfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_sJJTUPdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_sJJTUfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_sJJ6YfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_sJJ6YvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_sJKhcPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_sJKhcfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_sJKhcvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_sJKhc_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport15"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_sIkrkfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_sJLIgPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_sJLIgfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_sJLIgvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_sJLIg_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "Link Layer STATUS.slave"
    SID				293
    Ports [7, 5, 0, 0]
    Tag		"id=_sS7hdPdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 2520, 800, 2920]"
	  System {
	  	Name  "Link Layer STATUS.slave"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				294
    Tag		"id=_sTPDcPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				295
    Tag		"id=_sTW_QPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				296
    Tag		"id=_sTXmUPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				297
    Tag		"id=_sTQRkPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				298
    Tag		"id=_sTSt0PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				299
    Tag		"id=_sTT78PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				300
    Tag		"id=_sTUjAPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				301
    Tag		"id=_sTN1UPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				302
    Tag		"id=_sTRfsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				303
    Tag		"id=_sTSGwPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				304
    Tag		"id=_sTVKEPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				305
    Tag		"id=_sTWYMPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				306
    Ports [10, 10, 0, 0]
    Tag		"id=_sTZbgfdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				307
    Tag		"id=_sUckYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				308
    Tag		"id=_sUdygPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				309
    Tag		"id=_sUfAoPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				310
    Tag		"id=_sUgOwPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				311
    Tag		"id=_sUg10PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				312
    Tag		"id=_sUiD8PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				313
    Tag		"id=_sUjSEPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				314
    Tag		"id=_sUkgMPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				315
    Tag		"id=_sUluUPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				316
    Tag		"id=_sUm8cPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				317
    Tag		"id=_sUPJAPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				318
    Tag		"id=_sUQXIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				319
    Tag		"id=_sUSMUPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				320
    Tag		"id=_sUUBgPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				321
    Tag		"id=_sUVPoPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				322
    Tag		"id=_sUXE0PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				323
    Tag		"id=_sUYS8PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				324
    Tag		"id=_sUZhEPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				325
    Tag		"id=_sUaIIPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				326
    Tag		"id=_sUbWQPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				327
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_sUoKkPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport16"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				328 
      Tag				"id=_sUoxoPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 328
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				329
    Tag		"id=_sW5bcPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				330
    Tag		"id=_sW73sPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				331
    Tag		"id=_sW-T8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				332
    Tag		"id=_sXAwMPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				333
    Tag		"id=_sXDMcPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				334
    Tag		"id=_sXFosPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				335
    Tag		"id=_sXIE8PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				336
    Tag		"id=_sXLIQPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				337
    Tag		"id=_sXNkgPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				338
    Tag		"id=_sXQAwPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				339
    Tag		"id=_sXSdAPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 25"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				340
    Tag		"id=_sWZsMPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				341
    Tag		"id=_sWbhYPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				342
    Tag		"id=_sWd9oPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				343
    Tag		"id=_sWfy0PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				344
    Tag		"id=_sWiPEPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				345
    Tag		"id=_sWkrUPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				346
    Tag		"id=_sWnHkPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				347
    Tag		"id=_sWo8wPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				348
    Tag		"id=_sWsAEPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				349
    Tag		"id=_sWvDYPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				350
    Tag		"id=_sWytwPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				351
    Tag		"id=_sW1xEPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_sUqm0PdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_sUtDEPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_sUtDEfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_sUtqIPdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_sUtqIfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_sUtqIvdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_sUtqI_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_sUtqJPdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_sUuRMPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_sUuRMfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_sUuRMvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_sUuRM_dmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_sUuRNPdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_sUuRNfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_sUu4QPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_sUu4QfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_sUu4QvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_sUu4Q_dmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_sUu4RPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_sUvfUPdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_sUvfUfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_sUvfUvdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_sUvfU_dmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport16"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_sUvfVPdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_sUvfVfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				352
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_sTY0cPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_sTY0cfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_sTZbgPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_sTZbgvdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				353
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_sTaCkPdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_sTaCkfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_sTapoPdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				354 
      Tag				"id=_sTapofdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 354
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				355
    Tag		"id=_sVE2gPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				356
    Tag		"id=_sVGEoPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				357
    Tag		"id=_sVH50PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				358
    Tag		"id=_sVJH8PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				359
    Tag		"id=_sVK9IPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 26"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				360
    Tag		"id=_sVAlEPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				361
    Tag		"id=_sVBzMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				362
    Tag		"id=_sVDoYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				363 
      Tag				"id=_sTbQsPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 363
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				364
    Tag		"id=_sVTgAPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				365
    Tag		"id=_sVVVMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				366
    Tag		"id=_sVXKYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 27"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				367
    Tag		"id=_sVNZYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				368
    Tag		"id=_sVPOkPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				369
    Tag		"id=_sVQcsPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				370
    Tag		"id=_sVSR4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_sTdF4PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_sTdF4fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_sTds8PdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_sTds8fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_sTds8vdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_sTds8_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_sTds9PdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_sTds9fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_sTeUAPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_sTeUAfdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_sTeUAvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_sTeUA_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_sTeUBPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_sS99svdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_sTe7EPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_sTe7EfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_sTe7EvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_sTe7E_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_sTe7FPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_sTfiIPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_sTfiIfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_sTfiIvdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_sTfiI_dmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_sTfiJfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_sTgJMPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_sTgJMfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_sTgJMvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_sTgJM_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_sTgJNPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport17"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_sS-kwPdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_sTgwQPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_sTgwQfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_sTgwQvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_sTgwQ_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "Link Layer HMI_END.master"
    SID				371
    Ports [7, 5, 0, 0]
    Tag		"id=_sc6j4fdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 2980, 800, 3380]"
	  System {
	  	Name  "Link Layer HMI_END.master"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				372
    Tag		"id=_sdXP0PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				373
    Tag		"id=_sdd9gPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				374
    Tag		"id=_sdekkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				375
    Tag		"id=_sdX24PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				376
    Tag		"id=_sdaTIPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				377
    Tag		"id=_sda6MPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				378
    Tag		"id=_sdbhQPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				379
    Tag		"id=_sdWBsfdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				380
    Tag		"id=_sdYd8PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				381
    Tag		"id=_sdZFAPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				382
    Tag		"id=_sdcIUPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				383
    Tag		"id=_sddWcPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				384
    Ports [10, 10, 0, 0]
    Tag		"id=_sdgZwfdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				385
    Tag		"id=_seQnsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				386
    Tag		"id=_seROwPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				387
    Tag		"id=_seTD8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				388
    Tag		"id=_seUSEPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				389
    Tag		"id=_seVgMPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				390
    Tag		"id=_seWuUPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				391
    Tag		"id=_seXVYPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				392
    Tag		"id=_seYjgPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				393
    Tag		"id=_seaYsPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				394
    Tag		"id=_secN4PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				395
    Tag		"id=_seFokPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				396
    Tag		"id=_seG2sPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				397
    Tag		"id=_seIE0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				398
    Tag		"id=_seIr4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				399
    Tag		"id=_seJ6APdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				400
    Tag		"id=_seLIIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				401
    Tag		"id=_seLvMPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				402
    Tag		"id=_seM9UPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				403
    Tag		"id=_seOLcPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				404
    Tag		"id=_sePZkPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				405
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_seeDEPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport18"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				406 
      Tag				"id=_seeqIPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 406
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				407
    Tag		"id=_sg2BoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				408
    Tag		"id=_sg4d4PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				409
    Tag		"id=_sg6TEPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				410
    Tag		"id=_sg8vUPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				411
    Tag		"id=_sg_LkPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				412
    Tag		"id=_shBn0PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				413
    Tag		"id=_shEEEPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				414
    Tag		"id=_shGgUPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				415
    Tag		"id=_shI8kPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				416
    Tag		"id=_shLY0PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				417
    Tag		"id=_shN1EPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 28"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				418
    Tag		"id=_sgaj0PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				419
    Tag		"id=_sgdAEPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				420
    Tag		"id=_sge1QPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				421
    Tag		"id=_sghRgPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				422
    Tag		"id=_sgjtwPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				423
    Tag		"id=_sgli8PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				424
    Tag		"id=_sgn_MPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				425
    Tag		"id=_sgqbcPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				426
    Tag		"id=_sgsQoPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				427
    Tag		"id=_sgus4PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				428
    Tag		"id=_sgxJIPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				429
    Tag		"id=_sgzlYPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_seiUgPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_sel-4PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_seml8PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_seml8fdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_seml8vdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_senNAPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_senNAfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_senNAvdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_senNA_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_sen0EPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_sen0EfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_sen0EvdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_sen0E_dmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_seobIPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_seobIfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_seobIvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_sepCMPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_sepCMfdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_sepCMvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_sepCM_dmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_seppQPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_seppQfdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_seppQvdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport18"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_seqQUPdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_seqQUfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				430
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_sdfysPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_sdfysfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_sdgZwPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_sdhA0PdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				431
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_sdhA0fdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_sdhA0vdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_sdhn4PdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				432 
      Tag				"id=_sdhn4fdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 432
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				433
    Tag		"id=_sfFHEPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				434
    Tag		"id=_sfG8QPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				435
    Tag		"id=_sfIKYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				436
    Tag		"id=_sfJ_kPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				437
    Tag		"id=_sfL0wPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 29"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				438
    Tag		"id=_sfAOkPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				439
    Tag		"id=_sfCDwPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				440
    Tag		"id=_sfDR4PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				441 
      Tag				"id=_sdiO8PdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 441
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				442
    Tag		"id=_sfVlwPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				443
    Tag		"id=_sfXa8PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				444
    Tag		"id=_sfZQIPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 30"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				445
    Tag		"id=_sfORAPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				446
    Tag		"id=_sfQGMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				447
    Tag		"id=_sfR7YPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				448
    Tag		"id=_sfTwkPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_sdkEIPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_sdkEIfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_sdkEIvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_sdkEI_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_sdkrMPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_sdkrMfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_sdkrMvdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_sdkrM_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_sdkrNPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_sdkrNfdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_sdlSQPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_sdlSQfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_sdlSQvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_sc9AIPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_sdlSQ_dmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_sdlSRPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_sdl5UPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_sdl5UfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_sdl5UvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_sdl5U_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_sdl5VPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_sdl5VfdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_sdmgYPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_sdmgYvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_sdmgY_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_sdmgZPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_sdmgZfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_sdnHcPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_sdnHcfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport19"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_sc9AIfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_sdnHcvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_sdnHc_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_sdnHdPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_sdnugPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"UserInterface_Statechart"  
      SID				449
      Ports				[21, 20]      
	  Position		[250, 30, 800, 1080]
      Tag				"id=_qVXokPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"UserInterface_Statechart"	
		SIDHighWatermark	    449

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				450
    Tag		"id=_qWfC4PdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGYREQUEST.providerReadIn"
    SID				451
    Tag		"id=_r0PaUPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGYREQUEST.providerWriteIn"
    SID				452
    Tag		"id=_r0QocPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGYREQUEST.providerParamReadIn"
    SID				453
    Tag		"id=_r0R2kPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGYREQUEST.providerParamWriteIn"
    SID				454
    Tag		"id=_r0SdoPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_RESET.masterReadIn"
    SID				455
    Tag		"id=_r-b4IvdmEeGH_6eRdlYQdA"
    Port "6"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_RESET.masterWriteIn"
    SID				456
    Tag		"id=_r-dGQPdmEeGH_6eRdlYQdA"
    Port "7"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_RESET.masterParamReadIn"
    SID				457
    Tag		"id=_r-eUYPdmEeGH_6eRdlYQdA"
    Port "8"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_RESET.masterParamWriteIn"
    SID				458
    Tag		"id=_r-figPdmEeGH_6eRdlYQdA"
    Port "9"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGY.masterReadIn"
    SID				459
    Tag		"id=_sIkrkvdmEeGH_6eRdlYQdA"
    Port "10"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGY.masterWriteIn"
    SID				460
    Tag		"id=_sImgwPdmEeGH_6eRdlYQdA"
    Port "11"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGY.masterParamReadIn"
    SID				461
    Tag		"id=_sIoV8PdmEeGH_6eRdlYQdA"
    Port "12"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_STRATEGY.masterParamWriteIn"
    SID				462
    Tag		"id=_sIqLIPdmEeGH_6eRdlYQdA"
    Port "13"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "STATUS.slaveReadIn"
    SID				463
    Tag		"id=_sS-kwfdmEeGH_6eRdlYQdA"
    Port "14"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "STATUS.slaveWriteIn"
    SID				464
    Tag		"id=_sS_y4PdmEeGH_6eRdlYQdA"
    Port "15"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "STATUS.slaveParamReadIn"
    SID				465
    Tag		"id=_sTBBAPdmEeGH_6eRdlYQdA"
    Port "16"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "STATUS.slaveParamWriteIn"
    SID				466
    Tag		"id=_sTCPIPdmEeGH_6eRdlYQdA"
    Port "17"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_END.masterReadIn"
    SID				467
    Tag		"id=_sc9AIvdmEeGH_6eRdlYQdA"
    Port "18"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_END.masterWriteIn"
    SID				468
    Tag		"id=_sdLCkPdmEeGH_6eRdlYQdA"
    Port "19"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_END.masterParamReadIn"
    SID				469
    Tag		"id=_sdM3wPdmEeGH_6eRdlYQdA"
    Port "20"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "HMI_END.masterParamWriteIn"
    SID				470
    Tag		"id=_sdOs8PdmEeGH_6eRdlYQdA"
    Port "21"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               471
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               472
	  		Tag			  "Stateflow S-Function AtomicLibrary 15"
	  		Ports			  [21, 21]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[21 21]"
			Port {
				PortNumber		2
				Name			"HMI_STRATEGYREQUEST.providerReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"HMI_STRATEGYREQUEST.providerWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"HMI_STRATEGYREQUEST.providerParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"HMI_STRATEGYREQUEST.providerParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		6
				Name			"HMI_RESET.masterReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		7
				Name			"HMI_RESET.masterWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		8
				Name			"HMI_RESET.masterParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		9
				Name			"HMI_RESET.masterParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		10
				Name			"HMI_STRATEGY.masterReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		11
				Name			"HMI_STRATEGY.masterWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		12
				Name			"HMI_STRATEGY.masterParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		13
				Name			"HMI_STRATEGY.masterParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		14
				Name			"STATUS.slaveReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		15
				Name			"STATUS.slaveWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		16
				Name			"STATUS.slaveParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		17
				Name			"STATUS.slaveParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		18
				Name			"HMI_END.masterReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		19
				Name			"HMI_END.masterWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		20
				Name			"HMI_END.masterParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		21
				Name			"HMI_END.masterParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               473
		}

  Block {
    BlockType Outport
    Name "HMI_STRATEGYREQUEST.providerReadOut"
    SID				474
    Tag		"id=_r0QBYPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGYREQUEST.providerWriteOut"
    SID				475
    Tag		"id=_r0RPgPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGYREQUEST.providerParamReadOut"
    SID				476
    Tag		"id=_r0R2kfdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGYREQUEST.providerParamWriteOut"
    SID				477
    Tag		"id=_r0TEsPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_RESET.masterReadOut"
    SID				478
    Tag		"id=_r-cfMPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_RESET.masterWriteOut"
    SID				479
    Tag		"id=_r-dtUPdmEeGH_6eRdlYQdA"
    Port "6"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_RESET.masterParamReadOut"
    SID				480
    Tag		"id=_r-e7cPdmEeGH_6eRdlYQdA"
    Port "7"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_RESET.masterParamWriteOut"
    SID				481
    Tag		"id=_r-gJkPdmEeGH_6eRdlYQdA"
    Port "8"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGY.masterReadOut"
    SID				482
    Tag		"id=_sIl5sPdmEeGH_6eRdlYQdA"
    Port "9"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGY.masterWriteOut"
    SID				483
    Tag		"id=_sInH0PdmEeGH_6eRdlYQdA"
    Port "10"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGY.masterParamReadOut"
    SID				484
    Tag		"id=_sIo9APdmEeGH_6eRdlYQdA"
    Port "11"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_STRATEGY.masterParamWriteOut"
    SID				485
    Tag		"id=_sIqyMPdmEeGH_6eRdlYQdA"
    Port "12"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "STATUS.slaveReadOut"
    SID				486
    Tag		"id=_sS_L0PdmEeGH_6eRdlYQdA"
    Port "13"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "STATUS.slaveWriteOut"
    SID				487
    Tag		"id=_sTAZ8PdmEeGH_6eRdlYQdA"
    Port "14"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "STATUS.slaveParamReadOut"
    SID				488
    Tag		"id=_sTBoEPdmEeGH_6eRdlYQdA"
    Port "15"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "STATUS.slaveParamWriteOut"
    SID				489
    Tag		"id=_sTC2MPdmEeGH_6eRdlYQdA"
    Port "16"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_END.masterReadOut"
    SID				490
    Tag		"id=_sdKbgPdmEeGH_6eRdlYQdA"
    Port "17"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_END.masterWriteOut"
    SID				491
    Tag		"id=_sdLpoPdmEeGH_6eRdlYQdA"
    Port "18"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_END.masterParamReadOut"
    SID				492
    Tag		"id=_sdOF4PdmEeGH_6eRdlYQdA"
    Port "19"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "HMI_END.masterParamWriteOut"
    SID				493
    Tag		"id=_sdPUAPdmEeGH_6eRdlYQdA"
    Port "20"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGYREQUEST.providerReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGYREQUEST.providerWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGYREQUEST.providerParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGYREQUEST.providerParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "HMI_RESET.masterReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "HMI_RESET.masterWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "HMI_RESET.masterParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "HMI_RESET.masterParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGY.masterReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGY.masterWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGY.masterParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  12
		}
		Line {
	  		SrcBlock		  "HMI_STRATEGY.masterParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  13
		}
		Line {
	  		SrcBlock		  "STATUS.slaveReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  14
		}
		Line {
	  		SrcBlock		  "STATUS.slaveWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  15
		}
		Line {
	  		SrcBlock		  "STATUS.slaveParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  16
		}
		Line {
	  		SrcBlock		  "STATUS.slaveParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  17
		}
		Line {
	  		SrcBlock		  "HMI_END.masterReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  18
		}
		Line {
	  		SrcBlock		  "HMI_END.masterWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  19
		}
		Line {
	  		SrcBlock		  "HMI_END.masterParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  20
		}
		Line {
	  		SrcBlock		  "HMI_END.masterParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  21
		}
		Line {
			Name		  	  "HMI_STRATEGYREQUEST.providerReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "HMI_STRATEGYREQUEST.providerReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_STRATEGYREQUEST.providerWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "HMI_STRATEGYREQUEST.providerWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_STRATEGYREQUEST.providerParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "HMI_STRATEGYREQUEST.providerParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_STRATEGYREQUEST.providerParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "HMI_STRATEGYREQUEST.providerParamWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_RESET.masterReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "HMI_RESET.masterReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_RESET.masterWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "HMI_RESET.masterWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_RESET.masterParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "HMI_RESET.masterParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_RESET.masterParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "HMI_RESET.masterParamWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_STRATEGY.masterReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "HMI_STRATEGY.masterReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_STRATEGY.masterWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "HMI_STRATEGY.masterWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_STRATEGY.masterParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "HMI_STRATEGY.masterParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_STRATEGY.masterParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "HMI_STRATEGY.masterParamWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "STATUS.slaveReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	14
	  		DstBlock		  "STATUS.slaveReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "STATUS.slaveWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	15
	  		DstBlock		  "STATUS.slaveWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "STATUS.slaveParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	16
	  		DstBlock		  "STATUS.slaveParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "STATUS.slaveParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	17
	  		DstBlock		  "STATUS.slaveParamWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_END.masterReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	18
	  		DstBlock		  "HMI_END.masterReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_END.masterWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	19
	  		DstBlock		  "HMI_END.masterWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_END.masterParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	20
	  		DstBlock		  "HMI_END.masterParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "HMI_END.masterParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	21
	  		DstBlock		  "HMI_END.masterParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qWeb0PdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    SrcPort 1
    Tag				"id=_r0LI4PdmEeGH_6eRdlYQdA"
    DstBlock "HMI_STRATEGYREQUEST.provider_send"
    DstPort 1
  }
  Line {
    SrcBlock "HMI_STRATEGYREQUEST.provider_recv"
    SrcPort 1
    Tag				"id=_r0Lv8PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    DstPort 1
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 1
    Tag				"id=_r0Lv8fdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    SrcPort 2
    Tag				"id=_r0Lv8vdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    SrcPort 3
    Tag				"id=_r0Lv8_dmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 3
    Tag				"id=_r0Lv9PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    DstPort 5
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 2
    Tag				"id=_r0MXAPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    DstPort 6
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 4
    Tag				"id=_r0MXAfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    SrcPort 4
    Tag				"id=_r0MXAvdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    SrcPort 5
    Tag				"id=_r0MXA_dmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "HMI_STRATEGYREQUEST.provider_net_adress"
    SrcPort 1
    Tag				"id=_r0OMMPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    DstPort 2
  }
  Line {
    SrcBlock "HMI_STRATEGYREQUEST.provider_receiver_net_adress"
    SrcPort 1
    Tag				"id=_r0OMMfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGYREQUEST.provider"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer HMI_RESET.master"
    SrcPort 1
    Tag				"id=_r-YNwPdmEeGH_6eRdlYQdA"
    DstBlock "HMI_RESET.master_send"
    DstPort 1
  }
  Line {
    SrcBlock "HMI_RESET.master_recv"
    SrcPort 1
    Tag				"id=_r-Y00PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_RESET.master"
    DstPort 1
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 5
    Tag				"id=_r-Y00fdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_RESET.master"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer HMI_RESET.master"
    SrcPort 2
    Tag				"id=_r-Y00vdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 6
  }
  Line {
    SrcBlock "Link Layer HMI_RESET.master"
    SrcPort 3
    Tag				"id=_r-Y00_dmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 8
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 7
    Tag				"id=_r-Y01PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_RESET.master"
    DstPort 5
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 6
    Tag				"id=_r-Y01fdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_RESET.master"
    DstPort 6
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 8
    Tag				"id=_r-Zb4PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_RESET.master"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer HMI_RESET.master"
    SrcPort 4
    Tag				"id=_r-Zb4fdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer HMI_RESET.master"
    SrcPort 5
    Tag				"id=_r-Zb4vdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 9
  }
  Line {
    SrcBlock "HMI_RESET.master_net_adress"
    SrcPort 1
    Tag				"id=_r-bREPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_RESET.master"
    DstPort 2
  }
  Line {
    SrcBlock "HMI_RESET.master_receiver_net_adress"
    SrcPort 1
    Tag				"id=_r-bREfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_RESET.master"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGY.master"
    SrcPort 1
    Tag				"id=_sIek8PdmEeGH_6eRdlYQdA"
    DstBlock "HMI_STRATEGY.master_send"
    DstPort 1
  }
  Line {
    SrcBlock "HMI_STRATEGY.master_recv"
    SrcPort 1
    Tag				"id=_sIek8fdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGY.master"
    DstPort 1
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 9
    Tag				"id=_sIfMAPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGY.master"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGY.master"
    SrcPort 2
    Tag				"id=_sIfMAfdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 10
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGY.master"
    SrcPort 3
    Tag				"id=_sIfMAvdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 12
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 11
    Tag				"id=_sIfzEPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGY.master"
    DstPort 5
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 10
    Tag				"id=_sIfzEfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGY.master"
    DstPort 6
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 12
    Tag				"id=_sIfzEvdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGY.master"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGY.master"
    SrcPort 4
    Tag				"id=_sIfzE_dmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 11
  }
  Line {
    SrcBlock "Link Layer HMI_STRATEGY.master"
    SrcPort 5
    Tag				"id=_sIgaIPdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 13
  }
  Line {
    SrcBlock "HMI_STRATEGY.master_net_adress"
    SrcPort 1
    Tag				"id=_sIjdcPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGY.master"
    DstPort 2
  }
  Line {
    SrcBlock "HMI_STRATEGY.master_receiver_net_adress"
    SrcPort 1
    Tag				"id=_sIkEgPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_STRATEGY.master"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer STATUS.slave"
    SrcPort 1
    Tag				"id=_sS6TUPdmEeGH_6eRdlYQdA"
    DstBlock "STATUS.slave_send"
    DstPort 1
  }
  Line {
    SrcBlock "STATUS.slave_recv"
    SrcPort 1
    Tag				"id=_sS66YPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer STATUS.slave"
    DstPort 1
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 13
    Tag				"id=_sS66YfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer STATUS.slave"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer STATUS.slave"
    SrcPort 2
    Tag				"id=_sS66YvdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 14
  }
  Line {
    SrcBlock "Link Layer STATUS.slave"
    SrcPort 3
    Tag				"id=_sS66Y_dmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 16
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 15
    Tag				"id=_sS66ZPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer STATUS.slave"
    DstPort 5
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 14
    Tag				"id=_sS7hcPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer STATUS.slave"
    DstPort 6
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 16
    Tag				"id=_sS7hcfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer STATUS.slave"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer STATUS.slave"
    SrcPort 4
    Tag				"id=_sS7hcvdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 15
  }
  Line {
    SrcBlock "Link Layer STATUS.slave"
    SrcPort 5
    Tag				"id=_sS7hc_dmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 17
  }
  Line {
    SrcBlock "STATUS.slave_net_adress"
    SrcPort 1
    Tag				"id=_sS99sPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer STATUS.slave"
    DstPort 2
  }
  Line {
    SrcBlock "STATUS.slave_receiver_net_adress"
    SrcPort 1
    Tag				"id=_sS99sfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer STATUS.slave"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer HMI_END.master"
    SrcPort 1
    Tag				"id=_sc5VwPdmEeGH_6eRdlYQdA"
    DstBlock "HMI_END.master_send"
    DstPort 1
  }
  Line {
    SrcBlock "HMI_END.master_recv"
    SrcPort 1
    Tag				"id=_sc5VwfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_END.master"
    DstPort 1
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 17
    Tag				"id=_sc5VwvdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_END.master"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer HMI_END.master"
    SrcPort 2
    Tag				"id=_sc580PdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 18
  }
  Line {
    SrcBlock "Link Layer HMI_END.master"
    SrcPort 3
    Tag				"id=_sc580fdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 20
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 19
    Tag				"id=_sc580vdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_END.master"
    DstPort 5
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 18
    Tag				"id=_sc580_dmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_END.master"
    DstPort 6
  }
  Line {
    SrcBlock "UserInterface_Statechart"
    SrcPort 20
    Tag				"id=_sc581PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_END.master"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer HMI_END.master"
    SrcPort 4
    Tag				"id=_sc581fdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 19
  }
  Line {
    SrcBlock "Link Layer HMI_END.master"
    SrcPort 5
    Tag				"id=_sc6j4PdmEeGH_6eRdlYQdA"
    DstBlock "UserInterface_Statechart"
    DstPort 21
  }
  Line {
    SrcBlock "HMI_END.master_net_adress"
    SrcPort 1
    Tag				"id=_sc8ZEPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_END.master"
    DstPort 2
  }
  Line {
    SrcBlock "HMI_END.master_receiver_net_adress"
    SrcPort 1
    Tag				"id=_sc8ZEfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer HMI_END.master"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestDelegationSlave"
    SID				494
    Ports [4, 1, 0, 0]
    Tag		"id=_qXBOYPdmEeGH_6eRdlYQdA"
  Position "[330, 20, 580, 650]"
	  System {
	  	Name  "TestDelegationSlave"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				495
    Tag		"id=_qXCcgfdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "delegation_slave_recv"
    SID				496
    Tag		"id=_qhxF0PdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "delegation_slave_net_adress"
    SID				497
    Tag		"id=_qhziEPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "delegation_slave_receiver_net_adress"
    SID				498
    Tag		"id=_qh0JIPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "delegation_slave_send"
    SID				499
    Tag		"id=_qhwewPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer delegation_slave"
    SID				500
    Ports [7, 5, 0, 0]
    Tag		"id=_qhy7A_dmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer delegation_slave"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				501
    Tag		"id=_qiNKsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				502
    Tag		"id=_qiT4YPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				503
    Tag		"id=_qiVGgPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				504
    Tag		"id=_qiNxwPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				505
    Tag		"id=_qiQOAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				506
    Tag		"id=_qiQ1EPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				507
    Tag		"id=_qiSDMPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				508
    Tag		"id=_qiL8kfdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				509
    Tag		"id=_qiO_4PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				510
    Tag		"id=_qiPm8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				511
    Tag		"id=_qiSqQPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				512
    Tag		"id=_qiTRUPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				513
    Ports [10, 10, 0, 0]
    Tag		"id=_qiW7sfdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				514
    Tag		"id=_qjYPYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				515
    Tag		"id=_qjaEkPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				516
    Tag		"id=_qjb5wPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				517
    Tag		"id=_qjdH4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				518
    Tag		"id=_qje9EPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				519
    Tag		"id=_qjfkIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				520
    Tag		"id=_qjgyQPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				521
    Tag		"id=_qjvbwPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				522
    Tag		"id=_qjwp4PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				523
    Tag		"id=_qjx4APdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				524
    Tag		"id=_qjNQQPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				525
    Tag		"id=_qjN3UPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				526
    Tag		"id=_qjPFcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				527
    Tag		"id=_qjPsgPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				528
    Tag		"id=_qjQ6oPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				529
    Tag		"id=_qjSIwPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				530
    Tag		"id=_qjSv0PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				531
    Tag		"id=_qjT98PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				532
    Tag		"id=_qjVMEPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				533
    Tag		"id=_qjXBQPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				534
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_qjztMPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport20"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				535 
      Tag				"id=_qj0UQPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 535
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				536
    Tag		"id=_qmueUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				537
    Tag		"id=_qmwTgPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				538
    Tag		"id=_qmyIsPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				539
    Tag		"id=_qm1MAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				540
    Tag		"id=_qm42YPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				541
    Tag		"id=_qm8gwPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				542
    Tag		"id=_qnALIPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				543
    Tag		"id=_qnD1gPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				544
    Tag		"id=_qnHf4PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				545
    Tag		"id=_qnKjMPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				546
    Tag		"id=_qnNmgPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 31"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				547
    Tag		"id=_qmWD0PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				548
    Tag		"id=_qmX5APdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				549
    Tag		"id=_qmZuMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				550
    Tag		"id=_qmcKcPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				551
    Tag		"id=_qmd_oPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				552
    Tag		"id=_qmf00PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				553
    Tag		"id=_qmiREPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				554
    Tag		"id=_qmkGQPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				555
    Tag		"id=_qml7cPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				556
    Tag		"id=_qmnwoPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				557
    Tag		"id=_qmqM4PdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				558
    Tag		"id=_qmsCEPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_qj2wgPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_qkozoPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_qkpasPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_qkpasfdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_qkpasvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_qkqBwPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_qkqBwfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_qkqBwvdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_qkqBw_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_qkqBxPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_qkqo0PdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_qkqo0fdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_qkqo0vdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_qkqo0_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_qkqo1PdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_qkrP4PdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_qkrP4fdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_qkrP4vdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_qkrP4_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_qkrP5PdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_qkr28PdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_qkr28fdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_qkr28vdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport20"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_qkr28_dmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_qkr29PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				559
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_qiWUoPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_qiWUofdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_qiW7sPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_qiXiwPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				560
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_qiYJ0PdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_qiYw4PdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_qillMPdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				561 
      Tag				"id=_qimMQPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 561
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				562
    Tag		"id=_qlAAAPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				563
    Tag		"id=_qlBOIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				564
    Tag		"id=_qlDDUPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				565
    Tag		"id=_qlERcPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				566
    Tag		"id=_qlGGoPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 32"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				567
    Tag		"id=_qk7ukPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				568
    Tag		"id=_qk9jwPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				569
    Tag		"id=_qk-x4PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				570 
      Tag				"id=_qimMQfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 570
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				571
    Tag		"id=_qlST4PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				572
    Tag		"id=_qlTiAPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				573
    Tag		"id=_qlVXMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 33"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				574
    Tag		"id=_qlJxAPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				575
    Tag		"id=_qlMNQPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				576
    Tag		"id=_qlOpgPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				577
    Tag		"id=_qlQesPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_qioBcPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_qioogPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_qioogfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_qioogvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_qioog_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_qioohPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_qipPkPdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_qipPkfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_qipPkvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_qip2oPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_qip2ofdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_qip2ovdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_qiqdsPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_qh_IQPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_qiqdsfdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_qiqdsvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_qirEwPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_qirEwfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_qirEwvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_qirr0PdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_qirr0fdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_qirr0vdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_qirr0_dmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_qisS4fdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_qisS4vdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_qisS4_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_qis58PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_qis58fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_qis58vdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport21"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_qh_vUPdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_qis58_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_qithAPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_qithAfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_qithAvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestDelegationSlave_Statechart"  
      SID				578
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qXB1cPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestDelegationSlave_Statechart"	
		SIDHighWatermark	    578

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				579
    Tag		"id=_qXDDkPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_slaveReadIn"
    SID				580
    Tag		"id=_qh_vUfdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_slaveWriteIn"
    SID				581
    Tag		"id=_qiBkgPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_slaveParamReadIn"
    SID				582
    Tag		"id=_qiCyoPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_slaveParamWriteIn"
    SID				583
    Tag		"id=_qiEAwPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               584
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               585
	  		Tag			  "Stateflow S-Function AtomicLibrary 1"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"delegation_slaveReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"delegation_slaveWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"delegation_slaveParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"delegation_slaveParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               586
		}

  Block {
    BlockType Outport
    Name "delegation_slaveReadOut"
    SID				587
    Tag		"id=_qiAWYPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "delegation_slaveWriteOut"
    SID				588
    Tag		"id=_qiCLkPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "delegation_slaveParamReadOut"
    SID				589
    Tag		"id=_qiDZsPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "delegation_slaveParamWriteOut"
    SID				590
    Tag		"id=_qiFO4PdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "delegation_slaveReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "delegation_slaveWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "delegation_slaveParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "delegation_slaveParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "delegation_slaveReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "delegation_slaveReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "delegation_slaveWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "delegation_slaveWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "delegation_slaveParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "delegation_slaveParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "delegation_slaveParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "delegation_slaveParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qXCcgvdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationSlave_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer delegation_slave"
    SrcPort 1
    Tag				"id=_qhxs4PdmEeGH_6eRdlYQdA"
    DstBlock "delegation_slave_send"
    DstPort 1
  }
  Line {
    SrcBlock "delegation_slave_recv"
    SrcPort 1
    Tag				"id=_qhxs4fdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_slave"
    DstPort 1
  }
  Line {
    SrcBlock "TestDelegationSlave_Statechart"
    SrcPort 1
    Tag				"id=_qhyT8PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_slave"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer delegation_slave"
    SrcPort 2
    Tag				"id=_qhyT8fdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationSlave_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer delegation_slave"
    SrcPort 3
    Tag				"id=_qhyT8vdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationSlave_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestDelegationSlave_Statechart"
    SrcPort 3
    Tag				"id=_qhyT8_dmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_slave"
    DstPort 5
  }
  Line {
    SrcBlock "TestDelegationSlave_Statechart"
    SrcPort 2
    Tag				"id=_qhyT9PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_slave"
    DstPort 6
  }
  Line {
    SrcBlock "TestDelegationSlave_Statechart"
    SrcPort 4
    Tag				"id=_qhy7APdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_slave"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer delegation_slave"
    SrcPort 4
    Tag				"id=_qhy7AfdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationSlave_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer delegation_slave"
    SrcPort 5
    Tag				"id=_qhy7AvdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationSlave_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "delegation_slave_net_adress"
    SrcPort 1
    Tag				"id=_qh0wMPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_slave"
    DstPort 2
  }
  Line {
    SrcBlock "delegation_slave_receiver_net_adress"
    SrcPort 1
    Tag				"id=_qh0wMfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_slave"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestDelegationMaster"
    SID				591
    Ports [4, 1, 0, 0]
    Tag		"id=_qXK_YPdmEeGH_6eRdlYQdA"
  Position "[640, 20, 890, 650]"
	  System {
	  	Name  "TestDelegationMaster"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				592
    Tag		"id=_qXMNgfdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "delegation_master_recv"
    SID				593
    Tag		"id=_qrRnIPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "delegation_master_net_adress"
    SID				594
    Tag		"id=_qrUDYPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "delegation_master_receiver_net_adress"
    SID				595
    Tag		"id=_qrUqcPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "delegation_master_send"
    SID				596
    Tag		"id=_qrRAEPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer delegation_master"
    SID				597
    Ports [7, 5, 0, 0]
    Tag		"id=_qrTcU_dmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer delegation_master"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				598
    Tag		"id=_qrg3sPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				599
    Tag		"id=_qrnlYPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				600
    Tag		"id=_qroMcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				601
    Tag		"id=_qrhewPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				602
    Tag		"id=_qrj7APdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				603
    Tag		"id=_qrkiEPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				604
    Tag		"id=_qrlwMPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				605
    Tag		"id=_qrgQofdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				606
    Tag		"id=_qriF0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				607
    Tag		"id=_qrjT8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				608
    Tag		"id=_qrmXQPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				609
    Tag		"id=_qrm-UPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				610
    Ports [10, 10, 0, 0]
    Tag		"id=_qrpakvdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				611
    Tag		"id=_qsiLYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				612
    Tag		"id=_qsjZgPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				613
    Tag		"id=_qslOsPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				614
    Tag		"id=_qsmc0PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				615
    Tag		"id=_qsoSAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				616
    Tag		"id=_qsqHMPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				617
    Tag		"id=_qsrVUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				618
    Tag		"id=_qssjcPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				619
    Tag		"id=_qstxkPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				620
    Tag		"id=_qsu_sPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				621
    Tag		"id=_qsXMQPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				622
    Tag		"id=_qsYaYPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				623
    Tag		"id=_qsZBcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				624
    Tag		"id=_qsZogPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				625
    Tag		"id=_qsa2oPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				626
    Tag		"id=_qsbdsPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				627
    Tag		"id=_qscr0PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				628
    Tag		"id=_qsd58PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				629
    Tag		"id=_qsfIEPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				630
    Tag		"id=_qsg9QPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				631
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_qsvmwPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport22"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				632 
      Tag				"id=_qswN0PdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 632
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				633
    Tag		"id=_qu3GoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				634
    Tag		"id=_qu470PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				635
    Tag		"id=_qu7YEPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				636
    Tag		"id=_qu9NQPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				637
    Tag		"id=_qu_pgPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				638
    Tag		"id=_qvCFwPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				639
    Tag		"id=_qvD68PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				640
    Tag		"id=_qvGXMPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				641
    Tag		"id=_qvIzcPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				642
    Tag		"id=_qvMd0PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				643
    Tag		"id=_qvPhIPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 34"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				644
    Tag		"id=_queFEPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				645
    Tag		"id=_quf6QPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				646
    Tag		"id=_quiWgPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				647
    Tag		"id=_qukLsPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				648
    Tag		"id=_qumA4PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				649
    Tag		"id=_quodIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				650
    Tag		"id=_quqSUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				651
    Tag		"id=_qusHgPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				652
    Tag		"id=_quujwPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				653
    Tag		"id=_quxAAPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				654
    Tag		"id=_quy1MPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				655
    Tag		"id=_qu1RcPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_qsyqEPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_qs0fQPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_qs1GUPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_qs1GUfdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_qs1GUvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_qs1GU_dmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_qs1GVPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_qs1tYPdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_qs1tYfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_qs1tYvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_qs1tY_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_qs1tZPdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_qs2UcPdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_qs2UcfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_qs2UcvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_qs2Uc_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_qs2UdPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_qs27gPdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_qs27gfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_qs27gvdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_qs27g_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_qs27hPdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_qs3ikPdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport22"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_qs3ikfdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_qs3ikvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				656
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_qrozgPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_qrpakPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_qrpakfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_qrqBoPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				657
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_qrqBofdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_qrqosPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_qrqosfdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				658 
      Tag				"id=_qrrPwPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 658
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				659
    Tag		"id=_qtJ2cPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				660
    Tag		"id=_qtLEkPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				661
    Tag		"id=_qtM5wPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				662
    Tag		"id=_qtOH4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				663
    Tag		"id=_qtP9EPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 35"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				664
    Tag		"id=_qtGMEPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				665
    Tag		"id=_qtHaMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				666
    Tag		"id=_qtIoUPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				667 
      Tag				"id=_qrrPwfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 667
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				668
    Tag		"id=_qtaVIPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				669
    Tag		"id=_qtbjQPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				670
    Tag		"id=_qtdYcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 36"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				671
    Tag		"id=_qtSZUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				672
    Tag		"id=_qtU1kPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				673
    Tag		"id=_qtXR0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				674
    Tag		"id=_qtYf8PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_qrtE8PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_qrtE8fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_qrtE8vdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_qrtsAPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_qrtsAfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_qrtsAvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_qrtsA_dmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_qrtsBPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_qruTEPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_qruTEfdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_qruTEvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_qruTE_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_qruTFPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_qrV4kPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_qru6IPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_qru6IfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_qru6IvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_qru6I_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_qrvhMPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_qrvhMfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_qrvhMvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_qrvhM_dmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_qrvhNPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_qrwIQfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_qrwIQvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_qrwIQ_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_qrwIRPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_qrwvUPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_qrwvUfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport23"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_qrV4kfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_qrwvUvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_qrxWYPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_qrxWYfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_qrxWYvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestDelegationMaster_Statechart"  
      SID				675
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qXLmcPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestDelegationMaster_Statechart"	
		SIDHighWatermark	    675

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				676
    Tag		"id=_qXM0kPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_masterReadIn"
    SID				677
    Tag		"id=_qrV4kvdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_masterWriteIn"
    SID				678
    Tag		"id=_qrXGsPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_masterParamReadIn"
    SID				679
    Tag		"id=_qrY74PdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "delegation_masterParamWriteIn"
    SID				680
    Tag		"id=_qraKAPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               681
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               682
	  		Tag			  "Stateflow S-Function AtomicLibrary 2"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"delegation_masterReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"delegation_masterWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"delegation_masterParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"delegation_masterParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               683
		}

  Block {
    BlockType Outport
    Name "delegation_masterReadOut"
    SID				684
    Tag		"id=_qrWfoPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "delegation_masterWriteOut"
    SID				685
    Tag		"id=_qrXtwPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "delegation_masterParamReadOut"
    SID				686
    Tag		"id=_qrZi8PdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "delegation_masterParamWriteOut"
    SID				687
    Tag		"id=_qraxEPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "delegation_masterReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "delegation_masterWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "delegation_masterParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "delegation_masterParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "delegation_masterReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "delegation_masterReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "delegation_masterWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "delegation_masterWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "delegation_masterParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "delegation_masterParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "delegation_masterParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "delegation_masterParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qXMNgvdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationMaster_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer delegation_master"
    SrcPort 1
    Tag				"id=_qrSOMPdmEeGH_6eRdlYQdA"
    DstBlock "delegation_master_send"
    DstPort 1
  }
  Line {
    SrcBlock "delegation_master_recv"
    SrcPort 1
    Tag				"id=_qrS1QPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_master"
    DstPort 1
  }
  Line {
    SrcBlock "TestDelegationMaster_Statechart"
    SrcPort 1
    Tag				"id=_qrS1QfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_master"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer delegation_master"
    SrcPort 2
    Tag				"id=_qrS1QvdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationMaster_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer delegation_master"
    SrcPort 3
    Tag				"id=_qrS1Q_dmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationMaster_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestDelegationMaster_Statechart"
    SrcPort 3
    Tag				"id=_qrS1RPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_master"
    DstPort 5
  }
  Line {
    SrcBlock "TestDelegationMaster_Statechart"
    SrcPort 2
    Tag				"id=_qrS1RfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_master"
    DstPort 6
  }
  Line {
    SrcBlock "TestDelegationMaster_Statechart"
    SrcPort 4
    Tag				"id=_qrTcUPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_master"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer delegation_master"
    SrcPort 4
    Tag				"id=_qrTcUfdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationMaster_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer delegation_master"
    SrcPort 5
    Tag				"id=_qrTcUvdmEeGH_6eRdlYQdA"
    DstBlock "TestDelegationMaster_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "delegation_master_net_adress"
    SrcPort 1
    Tag				"id=_qrVRgPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_master"
    DstPort 2
  }
  Line {
    SrcBlock "delegation_master_receiver_net_adress"
    SrcPort 1
    Tag				"id=_qrVRgfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer delegation_master"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestEventListenerSlave"
    SID				688
    Ports [4, 1, 0, 0]
    Tag		"id=_qXV-gPdmEeGH_6eRdlYQdA"
  Position "[950, 20, 1200, 650]"
	  System {
	  	Name  "TestEventListenerSlave"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				689
    Tag		"id=_qXXMofdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "eventListener_slave_recv"
    SID				690
    Tag		"id=_q0bjIPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "eventListener_slave_net_adress"
    SID				691
    Tag		"id=_q0d_YPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "eventListener_slave_receiver_net_adress"
    SID				692
    Tag		"id=_q0d_YfdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "eventListener_slave_send"
    SID				693
    Tag		"id=_q0a8EPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer eventListener_slave"
    SID				694
    Ports [7, 5, 0, 0]
    Tag		"id=_q0dYUPdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer eventListener_slave"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				695
    Tag		"id=_q0oXcPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				696
    Tag		"id=_q0vsMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				697
    Tag		"id=_q0vsMfdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				698
    Tag		"id=_q0o-gPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				699
    Tag		"id=_q0rawPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				700
    Tag		"id=_q0so4PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				701
    Tag		"id=_q0tP8PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				702
    Tag		"id=_q0nwYfdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				703
    Tag		"id=_q0plkPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				704
    Tag		"id=_q0qzsPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				705
    Tag		"id=_q0t3APdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				706
    Tag		"id=_q0ueEPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				707
    Ports [10, 10, 0, 0]
    Tag		"id=_q0xhYPdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				708
    Tag		"id=_q1lZsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				709
    Tag		"id=_q1nO4PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				710
    Tag		"id=_q1odAPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				711
    Tag		"id=_q1qSMPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				712
    Tag		"id=_q1sHYPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				713
    Tag		"id=_q1tVgPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				714
    Tag		"id=_q1t8kPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				715
    Tag		"id=_q1vKsPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				716
    Tag		"id=_q1wY0PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				717
    Tag		"id=_q1w_4PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				718
    Tag		"id=_q1XXQPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				719
    Tag		"id=_q1YlYPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				720
    Tag		"id=_q1aakPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				721
    Tag		"id=_q1bosPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				722
    Tag		"id=_q1c20PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				723
    Tag		"id=_q1eE8PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				724
    Tag		"id=_q1f6IPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				725
    Tag		"id=_q1hIQPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				726
    Tag		"id=_q1iWYPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				727
    Tag		"id=_q1kLkPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				728
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_q1yOAPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport24"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				729 
      Tag				"id=_q1y1EPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 729
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				730
    Tag		"id=_q4MBwPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				731
    Tag		"id=_q4PsIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				732
    Tag		"id=_q4SvcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				733
    Tag		"id=_q4VLsPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				734
    Tag		"id=_q4Xn8PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				735
    Tag		"id=_q4ZdIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				736
    Tag		"id=_q4b5YPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				737
    Tag		"id=_q4dukPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				738
    Tag		"id=_q4gK0PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				739
    Tag		"id=_q4iAAPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				740
    Tag		"id=_q4kcQPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 37"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				741
    Tag		"id=_q3tgoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				742
    Tag		"id=_q3wj8PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				743
    Tag		"id=_q3zAMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				744
    Tag		"id=_q301YPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				745
    Tag		"id=_q33RoPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				746
    Tag		"id=_q35G0PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				747
    Tag		"id=_q368APdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				748
    Tag		"id=_q39YQPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				749
    Tag		"id=_q3_0gPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				750
    Tag		"id=_q4De4PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				751
    Tag		"id=_q4GiMPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				752
    Tag		"id=_q4JlgPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_q10qQPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_q13GgPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_q13GgfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_q13GgvdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_q13Gg_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_q13GhPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_q13tkPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_q13tkfdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_q13tkvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_q13tk_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_q13tlPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_q14UoPdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_q14UofdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_q14UovdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_q14Uo_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_q14UpPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_q147sPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_q147sfdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_q147svdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_q147s_dmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_q147tPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_q147tfdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_q15iwPdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport24"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_q15iwfdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_q15iwvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				753
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_q0w6UPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_q0w6UfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_q0w6UvdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_q0xhYfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				754
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_q0yIcPdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_q0yIcfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_q0yIcvdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				755 
      Tag				"id=_q0yvgPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 755
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				756
    Tag		"id=_q2MdsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				757
    Tag		"id=_q2Nr0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				758
    Tag		"id=_q2O58PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				759
    Tag		"id=_q2QvIPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				760
    Tag		"id=_q2R9QPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 38"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				761
    Tag		"id=_q2IzUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				762
    Tag		"id=_q2KBcPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				763
    Tag		"id=_q2LPkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				764 
      Tag				"id=_q0zWkPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 764
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				765
    Tag		"id=_q2fYoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				766
    Tag		"id=_q2h04PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				767
    Tag		"id=_q2kRIPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 39"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				768
    Tag		"id=_q2WOsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				769
    Tag		"id=_q2Yq8PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				770
    Tag		"id=_q2bHMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				771
    Tag		"id=_q2c8YPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_q01LwPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_q01LwfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_q01LwvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_q01Lw_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_q01y0PdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_q01y0fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_q01y0vdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_q01y0_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_q01y1PdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_q02Z4PdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_q02Z4fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_q02Z4vdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_q02Z4_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_q0fNgPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_q02Z5PdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_q03A8PdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_q03A8fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_q03A8vdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_q03A8_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_q03A9PdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_q03A9fdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_q03oAPdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_q03oAfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_q03oA_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_q03oBPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_q04PEPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_q04PEfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_q04PEvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_q04PE_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport25"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_q0fNgfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_q04PFPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_q042IPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_q042IfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_q042IvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestEventListenerSlave_Statechart"  
      SID				772
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qXWlkPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestEventListenerSlave_Statechart"	
		SIDHighWatermark	    772

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				773
    Tag		"id=_qXXzsfdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_slaveReadIn"
    SID				774
    Tag		"id=_q0f0kPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_slaveWriteIn"
    SID				775
    Tag		"id=_q0gboPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_slaveParamReadIn"
    SID				776
    Tag		"id=_q0hCsfdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_slaveParamWriteIn"
    SID				777
    Tag		"id=_q0iQ0PdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               778
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               779
	  		Tag			  "Stateflow S-Function AtomicLibrary 3"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"eventListener_slaveReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"eventListener_slaveWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"eventListener_slaveParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"eventListener_slaveParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               780
		}

  Block {
    BlockType Outport
    Name "eventListener_slaveReadOut"
    SID				781
    Tag		"id=_q0f0kfdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "eventListener_slaveWriteOut"
    SID				782
    Tag		"id=_q0hCsPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "eventListener_slaveParamReadOut"
    SID				783
    Tag		"id=_q0hpwPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "eventListener_slaveParamWriteOut"
    SID				784
    Tag		"id=_q0i34PdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventListener_slaveReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventListener_slaveWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventListener_slaveParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventListener_slaveParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventListener_slaveReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventListener_slaveReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventListener_slaveWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventListener_slaveWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventListener_slaveParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventListener_slaveParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventListener_slaveParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventListener_slaveParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qXXzsPdmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerSlave_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer eventListener_slave"
    SrcPort 1
    Tag				"id=_q0cKMPdmEeGH_6eRdlYQdA"
    DstBlock "eventListener_slave_send"
    DstPort 1
  }
  Line {
    SrcBlock "eventListener_slave_recv"
    SrcPort 1
    Tag				"id=_q0cKMfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_slave"
    DstPort 1
  }
  Line {
    SrcBlock "TestEventListenerSlave_Statechart"
    SrcPort 1
    Tag				"id=_q0cKMvdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_slave"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer eventListener_slave"
    SrcPort 2
    Tag				"id=_q0cKM_dmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerSlave_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer eventListener_slave"
    SrcPort 3
    Tag				"id=_q0cKNPdmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerSlave_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestEventListenerSlave_Statechart"
    SrcPort 3
    Tag				"id=_q0cxQPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_slave"
    DstPort 5
  }
  Line {
    SrcBlock "TestEventListenerSlave_Statechart"
    SrcPort 2
    Tag				"id=_q0cxQfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_slave"
    DstPort 6
  }
  Line {
    SrcBlock "TestEventListenerSlave_Statechart"
    SrcPort 4
    Tag				"id=_q0cxQvdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_slave"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer eventListener_slave"
    SrcPort 4
    Tag				"id=_q0cxQ_dmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerSlave_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer eventListener_slave"
    SrcPort 5
    Tag				"id=_q0cxRPdmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerSlave_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "eventListener_slave_net_adress"
    SrcPort 1
    Tag				"id=_q0emcPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_slave"
    DstPort 2
  }
  Line {
    SrcBlock "eventListener_slave_receiver_net_adress"
    SrcPort 1
    Tag				"id=_q0emcfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_slave"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestEventListenerMaster"
    SID				785
    Ports [4, 1, 0, 0]
    Tag		"id=_qXgWkPdmEeGH_6eRdlYQdA"
  Position "[1260, 20, 1510, 650]"
	  System {
	  	Name  "TestEventListenerMaster"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				786
    Tag		"id=_qXg9ovdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "eventListener_master_recv"
    SID				787
    Tag		"id=_q9nUUPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "eventListener_master_net_adress"
    SID				788
    Tag		"id=_q9pJgPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "eventListener_master_receiver_net_adress"
    SID				789
    Tag		"id=_q9pwkPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "eventListener_master_send"
    SID				790
    Tag		"id=_q9mtQPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer eventListener_master"
    SID				791
    Ports [7, 5, 0, 0]
    Tag		"id=_q9oidfdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer eventListener_master"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				792
    Tag		"id=_q93L8PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				793
    Tag		"id=_q99SkPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				794
    Tag		"id=_q995oPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				795
    Tag		"id=_q93zAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				796
    Tag		"id=_q96PQPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				797
    Tag		"id=_q962UPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				798
    Tag		"id=_q97dYPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				799
    Tag		"id=_q92k4fdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				800
    Tag		"id=_q94aEPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				801
    Tag		"id=_q95oMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				802
    Tag		"id=_q98EcPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				803
    Tag		"id=_q98rgPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				804
    Ports [10, 10, 0, 0]
    Tag		"id=_q9_HwvdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				805
    Tag		"id=_q-qdMPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				806
    Tag		"id=_q-rrUPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				807
    Tag		"id=_q-sSYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				808
    Tag		"id=_q-tggPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				809
    Tag		"id=_q-uuoPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				810
    Tag		"id=_q-v8wPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				811
    Tag		"id=_q-wj0PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				812
    Tag		"id=_q-xx8PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				813
    Tag		"id=_q-zAEPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				814
    Tag		"id=_q-01QPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				815
    Tag		"id=_q-gFIPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				816
    Tag		"id=_q-gsMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				817
    Tag		"id=_q-hTQPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				818
    Tag		"id=_q-ihYPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				819
    Tag		"id=_q-jvgPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				820
    Tag		"id=_q-k9oPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				821
    Tag		"id=_q-mLwPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				822
    Tag		"id=_q-nZ4PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				823
    Tag		"id=_q-oA8PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				824
    Tag		"id=_q-pPEPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				825
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_q-2DYPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport26"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				826 
      Tag				"id=_q-2DYfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 826
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				827
    Tag		"id=_rA544PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				828
    Tag		"id=_rA7uEPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				829
    Tag		"id=_rA-KUPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				830
    Tag		"id=_rA__gPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				831
    Tag		"id=_rBCbwPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				832
    Tag		"id=_rBE4APdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				833
    Tag		"id=_rBGtMPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				834
    Tag		"id=_rBJJcPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				835
    Tag		"id=_rBLlsPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				836
    Tag		"id=_rBNa4PdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				837
    Tag		"id=_rBP3IPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 40"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				838
    Tag		"id=_rAfpMPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				839
    Tag		"id=_rAiFcPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				840
    Tag		"id=_rAkhsPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				841
    Tag		"id=_rAmW4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				842
    Tag		"id=_rAoMEPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				843
    Tag		"id=_rAqBQPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				844
    Tag		"id=_rAsdgPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				845
    Tag		"id=_rAuSsPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				846
    Tag		"id=_rAwH4PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				847
    Tag		"id=_rAykIPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				848
    Tag		"id=_rA1ncPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				849
    Tag		"id=_rA3coPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_q-5GsPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_q-8KAPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_q-8KAfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_q-8KAvdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_q-8KA_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_q-8KBPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_q-8KBfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_q-8xEPdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_q-8xEfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_q-8xEvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_q-8xE_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_q-8xFPdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_q-9YIPdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_q-9YIfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_q-9YIvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_q-9YI_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_q-9_MPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_q-9_MfdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_q-9_MvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_q-9_M_dmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_q--mQPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_q--mQfdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_q--mQvdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport26"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_q-_NUPdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_q-_NUfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				850
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_q9-gsPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_q9_HwPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_q9_HwfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_q9_u0PdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				851
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_q9_u0fdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_q-AV4PdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_q-AV4fdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				852 
      Tag				"id=_q-AV4vdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 852
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				853
    Tag		"id=_q_WZsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				854
    Tag		"id=_q_Xn0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				855
    Tag		"id=_q_Y18PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				856
    Tag		"id=_q_arIPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				857
    Tag		"id=_q_b5QPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 41"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				858
    Tag		"id=_q_SIQPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				859
    Tag		"id=_q_T9cPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				860
    Tag		"id=_q_VLkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				861 
      Tag				"id=_q-A88PdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 861
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				862
    Tag		"id=_q_kcIPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				863
    Tag		"id=_q_mRUPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				864
    Tag		"id=_q_oGgPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 42"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				865
    Tag		"id=_q_eVgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				866
    Tag		"id=_q_gKsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				867
    Tag		"id=_q_hY0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				868
    Tag		"id=_q_jOAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_q-CyIPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_q-CyIfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_q-CyIvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_q-CyI_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_q-DZMPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_q-DZMfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_q-DZMvdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_q-DZM_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_q-DZNPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_q-EAQPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_q-EAQfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_q-EAQvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_q-EAQ_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_q9q-sPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_q-EnUPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_q-EnUfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_q-EnUvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_q-EnU_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_q-EnVPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_q-FOYPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_q-FOYfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_q-FOYvdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_q-FOY_dmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_q-FOZfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_q-F1cPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_q-F1cfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_q-F1cvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_q-F1c_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_q-F1dPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport27"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_q9q-sfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_q-GcgPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_q-GcgfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_q-GcgvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_q-Gcg_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestEventListenerMaster_Statechart"  
      SID				869
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qXg9oPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestEventListenerMaster_Statechart"	
		SIDHighWatermark	    869

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				870
    Tag		"id=_qXhksfdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_masterReadIn"
    SID				871
    Tag		"id=_q9q-svdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_masterWriteIn"
    SID				872
    Tag		"id=_q9sM0PdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_masterParamReadIn"
    SID				873
    Tag		"id=_q9ta8PdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "eventListener_masterParamWriteIn"
    SID				874
    Tag		"id=_q9uCAPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               875
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               876
	  		Tag			  "Stateflow S-Function AtomicLibrary 4"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"eventListener_masterReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"eventListener_masterWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"eventListener_masterParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"eventListener_masterParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               877
		}

  Block {
    BlockType Outport
    Name "eventListener_masterReadOut"
    SID				878
    Tag		"id=_q9rlwPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "eventListener_masterWriteOut"
    SID				879
    Tag		"id=_q9sz4PdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "eventListener_masterParamReadOut"
    SID				880
    Tag		"id=_q9ta8fdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "eventListener_masterParamWriteOut"
    SID				881
    Tag		"id=_q9vQIPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventListener_masterReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventListener_masterWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventListener_masterParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventListener_masterParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventListener_masterReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventListener_masterReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventListener_masterWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventListener_masterWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventListener_masterParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventListener_masterParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventListener_masterParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventListener_masterParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qXhksPdmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerMaster_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer eventListener_master"
    SrcPort 1
    Tag				"id=_q9n7YPdmEeGH_6eRdlYQdA"
    DstBlock "eventListener_master_send"
    DstPort 1
  }
  Line {
    SrcBlock "eventListener_master_recv"
    SrcPort 1
    Tag				"id=_q9n7YfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_master"
    DstPort 1
  }
  Line {
    SrcBlock "TestEventListenerMaster_Statechart"
    SrcPort 1
    Tag				"id=_q9n7YvdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_master"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer eventListener_master"
    SrcPort 2
    Tag				"id=_q9n7Y_dmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerMaster_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer eventListener_master"
    SrcPort 3
    Tag				"id=_q9n7ZPdmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerMaster_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestEventListenerMaster_Statechart"
    SrcPort 3
    Tag				"id=_q9oicPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_master"
    DstPort 5
  }
  Line {
    SrcBlock "TestEventListenerMaster_Statechart"
    SrcPort 2
    Tag				"id=_q9oicfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_master"
    DstPort 6
  }
  Line {
    SrcBlock "TestEventListenerMaster_Statechart"
    SrcPort 4
    Tag				"id=_q9oicvdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_master"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer eventListener_master"
    SrcPort 4
    Tag				"id=_q9oic_dmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerMaster_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer eventListener_master"
    SrcPort 5
    Tag				"id=_q9oidPdmEeGH_6eRdlYQdA"
    DstBlock "TestEventListenerMaster_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "eventListener_master_net_adress"
    SrcPort 1
    Tag				"id=_q9qXoPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_master"
    DstPort 2
  }
  Line {
    SrcBlock "eventListener_master_receiver_net_adress"
    SrcPort 1
    Tag				"id=_q9qXofdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer eventListener_master"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestTurnTransmission"
    SID				882
    Ports [4, 1, 0, 0]
    Tag		"id=_qXqHkPdmEeGH_6eRdlYQdA"
  Position "[20, 710, 270, 1340]"
	  System {
	  	Name  "TestTurnTransmission"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				883
    Tag		"id=_qXrVsfdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "turn_transmission_partner_recv"
    SID				884
    Tag		"id=_rGbSEPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "turn_transmission_partner_net_adress"
    SID				885
    Tag		"id=_rGduUPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "turn_transmission_partner_receiver_net_adress"
    SID				886
    Tag		"id=_rGeVYPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "turn_transmission_partner_send"
    SID				887
    Tag		"id=_rGarAPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer turn_transmission_partner"
    SID				888
    Ports [7, 5, 0, 0]
    Tag		"id=_rGdHQvdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer turn_transmission_partner"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				889
    Tag		"id=_rGp7kPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				890
    Tag		"id=_rGvbIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				891
    Tag		"id=_rGwCMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				892
    Tag		"id=_rGqioPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				893
    Tag		"id=_rGsX0PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				894
    Tag		"id=_rGs-4PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				895
    Tag		"id=_rGtl8PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				896
    Tag		"id=_rGpUgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				897
    Tag		"id=_rGrJsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				898
    Tag		"id=_rGrwwPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				899
    Tag		"id=_rGuNAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				900
    Tag		"id=_rGu0EPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				901
    Ports [10, 10, 0, 0]
    Tag		"id=_rGxQUvdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				902
    Tag		"id=_rHclwPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				903
    Tag		"id=_rHdz4PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				904
    Tag		"id=_rHfCAPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				905
    Tag		"id=_rHfpEPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				906
    Tag		"id=_rHg3MPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				907
    Tag		"id=_rHiFUPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				908
    Tag		"id=_rHjTcPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				909
    Tag		"id=_rHkhkPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				910
    Tag		"id=_rHlIoPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				911
    Tag		"id=_rHmWwPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				912
    Tag		"id=_rHRmoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				913
    Tag		"id=_rHS0wPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				914
    Tag		"id=_rHTb0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				915
    Tag		"id=_rHUp8PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				916
    Tag		"id=_rHVRAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				917
    Tag		"id=_rHWfIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				918
    Tag		"id=_rHXGMPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				919
    Tag		"id=_rHYUUPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				920
    Tag		"id=_rHZicPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				921
    Tag		"id=_rHawkPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				922
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_rHoL8PdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport28"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				923 
      Tag				"id=_rHoL8fdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 923
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				924
    Tag		"id=_rJ1LYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				925
    Tag		"id=_rJ3noPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				926
    Tag		"id=_rJ5c0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				927
    Tag		"id=_rJ7SAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				928
    Tag		"id=_rKM-0PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				929
    Tag		"id=_rKQpMPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				930
    Tag		"id=_rKTsgPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				931
    Tag		"id=_rKXW4PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				932
    Tag		"id=_rKaaMPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				933
    Tag		"id=_rKddgPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				934
    Tag		"id=_rKhH4PdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 43"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				935
    Tag		"id=_rJZGgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				936
    Tag		"id=_rJa7sPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				937
    Tag		"id=_rJcw4PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				938
    Tag		"id=_rJemEPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				939
    Tag		"id=_rJgbQPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				940
    Tag		"id=_rJi3gPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				941
    Tag		"id=_rJkssPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				942
    Tag		"id=_rJnI8PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				943
    Tag		"id=_rJplMPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				944
    Tag		"id=_rJsogPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				945
    Tag		"id=_rJvr0PdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				946
    Tag		"id=_rJyvIPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_rHqoMPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_rHsdYPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_rHtEcPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_rHtEcfdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_rHtEcvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_rHtrgPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_rHtrgfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_rHtrgvdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_rHtrg_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_rHtrhPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_rHuSkPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_rHuSkfdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_rHuSkvdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_rHuSk_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_rHuSlPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_rHu5oPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_rHu5ofdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_rHu5ovdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_rHu5o_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_rHu5pPdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_rHu5pfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_rHvgsPdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_rHvgsfdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport28"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rHvgsvdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_rHvgs_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				947
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_rGwpQPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_rGxQUPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_rGxQUfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_rGx3YPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				948
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_rGx3YfdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_rGyecPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_rGyecfdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				949 
      Tag				"id=_rGzFgPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 949
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				950
    Tag		"id=_rIJJUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				951
    Tag		"id=_rIKXcPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				952
    Tag		"id=_rIMMoPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				953
    Tag		"id=_rIOB0PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				954
    Tag		"id=_rIQeEPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 44"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				955
    Tag		"id=_rIDCsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				956
    Tag		"id=_rIE34PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				957
    Tag		"id=_rIHUIPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				958 
      Tag				"id=_rGzFgfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 958
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				959
    Tag		"id=_rIa2IPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				960
    Tag		"id=_rIdSYPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				961
    Tag		"id=_rIfHkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 45"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				962
    Tag		"id=_rIUIcPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				963
    Tag		"id=_rIWksPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				964
    Tag		"id=_rIXy0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				965
    Tag		"id=_rIZoAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_rG06sPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_rG06sfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_rG06svdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_rG1hwPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_rG1hwfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_rG1hwvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_rG1hw_dmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_rG1hxPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_rG1hxfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_rG2I0PdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_rG2I0fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_rG2I0vdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_rG2I0_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_rGfjgPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_rG2I1PdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_rG2v4PdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_rG2v4fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_rG2v4vdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_rG2v4_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_rG2v5PdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_rG2v5fdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_rG3W8PdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_rG3W8fdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_rG3W8_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_rG3W9PdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_rG3-APdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_rG3-AfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_rG3-AvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_rG3-A_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport29"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rGfjgfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_rG3-BPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_rG4lEPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_rG4lEfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_rG4lEvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestTurnTransmission_Statechart"  
      SID				966
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qXquoPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestTurnTransmission_Statechart"	
		SIDHighWatermark	    966

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				967
    Tag		"id=_qXrVs_dmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "turn_transmission_partnerReadIn"
    SID				968
    Tag		"id=_rGfjgvdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "turn_transmission_partnerWriteIn"
    SID				969
    Tag		"id=_rGgxoPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "turn_transmission_partnerParamReadIn"
    SID				970
    Tag		"id=_rGhYsfdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "turn_transmission_partnerParamWriteIn"
    SID				971
    Tag		"id=_rGim0PdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               972
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               973
	  		Tag			  "Stateflow S-Function AtomicLibrary 6"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"turn_transmission_partnerReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"turn_transmission_partnerWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"turn_transmission_partnerParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"turn_transmission_partnerParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               974
		}

  Block {
    BlockType Outport
    Name "turn_transmission_partnerReadOut"
    SID				975
    Tag		"id=_rGgKkPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "turn_transmission_partnerWriteOut"
    SID				976
    Tag		"id=_rGhYsPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "turn_transmission_partnerParamReadOut"
    SID				977
    Tag		"id=_rGh_wPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "turn_transmission_partnerParamWriteOut"
    SID				978
    Tag		"id=_rGjN4PdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "turn_transmission_partnerReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "turn_transmission_partnerWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "turn_transmission_partnerParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "turn_transmission_partnerParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "turn_transmission_partnerReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "turn_transmission_partnerReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "turn_transmission_partnerWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "turn_transmission_partnerWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "turn_transmission_partnerParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "turn_transmission_partnerParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "turn_transmission_partnerParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "turn_transmission_partnerParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qXrVsvdmEeGH_6eRdlYQdA"
    DstBlock "TestTurnTransmission_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer turn_transmission_partner"
    SrcPort 1
    Tag				"id=_rGb5IPdmEeGH_6eRdlYQdA"
    DstBlock "turn_transmission_partner_send"
    DstPort 1
  }
  Line {
    SrcBlock "turn_transmission_partner_recv"
    SrcPort 1
    Tag				"id=_rGb5IfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer turn_transmission_partner"
    DstPort 1
  }
  Line {
    SrcBlock "TestTurnTransmission_Statechart"
    SrcPort 1
    Tag				"id=_rGcgMPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer turn_transmission_partner"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer turn_transmission_partner"
    SrcPort 2
    Tag				"id=_rGcgMfdmEeGH_6eRdlYQdA"
    DstBlock "TestTurnTransmission_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer turn_transmission_partner"
    SrcPort 3
    Tag				"id=_rGcgMvdmEeGH_6eRdlYQdA"
    DstBlock "TestTurnTransmission_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestTurnTransmission_Statechart"
    SrcPort 3
    Tag				"id=_rGcgM_dmEeGH_6eRdlYQdA"
    DstBlock "Link Layer turn_transmission_partner"
    DstPort 5
  }
  Line {
    SrcBlock "TestTurnTransmission_Statechart"
    SrcPort 2
    Tag				"id=_rGcgNPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer turn_transmission_partner"
    DstPort 6
  }
  Line {
    SrcBlock "TestTurnTransmission_Statechart"
    SrcPort 4
    Tag				"id=_rGcgNfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer turn_transmission_partner"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer turn_transmission_partner"
    SrcPort 4
    Tag				"id=_rGdHQPdmEeGH_6eRdlYQdA"
    DstBlock "TestTurnTransmission_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer turn_transmission_partner"
    SrcPort 5
    Tag				"id=_rGdHQfdmEeGH_6eRdlYQdA"
    DstBlock "TestTurnTransmission_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "turn_transmission_partner_net_adress"
    SrcPort 1
    Tag				"id=_rGe8cPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer turn_transmission_partner"
    DstPort 2
  }
  Line {
    SrcBlock "turn_transmission_partner_receiver_net_adress"
    SrcPort 1
    Tag				"id=_rGe8cfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer turn_transmission_partner"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestRequestInformationProvider"
    SID				979
    Ports [4, 1, 0, 0]
    Tag		"id=_qX1GsPdmEeGH_6eRdlYQdA"
  Position "[330, 710, 580, 1340]"
	  System {
	  	Name  "TestRequestInformationProvider"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				980
    Tag		"id=_qX2U0fdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "requestinformation_provider_recv"
    SID				981
    Tag		"id=_rPfHcPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "requestinformation_provider_net_adress"
    SID				982
    Tag		"id=_rPiKwPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "requestinformation_provider_receiver_net_adress"
    SID				983
    Tag		"id=_rPjY4PdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "requestinformation_provider_send"
    SID				984
    Tag		"id=_rPegYPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer requestinformation_provider"
    SID				985
    Ports [7, 5, 0, 0]
    Tag		"id=_rPhjsPdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer requestinformation_provider"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				986
    Tag		"id=_rPz3kPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				987
    Tag		"id=_rP7zYPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				988
    Tag		"id=_rP8acPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				989
    Tag		"id=_rP1FsPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				990
    Tag		"id=_rP4JAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				991
    Tag		"id=_rP4wEPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				992
    Tag		"id=_rP5XIPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				993
    Tag		"id=_rPzQgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				994
    Tag		"id=_rP2T0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				995
    Tag		"id=_rP264PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				996
    Tag		"id=_rP5-MPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				997
    Tag		"id=_rP7MUPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				998
    Ports [10, 10, 0, 0]
    Tag		"id=_rP9okfdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				999
    Tag		"id=_rQl6sPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1000
    Tag		"id=_rQnI0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1001
    Tag		"id=_rQnv4PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1002
    Tag		"id=_rQo-APdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1003
    Tag		"id=_rQqMIPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1004
    Tag		"id=_rQqzMPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1005
    Tag		"id=_rQsBUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1006
    Tag		"id=_rQtPcPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1007
    Tag		"id=_rQudkPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1008
    Tag		"id=_rQvrsPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				1009
    Tag		"id=_rQcwwPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				1010
    Tag		"id=_rQdX0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				1011
    Tag		"id=_rQel8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				1012
    Tag		"id=_rQfNAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				1013
    Tag		"id=_rQgbIPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				1014
    Tag		"id=_rQhCMPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1015
    Tag		"id=_rQiQUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1016
    Tag		"id=_rQi3YPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1017
    Tag		"id=_rQkFgPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				1018
    Tag		"id=_rQkskPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1019
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_rQwSwPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport30"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				1020 
      Tag				"id=_rQw50PdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 1020
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1021
    Tag		"id=_rTFOAPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1022
    Tag		"id=_rTHqQPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1023
    Tag		"id=_rTJfcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1024
    Tag		"id=_rTL7sPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				1025
    Tag		"id=_rTNw4PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1026
    Tag		"id=_rTQNIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1027
    Tag		"id=_rTSCUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1028
    Tag		"id=_rTUekPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1029
    Tag		"id=_rTWTwPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1030
    Tag		"id=_rTYwAPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				1031
    Tag		"id=_rTalMPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 46"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				1032
    Tag		"id=_rSq-UPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				1033
    Tag		"id=_rStakPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				1034
    Tag		"id=_rSvPwPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				1035
    Tag		"id=_rSxE8PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				1036
    Tag		"id=_rSy6IPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1037
    Tag		"id=_rS1WYPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1038
    Tag		"id=_rS3yoPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1039
    Tag		"id=_rS6O4PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				1040
    Tag		"id=_rS8rIPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				1041
    Tag		"id=_rS-gUPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				1042
    Tag		"id=_rTA8kPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				1043
    Tag		"id=_rTDY0PdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_rQzWEPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_rQ1yUPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_rQ1yUfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_rQ1yUvdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_rQ1yU_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_rQ1yVPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_rQ2ZYPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_rQ2ZYfdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_rQ2ZYvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_rQ2ZY_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_rQ2ZZPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_rQ2ZZfdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_rQ3AcPdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_rQ3AcfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_rQ3AcvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_rQ3Ac_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_rQ3AdPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_rQ3ngPdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_rQ3ngfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_rQ3ngvdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_rQ3ng_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_rQ3nhPdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_rQ4OkPdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport30"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rQ4OkfdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_rQ4OkvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				1044
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_rP9BgPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_rP9BgfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_rP9okPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_rP-PoPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1045
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_rP-PofdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_rP-PovdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_rP-2sPdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				1046 
      Tag				"id=_rP-2sfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 1046
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				1047
    Tag		"id=_rRMXoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				1048
    Tag		"id=_rROM0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				1049
    Tag		"id=_rRPa8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1050
    Tag		"id=_rRQpEPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1051
    Tag		"id=_rRSeQPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 47"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1052
    Tag		"id=_rRIGMPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1053
    Tag		"id=_rRJUUPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				1054
    Tag		"id=_rRLJgPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				1055 
      Tag				"id=_rP_dwPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 1055
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				1056
    Tag		"id=_rRddYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1057
    Tag		"id=_rRergPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1058
    Tag		"id=_rRggsPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 48"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				1059
    Tag		"id=_rRWvsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				1060
    Tag		"id=_rRYk4PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1061
    Tag		"id=_rRZzAPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1062
    Tag		"id=_rRboMPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_rQBS8PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_rQBS8fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_rQBS8vdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_rQBS8_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_rQBS9PdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_rQBS9fdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_rQB6APdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_rQB6AfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_rQB6AvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_rQB6A_dmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_rQB6BPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_rQChEPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_rQChEfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_rPknAPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_rQChEvdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_rQChE_dmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_rQChFPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_rQChFfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_rQDIIPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_rQDIIfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_rQDIIvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_rQDII_dmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_rQDIJPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_rQDvMfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_rQDvMvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_rQDvM_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_rQDvNPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_rQDvNfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_rQEWQPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport31"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rPknAfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_rQEWQfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_rQEWQvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_rQEWQ_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_rQEWRPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestRequestInformationProvider_Statechart"  
      SID				1063
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qX1twPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestRequestInformationProvider_Statechart"	
		SIDHighWatermark	    1063

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				1064
    Tag		"id=_qX2U0_dmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_providerReadIn"
    SID				1065
    Tag		"id=_rPlOEPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_providerWriteIn"
    SID				1066
    Tag		"id=_rPmcMPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_providerParamReadIn"
    SID				1067
    Tag		"id=_rPoRYPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_providerParamWriteIn"
    SID				1068
    Tag		"id=_rPpfgPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               1069
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               1070
	  		Tag			  "Stateflow S-Function AtomicLibrary 8"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"requestinformation_providerReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"requestinformation_providerWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"requestinformation_providerParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"requestinformation_providerParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               1071
		}

  Block {
    BlockType Outport
    Name "requestinformation_providerReadOut"
    SID				1072
    Tag		"id=_rPl1IPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "requestinformation_providerWriteOut"
    SID				1073
    Tag		"id=_rPnDQPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "requestinformation_providerParamReadOut"
    SID				1074
    Tag		"id=_rPo4cPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "requestinformation_providerParamWriteOut"
    SID				1075
    Tag		"id=_rPqGkPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "requestinformation_providerReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "requestinformation_providerWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "requestinformation_providerParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "requestinformation_providerParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "requestinformation_providerReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "requestinformation_providerReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "requestinformation_providerWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "requestinformation_providerWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "requestinformation_providerParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "requestinformation_providerParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "requestinformation_providerParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "requestinformation_providerParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qX2U0vdmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformationProvider_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer requestinformation_provider"
    SrcPort 1
    Tag				"id=_rPfugPdmEeGH_6eRdlYQdA"
    DstBlock "requestinformation_provider_send"
    DstPort 1
  }
  Line {
    SrcBlock "requestinformation_provider_recv"
    SrcPort 1
    Tag				"id=_rPfugfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_provider"
    DstPort 1
  }
  Line {
    SrcBlock "TestRequestInformationProvider_Statechart"
    SrcPort 1
    Tag				"id=_rPgVkPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_provider"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer requestinformation_provider"
    SrcPort 2
    Tag				"id=_rPgVkfdmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformationProvider_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer requestinformation_provider"
    SrcPort 3
    Tag				"id=_rPgVkvdmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformationProvider_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestRequestInformationProvider_Statechart"
    SrcPort 3
    Tag				"id=_rPgVk_dmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_provider"
    DstPort 5
  }
  Line {
    SrcBlock "TestRequestInformationProvider_Statechart"
    SrcPort 2
    Tag				"id=_rPg8oPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_provider"
    DstPort 6
  }
  Line {
    SrcBlock "TestRequestInformationProvider_Statechart"
    SrcPort 4
    Tag				"id=_rPg8ofdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_provider"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer requestinformation_provider"
    SrcPort 4
    Tag				"id=_rPg8ovdmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformationProvider_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer requestinformation_provider"
    SrcPort 5
    Tag				"id=_rPg8o_dmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformationProvider_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "requestinformation_provider_net_adress"
    SrcPort 1
    Tag				"id=_rPj_8PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_provider"
    DstPort 2
  }
  Line {
    SrcBlock "requestinformation_provider_receiver_net_adress"
    SrcPort 1
    Tag				"id=_rPj_8fdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_provider"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestRequestInformaitonUser"
    SID				1076
    Ports [4, 1, 0, 0]
    Tag		"id=_qX_ewPdmEeGH_6eRdlYQdA"
  Position "[640, 710, 890, 1340]"
	  System {
	  	Name  "TestRequestInformaitonUser"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				1077
    Tag		"id=_qYAs4PdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "requestinformation_user_recv"
    SID				1078
    Tag		"id=_rYAxUPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "requestinformation_user_net_adress"
    SID				1079
    Tag		"id=_rYCmgPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "requestinformation_user_receiver_net_adress"
    SID				1080
    Tag		"id=_rYDNkPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "requestinformation_user_send"
    SID				1081
    Tag		"id=_rYAKQPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer requestinformation_user"
    SID				1082
    Ports [7, 5, 0, 0]
    Tag		"id=_rYB_dPdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer requestinformation_user"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				1083
    Tag		"id=_rYOzwPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				1084
    Tag		"id=_rYWvkPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				1085
    Tag		"id=_rYX9sPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				1086
    Tag		"id=_rYPa0PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				1087
    Tag		"id=_rYRQAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				1088
    Tag		"id=_rYSeIPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				1089
    Tag		"id=_rYTsQPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				1090
    Tag		"id=_rYOMsPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				1091
    Tag		"id=_rYQB4PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				1092
    Tag		"id=_rYQo8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				1093
    Tag		"id=_rYUTUPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				1094
    Tag		"id=_rYVhcPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				1095
    Ports [10, 10, 0, 0]
    Tag		"id=_rYZy4fdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				1096
    Tag		"id=_rZHkkPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1097
    Tag		"id=_rZILoPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1098
    Tag		"id=_rZKA0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1099
    Tag		"id=_rZLO8PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1100
    Tag		"id=_rZMdEPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1101
    Tag		"id=_rZNrMPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1102
    Tag		"id=_rZOSQPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1103
    Tag		"id=_rZPgYPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1104
    Tag		"id=_rZRVkPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1105
    Tag		"id=_rZSjsPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				1106
    Tag		"id=_rY9zkPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				1107
    Tag		"id=_rY-aoPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				1108
    Tag		"id=_rY_owPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				1109
    Tag		"id=_rZAP0PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				1110
    Tag		"id=_rZBd8PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				1111
    Tag		"id=_rZCFAPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1112
    Tag		"id=_rZDTIPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1113
    Tag		"id=_rZEhQPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1114
    Tag		"id=_rZFIUPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				1115
    Tag		"id=_rZGWcPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1116
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_rZTx0PdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport32"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				1117 
      Tag				"id=_rZTx0fdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 1117
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1118
    Tag		"id=_rbh_YPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1119
    Tag		"id=_rbj0kPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1120
    Tag		"id=_rbmQ0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1121
    Tag		"id=_rboGAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				1122
    Tag		"id=_rbqiQPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1123
    Tag		"id=_rbsXcPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1124
    Tag		"id=_rbuzsPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1125
    Tag		"id=_rbwo4PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1126
    Tag		"id=_rbzFIPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1127
    Tag		"id=_rb06UPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				1128
    Tag		"id=_rb3WkPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 49"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				1129
    Tag		"id=_rbIWwPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				1130
    Tag		"id=_rbKL8PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				1131
    Tag		"id=_rbMoMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				1132
    Tag		"id=_rbOdYPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				1133
    Tag		"id=_rbQSkPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1134
    Tag		"id=_rbSu0PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1135
    Tag		"id=_rbUkAPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1136
    Tag		"id=_rbWZMPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				1137
    Tag		"id=_rbYOYPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				1138
    Tag		"id=_rbbRsPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				1139
    Tag		"id=_rbdt8PdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				1140
    Tag		"id=_rbgKMPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_rZWOEPdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_rZYqUPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_rZYqUfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_rZYqUvdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_rZYqU_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_rZYqVPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_rZZRYPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_rZZRYfdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_rZZRYvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_rZZRY_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_rZZRZPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_rZZ4cPdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_rZZ4cfdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_rZZ4cvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_rZZ4c_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_rZZ4dPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_rZafgPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_rZafgfdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_rZafgvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_rZafg_dmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_rZafhPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_rZafhfdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_rZbGkPdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport32"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rZbGkfdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_rZbGkvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				1141
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_rYZL0PdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_rYZL0fdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_rYZy4PdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_rYaZ8PdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1142
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_rYbBAPdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_rYbBAfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_rYboEPdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				1143 
      Tag				"id=_rYboEfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 1143
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				1144
    Tag		"id=_rZ9SEPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				1145
    Tag		"id=_rZ-gMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				1146
    Tag		"id=_raAVYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1147
    Tag		"id=_raBjgPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1148
    Tag		"id=_raDYsPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 50"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1149
    Tag		"id=_rZ5AoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1150
    Tag		"id=_rZ6OwPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				1151
    Tag		"id=_rZ8D8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				1152 
      Tag				"id=_rYcPIPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 1152
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				1153
    Tag		"id=_raL7kPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1154
    Tag		"id=_raNwwPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1155
    Tag		"id=_raPl8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 51"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				1156
    Tag		"id=_raF08PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				1157
    Tag		"id=_raHqIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1158
    Tag		"id=_raI4QPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1159
    Tag		"id=_raKtcPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_rYerYPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_rYfScPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_rYfScfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_rYfScvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_rYf5gPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_rYf5gfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_rYf5gvdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_rYf5g_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_rYggkPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_rYggkfdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_rYggkvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_rYhHoPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_rYhHofdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_rYEbsPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_rYhHovdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_rYhHo_dmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_rYhusPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_rYhusfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_rYhusvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_rYhus_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_rYiVwPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_rYiVwfdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_rYiVwvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_rYi80fdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_rYi80vdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_rYi80_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_rYjj4PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_rYjj4fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_rYjj4vdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport33"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rYEbsfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_rYkK8PdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_rYkK8fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_rYkK8vdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_rYkK8_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestRequestInformaitonUser_Statechart"  
      SID				1160
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qYAF0PdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestRequestInformaitonUser_Statechart"	
		SIDHighWatermark	    1160

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				1161
    Tag		"id=_qYAs4vdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_userReadIn"
    SID				1162
    Tag		"id=_rYEbsvdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_userWriteIn"
    SID				1163
    Tag		"id=_rYFp0PdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_userParamReadIn"
    SID				1164
    Tag		"id=_rYGQ4fdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "requestinformation_userParamWriteIn"
    SID				1165
    Tag		"id=_rYHfAfdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               1166
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               1167
	  		Tag			  "Stateflow S-Function AtomicLibrary 7"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"requestinformation_userReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"requestinformation_userWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"requestinformation_userParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"requestinformation_userParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               1168
		}

  Block {
    BlockType Outport
    Name "requestinformation_userReadOut"
    SID				1169
    Tag		"id=_rYFCwPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "requestinformation_userWriteOut"
    SID				1170
    Tag		"id=_rYGQ4PdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "requestinformation_userParamReadOut"
    SID				1171
    Tag		"id=_rYHfAPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "requestinformation_userParamWriteOut"
    SID				1172
    Tag		"id=_rYIGEPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "requestinformation_userReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "requestinformation_userWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "requestinformation_userParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "requestinformation_userParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "requestinformation_userReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "requestinformation_userReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "requestinformation_userWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "requestinformation_userWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "requestinformation_userParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "requestinformation_userParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "requestinformation_userParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "requestinformation_userParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qYAs4fdmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformaitonUser_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer requestinformation_user"
    SrcPort 1
    Tag				"id=_rYAxUfdmEeGH_6eRdlYQdA"
    DstBlock "requestinformation_user_send"
    DstPort 1
  }
  Line {
    SrcBlock "requestinformation_user_recv"
    SrcPort 1
    Tag				"id=_rYBYYPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_user"
    DstPort 1
  }
  Line {
    SrcBlock "TestRequestInformaitonUser_Statechart"
    SrcPort 1
    Tag				"id=_rYBYYfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_user"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer requestinformation_user"
    SrcPort 2
    Tag				"id=_rYBYYvdmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformaitonUser_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer requestinformation_user"
    SrcPort 3
    Tag				"id=_rYBYY_dmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformaitonUser_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestRequestInformaitonUser_Statechart"
    SrcPort 3
    Tag				"id=_rYBYZPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_user"
    DstPort 5
  }
  Line {
    SrcBlock "TestRequestInformaitonUser_Statechart"
    SrcPort 2
    Tag				"id=_rYB_cPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_user"
    DstPort 6
  }
  Line {
    SrcBlock "TestRequestInformaitonUser_Statechart"
    SrcPort 4
    Tag				"id=_rYB_cfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_user"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer requestinformation_user"
    SrcPort 4
    Tag				"id=_rYB_cvdmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformaitonUser_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer requestinformation_user"
    SrcPort 5
    Tag				"id=_rYB_c_dmEeGH_6eRdlYQdA"
    DstBlock "TestRequestInformaitonUser_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "requestinformation_user_net_adress"
    SrcPort 1
    Tag				"id=_rYD0oPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_user"
    DstPort 2
  }
  Line {
    SrcBlock "requestinformation_user_receiver_net_adress"
    SrcPort 1
    Tag				"id=_rYD0ofdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer requestinformation_user"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestStartStopSlave"
    SID				1173
    Ports [4, 1, 0, 0]
    Tag		"id=_qYNhMPdmEeGH_6eRdlYQdA"
  Position "[950, 710, 1200, 1340]"
	  System {
	  	Name  "TestStartStopSlave"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				1174
    Tag		"id=_qYOvUfdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "startStop_Slave_recv"
    SID				1175
    Tag		"id=_rgzg8PdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "startStop_Slave_net_adress"
    SID				1176
    Tag		"id=_rg19MPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "startStop_Slave_receiver_net_adress"
    SID				1177
    Tag		"id=_rg2kQPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "startStop_Slave_send"
    SID				1178
    Tag		"id=_rgy54PdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer startStop_Slave"
    SID				1179
    Ports [7, 5, 0, 0]
    Tag		"id=_rg1WIvdmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer startStop_Slave"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				1180
    Tag		"id=_rhBjYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				1181
    Tag		"id=_rhHqAPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				1182
    Tag		"id=_rhI4IPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				1183
    Tag		"id=_rhCKcPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				1184
    Tag		"id=_rhD_oPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				1185
    Tag		"id=_rhFNwPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				1186
    Tag		"id=_rhF00PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				1187
    Tag		"id=_rhA8UfdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				1188
    Tag		"id=_rhCxgPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				1189
    Tag		"id=_rhDYkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				1190
    Tag		"id=_rhGb4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				1191
    Tag		"id=_rhHC8PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				1192
    Ports [10, 10, 0, 0]
    Tag		"id=_rhKGQfdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				1193
    Tag		"id=_riEFMPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1194
    Tag		"id=_riFTUPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1195
    Tag		"id=_riGhcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1196
    Tag		"id=_riHvkPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1197
    Tag		"id=_riI9sPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1198
    Tag		"id=_riKL0PdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1199
    Tag		"id=_riKy4PdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1200
    Tag		"id=_riMBAPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1201
    Tag		"id=_riN2MPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1202
    Tag		"id=_riPrYPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				1203
    Tag		"id=_rh5tIPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				1204
    Tag		"id=_rh67QPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				1205
    Tag		"id=_rh8JYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				1206
    Tag		"id=_rh8wcPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				1207
    Tag		"id=_rh9-kPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				1208
    Tag		"id=_rh-loPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1209
    Tag		"id=_rh_zwPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1210
    Tag		"id=_riBB4PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1211
    Tag		"id=_riCQAPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				1212
    Tag		"id=_riC3EPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1213
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_riRgkPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport34"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				1214 
      Tag				"id=_riRgkfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 1214
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1215
    Tag		"id=_rkUH8PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1216
    Tag		"id=_rkV9IPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1217
    Tag		"id=_rkYZYPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1218
    Tag		"id=_rka1oPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				1219
    Tag		"id=_rkcq0PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1220
    Tag		"id=_rkfHEPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1221
    Tag		"id=_rkhjUPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1222
    Tag		"id=_rkjYgPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1223
    Tag		"id=_rkmb0PdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1224
    Tag		"id=_rkpfIPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				1225
    Tag		"id=_rktJgPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 52"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				1226
    Tag		"id=_rj7GYPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				1227
    Tag		"id=_rj87kPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				1228
    Tag		"id=_rj_X0PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				1229
    Tag		"id=_rkBNAPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				1230
    Tag		"id=_rkDCMPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1231
    Tag		"id=_rkFecPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1232
    Tag		"id=_rkHToPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1233
    Tag		"id=_rkJv4PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				1234
    Tag		"id=_rkLlEPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				1235
    Tag		"id=_rkNaQPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				1236
    Tag		"id=_rkP2gPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				1237
    Tag		"id=_rkRrsPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_riT80PdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_riWZEPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_riWZEfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_riWZEvdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_riWZE_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_riWZFPdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_riXAIPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_riXAIfdmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_riXAIvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_riXAI_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_riXAJPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_riXAJfdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_riXnMPdmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_riXnMfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_riXnMvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_riXnM_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_riXnNPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_riYOQPdmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_riYOQfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_riYOQvdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_riYOQ_dmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_riYORPdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_riY1UPdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport34"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_riY1UfdmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_riY1UvdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				1238
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_rhJfMPdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_rhJfMfdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_rhKGQPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_rhKtUPdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1239
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_rhKtUfdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_rhKtUvdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_rhLUYPdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				1240 
      Tag				"id=_rhLUYfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 1240
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				1241
    Tag		"id=_risXUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				1242
    Tag		"id=_riuMgPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				1243
    Tag		"id=_rivaoPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1244
    Tag		"id=_riwowPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1245
    Tag		"id=_rix24PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 53"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1246
    Tag		"id=_rioF4PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1247
    Tag		"id=_rip7EPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				1248
    Tag		"id=_rirJMPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				1249 
      Tag				"id=_rhL7cPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 1249
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				1250
    Tag		"id=_ri7n4PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1251
    Tag		"id=_ri9dEPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1252
    Tag		"id=_ri_SQPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 54"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				1253
    Tag		"id=_ri06MPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				1254
    Tag		"id=_ri2IUPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1255
    Tag		"id=_ri39gPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1256
    Tag		"id=_ri5LoPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_rhNJkPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_rhNwoPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_rhNwofdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_rhNwovdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_rhNwo_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_rhNwpPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_rhOXsPdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_rhOXsfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_rhOXsvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_rhOXs_dmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_rhOXtPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_rhOXtfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_rhO-wPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_rg3yYPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_rhO-wfdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_rhO-wvdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_rhO-w_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_rhO-xPdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_rhPl0PdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_rhPl0fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_rhPl0vdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_rhPl0_dmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_rhPl1PdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_rhQM4PdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_rhQM4fdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_rhQM4vdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_rhQM4_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_rhQM5PdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_rhQM5fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport35"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rg3yYfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_rhQz8PdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_rhQz8fdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_rhQz8vdmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_rhQz8_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestStartStopSlave_Statechart"  
      SID				1257
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qYOIQPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestStartStopSlave_Statechart"	
		SIDHighWatermark	    1257

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				1258
    Tag		"id=_qYOvU_dmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_SlaveReadIn"
    SID				1259
    Tag		"id=_rg3yYvdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_SlaveWriteIn"
    SID				1260
    Tag		"id=_rg5AgPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_SlaveParamReadIn"
    SID				1261
    Tag		"id=_rg5nkPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_SlaveParamWriteIn"
    SID				1262
    Tag		"id=_rg61sPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               1263
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               1264
	  		Tag			  "Stateflow S-Function AtomicLibrary 10"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"startStop_SlaveReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"startStop_SlaveWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"startStop_SlaveParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"startStop_SlaveParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               1265
		}

  Block {
    BlockType Outport
    Name "startStop_SlaveReadOut"
    SID				1266
    Tag		"id=_rg4ZcPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "startStop_SlaveWriteOut"
    SID				1267
    Tag		"id=_rg5AgfdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "startStop_SlaveParamReadOut"
    SID				1268
    Tag		"id=_rg6OoPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "startStop_SlaveParamWriteOut"
    SID				1269
    Tag		"id=_rg7cwPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "startStop_SlaveReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "startStop_SlaveWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "startStop_SlaveParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "startStop_SlaveParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "startStop_SlaveReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "startStop_SlaveReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "startStop_SlaveWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "startStop_SlaveWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "startStop_SlaveParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "startStop_SlaveParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "startStop_SlaveParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "startStop_SlaveParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qYOvUvdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopSlave_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer startStop_Slave"
    SrcPort 1
    Tag				"id=_rg0IAPdmEeGH_6eRdlYQdA"
    DstBlock "startStop_Slave_send"
    DstPort 1
  }
  Line {
    SrcBlock "startStop_Slave_recv"
    SrcPort 1
    Tag				"id=_rg0IAfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Slave"
    DstPort 1
  }
  Line {
    SrcBlock "TestStartStopSlave_Statechart"
    SrcPort 1
    Tag				"id=_rg0vEPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Slave"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer startStop_Slave"
    SrcPort 2
    Tag				"id=_rg0vEfdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopSlave_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer startStop_Slave"
    SrcPort 3
    Tag				"id=_rg0vEvdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopSlave_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestStartStopSlave_Statechart"
    SrcPort 3
    Tag				"id=_rg0vE_dmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Slave"
    DstPort 5
  }
  Line {
    SrcBlock "TestStartStopSlave_Statechart"
    SrcPort 2
    Tag				"id=_rg0vFPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Slave"
    DstPort 6
  }
  Line {
    SrcBlock "TestStartStopSlave_Statechart"
    SrcPort 4
    Tag				"id=_rg0vFfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Slave"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer startStop_Slave"
    SrcPort 4
    Tag				"id=_rg1WIPdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopSlave_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer startStop_Slave"
    SrcPort 5
    Tag				"id=_rg1WIfdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopSlave_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "startStop_Slave_net_adress"
    SrcPort 1
    Tag				"id=_rg3LUPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Slave"
    DstPort 2
  }
  Line {
    SrcBlock "startStop_Slave_receiver_net_adress"
    SrcPort 1
    Tag				"id=_rg3LUfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Slave"
    DstPort 3
  }
	  }
  }

  Block {
    BlockType SubSystem
    Name "TestStartStopMaster"
    SID				1270
    Ports [4, 1, 0, 0]
    Tag		"id=_qYYgUPdmEeGH_6eRdlYQdA"
  Position "[1260, 710, 1510, 1340]"
	  System {
	  	Name  "TestStartStopMaster"
	  	Open			off 	  	
	  	
  Block {
    BlockType Inport
    Name "clockSignal"
    SID				1271
    Tag		"id=_qYaVgPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 30, 220, 60]"
  }

  Block {
    BlockType Inport
    Name "startStop_Master_recv"
    SID				1272
    Tag		"id=_rqOisPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 300, 220, 330]"
  }

  Block {
    BlockType Inport
    Name "startStop_Master_net_adress"
    SID				1273
    Tag		"id=_rqQ-8PdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 360, 220, 390]"
  }

  Block {
    BlockType Inport
    Name "startStop_Master_receiver_net_adress"
    SID				1274
    Tag		"id=_rqRmAPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[190, 420, 220, 450]"
  }
	  	
  Block {
    BlockType Outport
    Name "startStop_Master_send"
    SID				1275
    Tag		"id=_rqN7oPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[860, 300, 890, 330]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "Link Layer startStop_Master"
    SID				1276
    Ports [7, 5, 0, 0]
    Tag		"id=_rqQX4_dmEeGH_6eRdlYQdA"
  Position "[35, 36, 310, 444]"
  Position "[250, 300, 800, 700]"
	  System {
	  	Name  "Link Layer startStop_Master"
	  	Open			off 	  	
	  	Location "[1284, 164, 2556, 887]"
	  	
  Block {
    BlockType Inport
    Name "port_in"
    SID				1277
    Tag		"id=_rqhdoPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[55, 148, 85, 162]"
  }

  Block {
    BlockType Inport
    Name "net_address"
    SID				1278
    Tag		"id=_rqrOoPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 263, 265, 277]"
  }

  Block {
    BlockType Inport
    Name "receiver_net_address"
    SID				1279
    Tag		"id=_rqr1sPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[235, 298, 265, 312]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_in"
    SID				1280
    Tag		"id=_rqiEsPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 673, 810, 687]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_in"
    SID				1281
    Tag		"id=_rqlvEPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[780, 723, 810, 737]"
  }

  Block {
    BlockType Inport
    Name "read_event_queue_out"
    SID				1282
    Tag		"id=_rqnkQPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 638, 85, 652]"
  }

  Block {
    BlockType Inport
    Name "read_event_param_queue_out"
    SID				1283
    Tag		"id=_rqoyYPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[55, 728, 85, 742]"
  }
	  	
  Block {
    BlockType Outport
    Name "port_out"
    SID				1284
    Tag		"id=_rqgPgPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

    UseBusObject 	"on"
    BusObject		"PacketBus"	
  Position "[960, 143, 990, 157]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_in"
    SID				1285
    Tag		"id=_rqjS0PdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 543, 1275, 557]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_in"
    SID				1286
    Tag		"id=_rqkg8PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[1245, 623, 1275, 637]"
  }

  Block {
    BlockType Outport
    Name "write_event_queue_out"
    SID				1287
    Tag		"id=_rqpZcPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 693, 525, 707]"
  }

  Block {
    BlockType Outport
    Name "write_event_param_queue_out"
    SID				1288
    Tag		"id=_rqqAgPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[495, 748, 525, 762]"
  }
	  	
  Block {
    BlockType SubSystem
    Name "DataLinkLayer"
    SID				1289
    Ports [10, 10, 0, 0]
    Tag		"id=_rqtq4PdmEeGH_6eRdlYQdA"
  Position "[470, 33, 615, 402]"
	  System {
	  	Name  "DataLinkLayer"
	  	Open			off 	  	
	  	Location "[1284, 50, 2556, 995]"
	  	
  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				1290
    Tag		"id=_rrbckPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 208, 330, 222]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1291
    Tag		"id=_rrcqsPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 243, 330, 257]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1292
    Tag		"id=_rrdRwPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 278, 330, 292]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1293
    Tag		"id=_rref4PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 313, 330, 327]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1294
    Tag		"id=_rrfuAPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[300, 348, 330, 362]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1295
    Tag		"id=_rrg8IPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 383, 330, 397]"
  }

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1296
    Tag		"id=_rriKQPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 68, 330, 82]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1297
    Tag		"id=_rrixUPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[300, 103, 330, 117]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1298
    Tag		"id=_rrj_cPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[300, 138, 330, 152]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1299
    Tag		"id=_rrlNkPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[300, 173, 330, 187]"
  }
	  	
  Block {
    BlockType Outport
    Name "snd_from_out"
    SID				1300
    Tag		"id=_rrOoQPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 48, 685, 62]"
  }

  Block {
    BlockType Outport
    Name "snd_to_out"
    SID				1301
    Tag		"id=_rrQdcPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 83, 685, 97]"
  }

  Block {
    BlockType Outport
    Name "snd_msg_out"
    SID				1302
    Tag		"id=_rrRrkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 118, 685, 132]"
  }

  Block {
    BlockType Outport
    Name "snd_param_out"
    SID				1303
    Tag		"id=_rrTgwPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 153, 685, 167]"
  }

  Block {
    BlockType Outport
    Name "snd_pkgid_out"
    SID				1304
    Tag		"id=_rrUu4PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[655, 188, 685, 202]"
  }

  Block {
    BlockType Outport
    Name "snd_time_out"
    SID				1305
    Tag		"id=_rrV9APdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 328, 685, 342]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1306
    Tag		"id=_rrXLIPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[655, 223, 685, 237]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1307
    Tag		"id=_rrYZQPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"



      DataType		      "uint16"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint16"

  Position "[655, 258, 685, 272]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1308
    Tag		"id=_rrZnYPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[655, 293, 685, 307]"
  }

  Block {
    BlockType Outport
    Name "debug"
    SID				1309
    Tag		"id=_rraOcPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[770, 398, 800, 412]"
  }
	  	

  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1310
    Ports			[3, 1]
    Inputs			"3"
    Tag		"id=_rrmbsPdmEeGH_6eRdlYQdA"
  Position "[690, 349, 695, 461]"
    Port {
		PortNumber		1
		Name			"Outport36"
		PropagatedSignals	"queue_sending_ratio, queue_received_ratio, queue_ack_ratio"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
      }

  }


Block {
      BlockType		      SubSystem
      Name		      	"Embedded\nMATLAB Function"  
      SID				1311 
      Tag				"id=_rrnCwPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[410, 41, 595, 454]
      System {
		Name			"Embedded\nMATLAB Function"		
		SIDHighWatermark 1311
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "snd_from_in"
    SID				1312
    Tag		"id=_rt7W8PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "snd_to_in"
    SID				1313
    Tag		"id=_rt9zMPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "snd_msg_in"
    SID				1314
    Tag		"id=_ruAPcPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "snd_param_in"
    SID				1315
    Tag		"id=_ruCEoPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "recv_from_in"
    SID				1316
    Tag		"id=_ruEg4PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 246, 40, 264]"
  }

  Block {
    BlockType Inport
    Name "recv_to_in"
    SID				1317
    Tag		"id=_ruG9IPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 281, 40, 299]"
  }

  Block {
    BlockType Inport
    Name "recv_msg_in"
    SID				1318
    Tag		"id=_ruKAcPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 316, 40, 334]"
  }

  Block {
    BlockType Inport
    Name "recv_param_in"
    SID				1319
    Tag		"id=_ruMcsPdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 351, 40, 369]"
  }

  Block {
    BlockType Inport
    Name "recv_pkgid_in"
    SID				1320
    Tag		"id=_ruPgAPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"



      DataType		      "uint32"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint32"

  Position "[20, 386, 40, 404]"
  }

  Block {
    BlockType Inport
    Name "recv_time_in"
    SID				1321
    Tag		"id=_ruSjUPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 426, 40, 444]"
  }

  Block {
    BlockType Inport
    Name "currentTime"
    SID				1322
    Tag		"id=_ruWNsPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 461, 40, 479]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 55"
	  		Ports			  [11, 13]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[11 13]"
			Port {
				PortNumber		    2
				Name		  	  	"from"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"to"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"msg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"param"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    6
				Name		  	  	"pkgid"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    7
				Name		  	  	"recv_from_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    8
				Name		  	  	"recv_msg_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    9
				Name		  	  	"recv_param_out"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    10
				Name		  	  	"time"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    11
				Name		  	  	"queue_sending_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    12
				Name		  	  	"queue_received_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    13
				Name		  	  	"queue_ack_ratio"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "from"
    SID				1323
    Tag		"id=_rthuUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "to"
    SID				1324
    Tag		"id=_rtjjgPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "msg"
    SID				1325
    Tag		"id=_rtl_wPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "param"
    SID				1326
    Tag		"id=_rtn08PdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 206, 480, 224]"
  }

  Block {
    BlockType Outport
    Name "pkgid"
    SID				1327
    Tag		"id=_rtqRMPdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 246, 480, 264]"
  }

  Block {
    BlockType Outport
    Name "recv_from_out"
    SID				1328
    Tag		"id=_rtstcPdmEeGH_6eRdlYQdA"
    Port "6"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 281, 480, 299]"
  }

  Block {
    BlockType Outport
    Name "recv_msg_out"
    SID				1329
    Tag		"id=_rtuioPdmEeGH_6eRdlYQdA"
    Port "7"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 316, 480, 334]"
  }

  Block {
    BlockType Outport
    Name "recv_param_out"
    SID				1330
    Tag		"id=_rtw-4PdmEeGH_6eRdlYQdA"
    Port "8"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 351, 480, 369]"
  }

  Block {
    BlockType Outport
    Name "time"
    SID				1331
    Tag		"id=_rty0EPdmEeGH_6eRdlYQdA"
    Port "9"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 386, 480, 404]"
  }

  Block {
    BlockType Outport
    Name "queue_sending_ratio"
    SID				1332
    Tag		"id=_rt1QUPdmEeGH_6eRdlYQdA"
    Port "10"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 426, 480, 444]"
  }

  Block {
    BlockType Outport
    Name "queue_received_ratio"
    SID				1333
    Tag		"id=_rt3FgPdmEeGH_6eRdlYQdA"
    Port "11"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 461, 480, 479]"
  }

  Block {
    BlockType Outport
    Name "queue_ack_ratio"
    SID				1334
    Tag		"id=_rt5hwPdmEeGH_6eRdlYQdA"
    Port "12"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 496, 480, 514]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "snd_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "snd_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "snd_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "recv_from_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
	  		SrcBlock		  "recv_to_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  6
		}
		Line {
	  		SrcBlock		  "recv_msg_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  7
		}
		Line {
	  		SrcBlock		  "recv_param_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  8
		}
		Line {
	  		SrcBlock		  "recv_pkgid_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  9
		}
		Line {
	  		SrcBlock		  "recv_time_in"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  10
		}
		Line {
	  		SrcBlock		  "currentTime"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  11
		}
		Line {
			Name		  	  "from"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "from"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "to"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "to"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "msg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "msg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "param"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "param"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "pkgid"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	6
	  		DstBlock		  "pkgid"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_from_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	7
	  		DstBlock		  "recv_from_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_msg_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	8
	  		DstBlock		  "recv_msg_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "recv_param_out"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	9
	  		DstBlock		  "recv_param_out"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "time"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	10
	  		DstBlock		  "time"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_sending_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	11
	  		DstBlock		  "queue_sending_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_received_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	12
	  		DstBlock		  "queue_received_ratio"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "queue_ack_ratio"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	13
	  		DstBlock		  "queue_ack_ratio"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


  Block {
    BlockType		    DigitalClock
    Name 				"Digital Clock"
    Tag					"id=_rro38PdmEeGH_6eRdlYQdA"
    SampleTime	        "0.1"
  Position "[280, 413, 345, 437]"
    }
  Line {
	Name	"queue_ack_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 12
    Tag				"id=_rrrUMPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
	Name	"queue_sending_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 10
    Tag				"id=_rrrUMfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 8
    Tag				"id=_rrrUMvdmEeGH_6eRdlYQdA"
    DstBlock "recv_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_to_in"
    SrcPort 1
    Tag				"id=_rrr7QPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 6
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 5
    Tag				"id=_rrr7QfdmEeGH_6eRdlYQdA"
    DstBlock "snd_pkgid_out"
    DstPort 1
  }
  Line {
    SrcBlock "snd_from_in"
    SrcPort 1
    Tag				"id=_rrr7QvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 7
    Tag				"id=_rrr7Q_dmEeGH_6eRdlYQdA"
    DstBlock "recv_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_pkgid_in"
    SrcPort 1
    Tag				"id=_rrr7RPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 9
  }
  Line {
    SrcBlock "snd_msg_in"
    SrcPort 1
    Tag				"id=_rrsiUPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 3
  }
  Line {
    SrcBlock "Digital Clock"
    SrcPort 1
    Tag				"id=_rrsiUfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 11
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 3
    Tag				"id=_rrsiUvdmEeGH_6eRdlYQdA"
    DstBlock "snd_msg_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 9
    Tag				"id=_rrsiU_dmEeGH_6eRdlYQdA"
    DstBlock "snd_time_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_from_in"
    SrcPort 1
    Tag				"id=_rrsiVPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 5
  }
  Line {
    SrcBlock "recv_time_in"
    SrcPort 1
    Tag				"id=_rrtJYPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 10
  }
  Line {
    SrcBlock "snd_to_in"
    SrcPort 1
    Tag				"id=_rrtJYfdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 2
  }
  Line {
    SrcBlock "snd_param_in"
    SrcPort 1
    Tag				"id=_rrtJYvdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 4
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 6
    Tag				"id=_rrtJY_dmEeGH_6eRdlYQdA"
    DstBlock "recv_from_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_param_in"
    SrcPort 1
    Tag				"id=_rrtJZPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 8
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 2
    Tag				"id=_rrtJZfdmEeGH_6eRdlYQdA"
    DstBlock "snd_to_out"
    DstPort 1
  }
  Line {
    SrcBlock "recv_msg_in"
    SrcPort 1
    Tag				"id=_rrtwcPdmEeGH_6eRdlYQdA"
    DstBlock "Embedded\nMATLAB Function"
    DstPort 7
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 4
    Tag				"id=_rrtwcfdmEeGH_6eRdlYQdA"
    DstBlock "snd_param_out"
    DstPort 1
  }
  Line {
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 1
    Tag				"id=_rrtwcvdmEeGH_6eRdlYQdA"
    DstBlock "snd_from_out"
    DstPort 1
  }
  Line {
	Name	"Outport36"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rrtwc_dmEeGH_6eRdlYQdA"
    DstBlock "debug"
    DstPort 1
  }
  Line {
	Name	"queue_received_ratio"
    SrcBlock "Embedded\nMATLAB Function"
    SrcPort 11
    Tag				"id=_rrtwdPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
	  }
  }
	  	

  Block {
    BlockType BusSelector
    Name 			"Bus\nSelector"
    SID				1335
    Ports			[1, 6]
    OutputSignals	"from,to,msg,param,pkgid,time"
    Tag				"id=_rqtD0PdmEeGH_6eRdlYQdA"
  Position "[160, 35, 165, 260]"
	Port {
		PortNumber			1
		Name				"<from>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			2
		Name				"<to>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			3
		Name				"<msg>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			4
		Name				"<param>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			5
		Name				"<pkgid>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
	Port {
		PortNumber			6
		Name				"<time>"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	}
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay1"
    Tag					"id=_rqtD0fdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[405, 683, 440, 717]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay2"
    Tag					"id=_rqtD0vdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[410, 738, 445, 772]"
  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay3"
    Tag					"id=_rqtq4fdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1165, 533, 1200, 567]"
  }


  Block {
    BlockType BusCreator
    Name 			"Bus\nCreator"
    SID				1336
    Ports			[6, 1]
    Inputs			"6"
    UseBusObject 	"on"
    BusObject		"PacketBus"
    Tag		"id=_rquR8PdmEeGH_6eRdlYQdA"
  Position "[830, 37, 835, 258]"

  }


  Block {
    BlockType 			UnitDelay
    Name 				"Unit Delay4"
    Tag					"id=_rquR8fdmEeGH_6eRdlYQdA"
    SampleTime	      	"-1"
  Position "[1170, 613, 1205, 647]"
  }

  Block {
    BlockType "Terminator"
    Name "Terminator"
    Tag		"id=_rquR8vdmEeGH_6eRdlYQdA"
  Position "[1155, 700, 1175, 720]"
  }


Block {
      BlockType		      SubSystem
      Name		      	"Receive Packet"  
      SID				1337 
      Tag				"id=_rqu5APdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[900, 506, 1085, 754]
      System {
		Name			"Receive Packet"		
		SIDHighWatermark 1337
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "packetFrom"
    SID				1338
    Tag		"id=_rsHZEPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "packetMsg"
    SID				1339
    Tag		"id=_rsJOQPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "packetParam"
    SID				1340
    Tag		"id=_rsLqgPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 171, 40, 189]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1341
    Tag		"id=_rsOGwPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 206, 40, 224]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1342
    Tag		"id=_rsP78PdmEeGH_6eRdlYQdA"
    Port "5"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 246, 40, 264]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 56"
	  		Ports			  [5, 4]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 4]"
			Port {
				PortNumber		    2
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"bufferOverflow"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1343
    Tag		"id=_rsAEUPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1344
    Tag		"id=_rsCgkPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "bufferOverflow"
    SID				1345
    Tag		"id=_rsE80PdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "boolean"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "boolean"

  Position "[460, 171, 480, 189]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetFrom"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "packetMsg"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "packetParam"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "bufferOverflow"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "bufferOverflow"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}


Block {
      BlockType		      SubSystem
      Name		      	"Send Packet"  
      SID				1346 
      Tag				"id=_rqu5AfdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Embedded MATLAB block"
      MaskDisplay	      "disp('fcn');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      on
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"
	  Position		[150, 514, 310, 781]
      System {
		Name			"Send Packet"		
		SIDHighWatermark 1346
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Outputs		  "1"
		}

  Block {
    BlockType Inport
    Name "busSizeSignal"
    SID				1347
    Tag		"id=_rsZF4PdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[20, 101, 40, 119]"
  }

  Block {
    BlockType Inport
    Name "eventQueueIn"
    SID				1348
    Tag		"id=_rsbiIPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[20, 136, 40, 154]"
  }

  Block {
    BlockType Inport
    Name "eventParamQueueIn"
    SID				1349
    Tag		"id=_rsd-YPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[20, 171, 40, 189]"
  }
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		Tag			  "Stateflow S-Function AtomicLibrary 57"
	  		Ports			  [3, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[3 5]"
			Port {
				PortNumber		    2
				Name		  	  	"packetMsg"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    3
				Name		  	  	"packetParam"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    4
				Name		  	  	"eventQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
			Port {
				PortNumber		    5
				Name		  	  	"eventParamQueue"
				RTWStorageClass	    "Auto"
	    		DataLoggingNameMode	    "SignalName"
			}
		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
		}

  Block {
    BlockType Outport
    Name "packetMsg"
    SID				1350
    Tag		"id=_rsSYMPdmEeGH_6eRdlYQdA"
    Port "1"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 101, 480, 119]"
  }

  Block {
    BlockType Outport
    Name "packetParam"
    SID				1351
    Tag		"id=_rsUNYPdmEeGH_6eRdlYQdA"
    Port "2"
	PortDimensions "-1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  Position "[460, 136, 480, 154]"
  }

  Block {
    BlockType Outport
    Name "eventQueue"
    SID				1352
    Tag		"id=_rsWCkPdmEeGH_6eRdlYQdA"
    Port "3"
	PortDimensions "-1"



      DataType		      "uint8"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "uint8"

  Position "[460, 171, 480, 189]"
  }

  Block {
    BlockType Outport
    Name "eventParamQueue"
    SID				1353
    Tag		"id=_rsXQsPdmEeGH_6eRdlYQdA"
    Port "4"
	PortDimensions "-1"



      DataType		      "double"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "double"

  Position "[460, 206, 480, 224]"
  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "busSizeSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "eventQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "eventParamQueueIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
			Name		  	  "packetMsg"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "packetMsg"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "packetParam"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "packetParam"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "eventQueue"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "eventParamQueue"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "eventParamQueue"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 3
    Tag				"id=_rqwuMPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 3
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 8
    Tag				"id=_rqwuMfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 2
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 3
    Tag				"id=_rqxVQPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay1"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 7
    Tag				"id=_rqxVQfdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 3
    Tag				"id=_rqxVQvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 3
  }
  Line {
    SrcBlock "read_event_param_queue_in"
    SrcPort 1
    Tag				"id=_rqxVQ_dmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 5
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 3
    Tag				"id=_rqxVRPdmEeGH_6eRdlYQdA"
    DstBlock "Terminator"
    DstPort 1
  }
  Line {
    SrcBlock "receiver_net_address"
    SrcPort 1
    Tag				"id=_rqxVRfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 8
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 2
    Tag				"id=_rqx8UPdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay4"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_out"
    SrcPort 1
    Tag				"id=_rqx8UfdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 2
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 9
    Tag				"id=_rqx8UvdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 2
    Tag				"id=_rqx8U_dmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 10
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 2
    Tag				"id=_rqx8VPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 2
  }
  Line {
    SrcBlock "port_in"
    SrcPort 1
    Tag				"id=_rqTbMPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nSelector"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_param_queue_out"
    SrcPort 1
    Tag				"id=_rqyjYPdmEeGH_6eRdlYQdA"
    DstBlock "Send Packet"
    DstPort 3
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 4
    Tag				"id=_rqyjYfdmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay2"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 5
    Tag				"id=_rqyjYvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 5
  }
  Line {
    SrcBlock "Unit Delay4"
    SrcPort 1
    Tag				"id=_rqyjY_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "read_event_queue_in"
    SrcPort 1
    Tag				"id=_rqyjZPdmEeGH_6eRdlYQdA"
    DstBlock "Receive Packet"
    DstPort 4
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 4
    Tag				"id=_rqzKcPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 4
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 2
    Tag				"id=_rqzKcfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 2
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 6
    Tag				"id=_rqzKcvdmEeGH_6eRdlYQdA"
    Points    [0, 0]
    Branch {
      DstBlock "DataLinkLayer"
      DstPort 6    
    }
    Branch {
      DstBlock "Send Packet"
      DstPort 1    
    }
  }
  Line {
    SrcBlock "Receive Packet"
    SrcPort 1
    Tag				"id=_rqzKc_dmEeGH_6eRdlYQdA"
    DstBlock "Unit Delay3"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 6
    Tag				"id=_rqzxgfdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 6
  }
  Line {
    SrcBlock "Unit Delay1"
    SrcPort 1
    Tag				"id=_rqzxgvdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 1
    Tag				"id=_rqzxg_dmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 5
    Tag				"id=_rqzxhPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 5
  }
  Line {
    SrcBlock "net_address"
    SrcPort 1
    Tag				"id=_rqzxhfdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 7
  }
  Line {
    SrcBlock "Send Packet"
    SrcPort 1
    Tag				"id=_rq0YkPdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 9
  }
  Line {
	Name	"Outport37"
    SrcBlock "Bus\nCreator"
    SrcPort 1
    Tag				"id=_rqTbMfdmEeGH_6eRdlYQdA"
    DstBlock "port_out"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay3"
    SrcPort 1
    Tag				"id=_rq0YkfdmEeGH_6eRdlYQdA"
    DstBlock "write_event_queue_in"
    DstPort 1
  }
  Line {
    SrcBlock "Bus\nSelector"
    SrcPort 1
    Tag				"id=_rq0YkvdmEeGH_6eRdlYQdA"
    DstBlock "DataLinkLayer"
    DstPort 1
  }
  Line {
    SrcBlock "Unit Delay2"
    SrcPort 1
    Tag				"id=_rq0Yk_dmEeGH_6eRdlYQdA"
    DstBlock "write_event_param_queue_out"
    DstPort 1
  }
  Line {
    SrcBlock "DataLinkLayer"
    SrcPort 4
    Tag				"id=_rq0YlPdmEeGH_6eRdlYQdA"
    DstBlock "Bus\nCreator"
    DstPort 4
  }
	  }
  }
	  	

Block {
      BlockType		      SubSystem
      Name		      	"TestStartStopMaster_Statechart"  
      SID				1354
      Ports				[5, 4]      
	  Position		[250, 30, 800, 240]
      Tag				"id=_qYZucPdmEeGH_6eRdlYQdA"   
      MaskHideContents	      off
      MaskType		      "Stateflow"
      MaskDescription	      "Stateflow diagram"
      MaskDisplay	      "plot(sf('Private','sfblk','xIcon'),sf('Private','sfblk','yIcon'));text(0.5,0,sf('Private', 's"
      "fblk', 'tIcon'),'HorizontalAl','Center','VerticalAl','Bottom');"
      MaskSelfModifiable      on
      MaskIconFrame	      off
      MaskIconOpaque	      off
      MaskIconRotate	      "none"
      MaskPortRotate	      "default"
      MaskIconUnits	      "autoscale"            
      System {
		Name			"TestStartStopMaster_Statechart"	
		SIDHighWatermark	    1354

  Block {
    BlockType Inport
    Name "clockSignal"
    SID				1355
    Tag		"id=_qYaVgvdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_MasterReadIn"
    SID				1356
    Tag		"id=_rqUCQPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_MasterWriteIn"
    SID				1357
    Tag		"id=_rqVQYPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_MasterParamReadIn"
    SID				1358
    Tag		"id=_rqWegPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Inport
    Name "startStop_MasterParamWriteIn"
    SID				1359
    Tag		"id=_rqXsoPdmEeGH_6eRdlYQdA"
    Port "5"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
			
		Block {
	  		BlockType		  Demux
	  		Name			  " Demux "
	  		Ports		      [1, 1]
	  		Outputs		  "1"
	  		SID               1360
		}
		Block {
	  		BlockType		  "S-Function"
	  		Name			  " SFunction "
	  		SID               1361
	  		Tag			  "Stateflow S-Function AtomicLibrary 9"
	  		Ports			  [5, 5]
	  		FunctionName		  "sf_sfun"
	  		PortCounts		  "[5 5]"
			Port {
				PortNumber		2
				Name			"startStop_MasterReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		3
				Name			"startStop_MasterWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		4
				Name			"startStop_MasterParamReadOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}
			Port {
				PortNumber		5
				Name			"startStop_MasterParamWriteOut"
				RTWStorageClass		"Auto"
				DataLoggingNameMode	"SignalName"			
			}

		}
		Block {
	  		BlockType		  Terminator
	  		Name			  " Terminator "
	  		SID               1362
		}

  Block {
    BlockType Outport
    Name "startStop_MasterReadOut"
    SID				1363
    Tag		"id=_rqUpUPdmEeGH_6eRdlYQdA"
    Port "1"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "startStop_MasterWriteOut"
    SID				1364
    Tag		"id=_rqV3cPdmEeGH_6eRdlYQdA"
    Port "2"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "startStop_MasterParamReadOut"
    SID				1365
    Tag		"id=_rqXFkPdmEeGH_6eRdlYQdA"
    Port "3"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }

  Block {
    BlockType Outport
    Name "startStop_MasterParamWriteOut"
    SID				1366
    Tag		"id=_rqYTsPdmEeGH_6eRdlYQdA"
    Port "4"


      DataType		      "auto"
      OutDataType	      "fixdt(1, 16)"
      OutScaling	      "2^0"
      OutDataTypeStr	      "Inherit: auto"

  }
		Line {
	  		SrcBlock		  " SFunction "
	  		SrcPort		  1
	  		DstBlock		  " Demux "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "clockSignal"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  1
		}
		Line {
	  		SrcBlock		  "startStop_MasterReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  2
		}
		Line {
	  		SrcBlock		  "startStop_MasterWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  3
		}
		Line {
	  		SrcBlock		  "startStop_MasterParamReadIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  4
		}
		Line {
	  		SrcBlock		  "startStop_MasterParamWriteIn"
	  		SrcPort		  1
	  		DstBlock		  " SFunction "
	  		DstPort		  5
		}
		Line {
			Name		  	  "startStop_MasterReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	2
	  		DstBlock		  "startStop_MasterReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "startStop_MasterWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	3
	  		DstBlock		  "startStop_MasterWriteOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "startStop_MasterParamReadOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	4
	  		DstBlock		  "startStop_MasterParamReadOut"
	  		DstPort		  		1
		}
		Line {
			Name		  	  "startStop_MasterParamWriteOut"
	  		SrcBlock		  " SFunction "
	  		SrcPort		  	5
	  		DstBlock		  "startStop_MasterParamWriteOut"
	  		DstPort		  		1
		}
		Line {
	  		SrcBlock		  " Demux "
	  		SrcPort		  1
	  		DstBlock		  " Terminator "
	  		DstPort		  1
		}
	}
}
  Line {
    SrcBlock "clockSignal"
    SrcPort 1
    Tag				"id=_qYaVgfdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopMaster_Statechart"
    DstPort 1
  }
  Line {
    SrcBlock "Link Layer startStop_Master"
    SrcPort 1
    Tag				"id=_rqPJwPdmEeGH_6eRdlYQdA"
    DstBlock "startStop_Master_send"
    DstPort 1
  }
  Line {
    SrcBlock "startStop_Master_recv"
    SrcPort 1
    Tag				"id=_rqPJwfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Master"
    DstPort 1
  }
  Line {
    SrcBlock "TestStartStopMaster_Statechart"
    SrcPort 1
    Tag				"id=_rqPw0PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Master"
    DstPort 4
  }
  Line {
    SrcBlock "Link Layer startStop_Master"
    SrcPort 2
    Tag				"id=_rqPw0fdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopMaster_Statechart"
    DstPort 2
  }
  Line {
    SrcBlock "Link Layer startStop_Master"
    SrcPort 3
    Tag				"id=_rqPw0vdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopMaster_Statechart"
    DstPort 4
  }
  Line {
    SrcBlock "TestStartStopMaster_Statechart"
    SrcPort 3
    Tag				"id=_rqPw0_dmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Master"
    DstPort 5
  }
  Line {
    SrcBlock "TestStartStopMaster_Statechart"
    SrcPort 2
    Tag				"id=_rqPw1PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Master"
    DstPort 6
  }
  Line {
    SrcBlock "TestStartStopMaster_Statechart"
    SrcPort 4
    Tag				"id=_rqQX4PdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Master"
    DstPort 7
  }
  Line {
    SrcBlock "Link Layer startStop_Master"
    SrcPort 4
    Tag				"id=_rqQX4fdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopMaster_Statechart"
    DstPort 3
  }
  Line {
    SrcBlock "Link Layer startStop_Master"
    SrcPort 5
    Tag				"id=_rqQX4vdmEeGH_6eRdlYQdA"
    DstBlock "TestStartStopMaster_Statechart"
    DstPort 5
  }
  Line {
    SrcBlock "startStop_Master_net_adress"
    SrcPort 1
    Tag				"id=_rqS0IPdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Master"
    DstPort 2
  }
  Line {
    SrcBlock "startStop_Master_receiver_net_adress"
    SrcPort 1
    Tag				"id=_rqS0IfdmEeGH_6eRdlYQdA"
    DstBlock "Link Layer startStop_Master"
    DstPort 3
  }
	  }
  }
  }
}



Stateflow {
	machine {
		id		11
		name    "AtomicLibrary"
		tag			"id=_qLO1IPdmEeGH_6eRdlYQdA"
		firstTarget 	10
		isLibrary		1
	}
	chart {
		id			12
		name		"TestDelegationSlave/TestDelegationSlave_Statechart"
		tag			"id=_qNAWwPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		1
		viewObj		12    
		decomposition	    CLUSTER_CHART
		treeNode		[0 13 0 0]
		firstData		14
	}
	state {
		id			13
		chart		12
		tag			"id=_qNBk4PdmEeGH_6eRdlYQdA"
		treeNode	[12 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		15
  position [297.78 91.472 742.02 703.998]
	}
	state {
		id			16
		chart		12
		tag			"id=_qNCL8PdmEeGH_6eRdlYQdA"
		treeNode	[13 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [305.92 229.18 640.0 558.0]
	}
	state {
		id			17
		chart		12
		tag			"id=_s7jAoPdmEeGH_6eRdlYQdA"
		treeNode	[16 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		18
		firstEvent		19
  position [313.57 260.38 469.0 447.0]
	}
	state {
		id			20
		chart		12
		tag			"id=_tC8CEPdmEeGH_6eRdlYQdA"
		treeNode	[17 0 0 0]
		labelString	"synchronization"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		21
  position [574.71 291.58 200.0 155.0]
	}
	state {
		id			22
		chart		12
		tag			"id=_tGXwkPdmEeGH_6eRdlYQdA"
		treeNode	[20 0 0 0]
		labelString	"Waiting\nentry: beginAvailableStatechart = true\nexit: beginAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [631.53 402.47 58.5 36.0]
	}
	transition {
		id			23
		chart		12
		midPoint	[649.71 397.335]
		src {
			intersection	[3 0 1 0 647.27 392.24 0 0]
		}
		dst {
			id	22
			intersection	[1 0 -1 0 652.15 402.43 0 0]
		}
	}

	state {
		id			24
		chart		12
		tag			"id=_tGnoMPdmEeGH_6eRdlYQdA"
		treeNode	[20 0 0 0]
		labelString	"s1"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [712.71 395.6 54.0 36.0]
	}

	state {
		id			25
		chart		12
		tag			"id=_tGynUPdmEeGH_6eRdlYQdA"
		treeNode	[20 0 0 0]
		labelString	"s2"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [707.96 323.06 54.0 36.0]
	}

  transition {
  	id			21
    chart		12
    tag			"id=_wHafsPdmEeGH_6eRdlYQdA"
    labelString "begin"
    linkNode 	[20 0 0]
    executionOrder 1
  labelPosition [676.51 404.36 40.0 8.0]
  midPoint [701.655 416.91]
  	src {
  	  id		22
  	    	  
      intersection	[2 1 0 0 690.62 417.87 0 0]
  	}
  	dst {
  	  id		24
  	    	  
      intersection	[4 -1 0 0 712.69 415.95 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			26
    chart		12
    tag			"id=_3P3wIPdmEeGH_6eRdlYQdA"
    labelString "[successAvailablePortDelegSlave]{send(success, portDelegSlave)}"
    linkNode 	[20 0 0]
    executionOrder 1
  labelPosition [519.66 378.29 472.0 8.0]
  midPoint [737.325 377.205]
  	src {
  	  id		24
  	    	  
      intersection	[1 0 -1 0 738.51 395.3 0 0]
  	}
  	dst {
  	  id		25
  	    	  
      intersection	[3 0 1 0 736.14 359.11 0 0]
  	}
  	slide {
  	}
  }

	state {
		id			27
		chart		12
		tag			"id=_tDD94PdmEeGH_6eRdlYQdA"
		treeNode	[17 0 0 0]
		labelString	"portDelegSlave"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		28
		firstTransition		29
  position [321.71 489.08 238.00003 210.00003]
	}
	state {
		id			30
		chart		12
		tag			"id=_tHlRgPdmEeGH_6eRdlYQdA"
		treeNode	[27 0 0 0]
		labelString	"Inactive"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [389.81012 605.45 59.99976 36.0]
	}
	transition {
		id			31
		chart		12
		midPoint	[402.44 648.615]
		src {
			intersection	[3 0 1 0 397.69 655.5 0 0]
		}
		dst {
			id	30
			intersection	[1 0 -1 0 407.19 641.73 0 0]
		}
	}

	state {
		id			32
		chart		12
		tag			"id=_tHtNUPdmEeGH_6eRdlYQdA"
		treeNode	[27 0 0 0]
		labelString	"Success"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [465.57983 647.23 62.50032 36.0]
	}

	state {
		id			33
		chart		12
		tag			"id=_tH0iEPdmEeGH_6eRdlYQdA"
		treeNode	[27 0 0 0]
		labelString	"Fail"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [461.04 520.21 54.0 36.0]
	}

	state {
		id			34
		chart		12
		tag			"id=_tH720PdmEeGH_6eRdlYQdA"
		treeNode	[27 0 0 0]
		labelString	"Running\nentry: successAvailableDelegation_Slave = true; failureAvailableDelegation_Slave = true; reset(c0)\nexit: successAvailableDelegation_Slave = false; failureAvailableDelegation_Slave = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [489.20987 589.15 62.50032 36.0]
	}

	state {
		id			35
		chart		12
		tag			"id=_8IcBkPdmEeGH_6eRdlYQdA"
		treeNode	[27 0 0 0]
		labelString	"Inv_Error"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [381.07986 548.8 70.500244 36.0]
	}

  transition {
  	id			29
    chart		12
    tag			"id=_tQwboPdmEeGH_6eRdlYQdA"
    labelString "{[delegation_slaveEvtWriteOut, delegation_slaveParamWriteOut] = enqueue(EVT_COMPLETED, delegation_slaveEvtWriteOut, delegation_slaveParamWriteOut)}"
    linkNode 	[27 0 0]
    executionOrder 1
  labelPosition [-125.0 656.34 1160.0 8.0]
  midPoint [457.53998 643.91504]
  	src {
  	  id		32
  	    	  
      intersection	[4 -1 0 0 465.06 647.99 0 0]
  	}
  	dst {
  	  id		30
  	    	  
      intersection	[2 1 0 0 450.02 639.84 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			36
    chart		12
    tag			"id=_tSEqQPdmEeGH_6eRdlYQdA"
    labelString "{[delegation_slaveEvtWriteOut, delegation_slaveParamWriteOut] = enqueue(EVT_FAILED, delegation_slaveEvtWriteOut, delegation_slaveParamWriteOut)}"
    linkNode 	[27 0 0]
    executionOrder 1
  labelPosition [-125.92001 561.89 1136.0 8.0]
  midPoint [453.915 580.845]
  	src {
  	  id		33
  	    	  
      intersection	[3 0 1 0 473.57 556.29 0 0]
  	}
  	dst {
  	  id		30
  	    	  
      intersection	[1 0 -1 0 434.26 605.4 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			37
    chart		12
    tag			"id=_wMwSsPdmEeGH_6eRdlYQdA"
    labelString "success"
    linkNode 	[27 0 0]
    executionOrder 2
  labelPosition [500.62 633.34 56.0 8.0]
  midPoint [508.68 636.095]
  	src {
  	  id		34
  	    	  
      intersection	[3 0 1 0 513.11 625.21 0 0]
  	}
  	dst {
  	  id		32
  	    	  
      intersection	[1 0 -1 0 504.25 646.98 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			38
    chart		12
    tag			"id=_wTLq0PdmEeGH_6eRdlYQdA"
    labelString "failure"
    linkNode 	[27 0 0]
    executionOrder 1
  labelPosition [496.45 566.35 56.0 8.0]
  midPoint [504.275 572.74]
  	src {
  	  id		34
  	    	  
      intersection	[1 0 -1 0 511.94 589.04 0 0]
  	}
  	dst {
  	  id		33
  	    	  
      intersection	[3 0 1 0 496.61 556.44 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			39
    chart		12
    tag			"id=_3QgCQPdmEeGH_6eRdlYQdA"
    labelString "[(beginAvailableSynchronization) && ([checkQueue(EVT_DELEGATE, delegation_slaveEvtReadOut)])]{send(begin, synchronization)}"
    linkNode 	[27 0 0]
    executionOrder 1
  labelPosition [21.5 622.21 888.0 8.0]
  midPoint [469.45 615.41003]
  	src {
  	  id		30
  	    	  
      intersection	[2 1 0 0 450.01 618.56 0 0]
  	}
  	dst {
  	  id		34
  	    	  
      intersection	[4 -1 0 0 488.89 612.26 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			40
    chart		12
    tag			"id=_8IcooPdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[27 0 0]
    executionOrder 2
  labelPosition [393.92 628.11 104.0 8.0]
  midPoint [456.66498 616.125]
  	src {
  	  id		32
  	    	  
      intersection	[1 0 -1 0 482.06 647.18 0 0]
  	}
  	dst {
  	  id		35
  	    	  
      intersection	[3 0 1 0 431.27 585.07 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			41
    chart		12
    tag			"id=_8JLBYPdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[27 0 0]
    executionOrder 2
  labelPosition [408.79 553.08 104.0 8.0]
  midPoint [456.32 550.855]
  	src {
  	  id		33
  	    	  
      intersection	[4 -1 0 0 460.93 549.02 0 0]
  	}
  	dst {
  	  id		35
  	    	  
      intersection	[2 1 0 0 451.71 552.69 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			42
    chart		12
    tag			"id=_8JTkQPdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[27 0 0]
    executionOrder 3
  labelPosition [419.12 598.58 104.0 8.0]
  midPoint [470.345 587.735]
  	src {
  	  id		34
  	    	  
      intersection	[4 -1 0 0 488.94 594.94 0 0]
  	}
  	dst {
  	  id		35
  	    	  
      intersection	[2 1 0 0 451.75 580.53 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				28
		name		    "EVT_DELEGATE"
		tag				"id=_5lLaoPdmEeGH_6eRdlYQdA"
		linkNode		    [27 0 43]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"2"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				43
		name		    "EVT_COMPLETED"
		tag				"id=_6P5yoPdmEeGH_6eRdlYQdA"
		linkNode		    [27 28 44]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"3"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				44
		name		    "EVT_FAILED"
		tag				"id=_6QnkUPdmEeGH_6eRdlYQdA"
		linkNode		    [27 43 45]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"4"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				45
		name		    "c0"
		tag				"id=_7bWSEPdmEeGH_6eRdlYQdA"
		linkNode		    [27 44 0]
		machine		    11
		dataType		"double"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"0.0"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				19
		ssIdNumber		19
		name		    "begin"
		tag				"id=_vR07gPdmEeGH_6eRdlYQdA"
		linkNode		    [17 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				46
		ssIdNumber		46
		name		    "failure"
		tag				"id=_vR2JoPdmEeGH_6eRdlYQdA"
		linkNode		    [17 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				47
		ssIdNumber		47
		name		    "success"
		tag				"id=_vR3XwPdmEeGH_6eRdlYQdA"
		linkNode		    [17 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				18
		name		    "EVT_COMPLETED"
		tag				"id=__4kEQPdmEeGH_6eRdlYQdA"
		linkNode		    [17 0 48]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"3"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				48
		name		    "EVT_FAILED"
		tag				"id=__5wXEPdmEeGH_6eRdlYQdA"
		linkNode		    [17 18 49]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"4"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				49
		name		    "EVT_DELEGATE"
		tag				"id=_BKRjwPdnEeGH_6eRdlYQdA"
		linkNode		    [17 48 50]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"2"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				50
		name		    "beginAvailableStatechart"
		tag				"id=_wHgmUPdmEeGH_6eRdlYQdA"
		linkNode		    [17 49 51]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				51
		name		    "successAvailableDelegation_Slave"
		tag				"id=_wM2ZUPdmEeGH_6eRdlYQdA"
		linkNode		    [17 50 52]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				52
		name		    "failureAvailableDelegation_Slave"
		tag				"id=_wTSYgPdmEeGH_6eRdlYQdA"
		linkNode		    [17 51 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			53
		chart		12
		midPoint	[714.1 616.035]
		src {
			intersection	[3 0 1 0 876.11 744.99 0 0]
		}
		dst {
			id	17
			intersection	[1 0 -1 0 552.09 487.08 0 0]
		}
	}


	state {
		id			54
		chart		12
		tag			"id=_qNCzAPdmEeGH_6eRdlYQdA"
		treeNode	[13 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [971.90015 122.17999 59.99976 36.0]
	}

  transition {
  	id			15
    chart		12
    tag			"id=_qNW8EPdmEeGH_6eRdlYQdA"
    labelString "{delegation_slaveEvtWriteOut = delegation_slaveEvtWriteIn;
delegation_slaveParamWriteOut = delegation_slaveParamWriteIn;
delegation_slaveEvtReadOut = delegation_slaveEvtReadIn;
delegation_slaveParamReadOut = delegation_slaveParamReadIn;
}"
    linkNode 	[13 0 0]
    executionOrder 0
  labelPosition [289.40002 136.18 1888.0 8.0]
  midPoint [1032.4 140.17499]
  	src {
  	  id		54
  	    	  
      intersection	[2 1 0 0 1032.4 133.43 0 0]
  	}
  	dst {
  	  id		54
  	    	  
      intersection	[2 1 0 0 1032.4 146.92 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			55
		chart		12
		midPoint	[812.595 259.8865]
		src {
			intersection	[3 0 1 0 952.49 81.313 0 0]
		}
		dst {
			id	13
			intersection	[1 0 -1 0 672.7 438.46 0 0]
		}
	}

	state {
		id				56
		chart			12
		tag				"id=_qNdpwPdmEeGH_6eRdlYQdA"
		treeNode		[12 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [694.06006 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				57
		name		    "evtQueueIn"
		tag				"id=_qNoo4PdmEeGH_6eRdlYQdA"
		linkNode		    [56 0 58]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				58
		name		    "param"
		tag				"id=_qNpP8PdmEeGH_6eRdlYQdA"
		linkNode		    [56 57 59]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				59
		name		    "paramQueueIn"
		tag				"id=_qNpP8fdmEeGH_6eRdlYQdA"
		linkNode		    [56 58 60]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				60
		name		    "event"
		tag				"id=_qNpP8vdmEeGH_6eRdlYQdA"
		linkNode		    [56 59 61]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				61
		name		    "evtQueue"
		tag				"id=_qNpP8_dmEeGH_6eRdlYQdA"
		linkNode		    [56 60 62]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				62
		name		    "paramQueue"
		tag				"id=_qNp3APdmEeGH_6eRdlYQdA"
		linkNode		    [56 61 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				63
		chart			12
		tag				"id=_qNeQ0PdmEeGH_6eRdlYQdA"
		treeNode		[12 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [1057.1016 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				64
		name		    "event"
		tag				"id=_qNp3AfdmEeGH_6eRdlYQdA"
		linkNode		    [63 0 65]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				65
		name		    "evtQueue"
		tag				"id=_qNp3AvdmEeGH_6eRdlYQdA"
		linkNode		    [63 64 66]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				66
		name		    "available"
		tag				"id=_qNqeEPdmEeGH_6eRdlYQdA"
		linkNode		    [63 65 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				67
		chart			12
		tag				"id=_qNeQ0fdmEeGH_6eRdlYQdA"
		treeNode		[12 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [825.56 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				68
		name		    "event"
		tag				"id=_qNqeEfdmEeGH_6eRdlYQdA"
		linkNode		    [67 0 69]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				69
		name		    "evtQueueIn"
		tag				"id=_qNqeEvdmEeGH_6eRdlYQdA"
		linkNode		    [67 68 70]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				70
		name		    "paramQueueIn"
		tag				"id=_qNs6UPdmEeGH_6eRdlYQdA"
		linkNode		    [67 69 71]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				71
		name		    "evtQueue"
		tag				"id=_qNs6UfdmEeGH_6eRdlYQdA"
		linkNode		    [67 70 72]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				72
		name		    "paramQueue"
		tag				"id=_qNs6UvdmEeGH_6eRdlYQdA"
		linkNode		    [67 71 73]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				73
		name		    "parameter"
		tag				"id=_qNs6U_dmEeGH_6eRdlYQdA"
		linkNode		    [67 72 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				74
		chart			12
		tag				"id=_qNe34PdmEeGH_6eRdlYQdA"
		treeNode		[12 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [496.06 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				75
		name		    "clock"
		tag				"id=_qNs6VPdmEeGH_6eRdlYQdA"
		linkNode		    [74 0 76]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				76
		name		    "logicalTime"
		tag				"id=_qNthYPdmEeGH_6eRdlYQdA"
		linkNode		    [74 75 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				77
		chart			12
		tag				"id=_qNe34fdmEeGH_6eRdlYQdA"
		treeNode		[12 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [595.06 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				78
		name		    "clock"
		tag				"id=_qNthYfdmEeGH_6eRdlYQdA"
		linkNode		    [77 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				14
		name		    "clockSignal"
		tag				"id=_qXCcgPdmEeGH_6eRdlYQdA"
		linkNode		    [12 0 79]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				79
		name		    "delegation_slaveReadIn"
		tag				"id=_qiHEEPdmEeGH_6eRdlYQdA"
		linkNode		    [12 14 80]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				80
		name		    "delegation_slaveParamReadIn"
		tag				"id=_qiHrIPdmEeGH_6eRdlYQdA"
		linkNode		    [12 79 81]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				81
		name		    "delegation_slaveWriteIn"
		tag				"id=_qiJgUPdmEeGH_6eRdlYQdA"
		linkNode		    [12 80 82]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				82
		name		    "delegation_slaveParamWriteIn"
		tag				"id=_qiKHYPdmEeGH_6eRdlYQdA"
		linkNode		    [12 81 83]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				83
		name		    "delegation_slaveReadOut"
		tag				"id=_qiISMPdmEeGH_6eRdlYQdA"
		linkNode		    [12 82 84]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				84
		name		    "delegation_slaveParamReadOut"
		tag				"id=_qiI5QPdmEeGH_6eRdlYQdA"
		linkNode		    [12 83 85]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				85
		name		    "delegation_slaveWriteOut"
		tag				"id=_qiKucPdmEeGH_6eRdlYQdA"
		linkNode		    [12 84 86]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				86
		name		    "delegation_slaveParamWriteOut"
		tag				"id=_qiKucfdmEeGH_6eRdlYQdA"
		linkNode		    [12 85 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			87
		name		"TestDelegationSlave/TestDelegationSlave_Statechart"
		machine		11
		chart		12
	}
	chart {
		id			88
		name		"TestDelegationMaster/TestDelegationMaster_Statechart"
		tag			"id=_qN5uoPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		2
		viewObj		88    
		decomposition	    CLUSTER_CHART
		treeNode		[0 89 0 0]
		firstData		90
	}
	state {
		id			89
		chart		88
		tag			"id=_qN68wPdmEeGH_6eRdlYQdA"
		treeNode	[88 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		91
  position [323.34 84.88 704.9601 664.0]
	}
	state {
		id			92
		chart		88
		tag			"id=_qN7j0PdmEeGH_6eRdlYQdA"
		treeNode	[89 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [330.99 116.08 569.0 625.0]
	}
	state {
		id			93
		chart		88
		tag			"id=_s7xqIPdmEeGH_6eRdlYQdA"
		treeNode	[92 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		94
		firstEvent		95
  position [338.63 146.79 553.0 504.0]
	}
	state {
		id			96
		chart		88
		tag			"id=_tDMgwPdmEeGH_6eRdlYQdA"
		treeNode	[93 0 0 0]
		labelString	"synchronization"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		97
  position [658.28 177.99 225.0 178.99998]
	}
	state {
		id			98
		chart		88
		tag			"id=_tIDyoPdmEeGH_6eRdlYQdA"
		treeNode	[96 0 0 0]
		labelString	"Start"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [701.49 268.62 54.0 36.0]
	}
	transition {
		id			99
		chart		88
		midPoint	[725.46497 262.985]
		src {
			intersection	[3 0 1 0 724.75 257.41 0 0]
		}
		dst {
			id	98
			intersection	[1 0 -1 0 726.18 268.56 0 0]
		}
	}

	state {
		id			100
		chart		88
		tag			"id=_tILHYPdmEeGH_6eRdlYQdA"
		treeNode	[96 0 0 0]
		labelString	"Stop\nentry: successAvailableSynchronizationDelMaster = true; failureAvailableSynchronizationDelMaster = true\nexit: successAvailableSynchronizationDelMaster = false; failureAvailableSynchronizationDelMaster = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [771.57 266.6 54.0 36.0]
	}

	state {
		id			101
		chart		88
		tag			"id=_tIScIPdmEeGH_6eRdlYQdA"
		treeNode	[96 0 0 0]
		labelString	"Failure"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [809.26 209.02 54.0 36.0]
	}

	state {
		id			102
		chart		88
		tag			"id=_tIZw4PdmEeGH_6eRdlYQdA"
		treeNode	[96 0 0 0]
		labelString	"Success"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [812.52985 313.08 62.50032 36.0]
	}

  transition {
  	id			97
    chart		88
    tag			"id=_wuZAIPdmEeGH_6eRdlYQdA"
    labelString "success"
    linkNode 	[96 0 0]
    executionOrder 1
  labelPosition [802.6 266.11 56.0 8.0]
  midPoint [817.385 255.85]
  	src {
  	  id		100
  	    	  
      intersection	[1 0 -1 0 810.49 266.38 0 0]
  	}
  	dst {
  	  id		101
  	    	  
      intersection	[3 0 1 0 824.28 245.32 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			103
    chart		88
    tag			"id=_wxpvgPdmEeGH_6eRdlYQdA"
    labelString "failure"
    linkNode 	[96 0 0]
    executionOrder 2
  labelPosition [776.58 313.14 56.0 8.0]
  midPoint [821.16504 307.83002]
  	src {
  	  id		100
  	    	  
      intersection	[3 0 1 0 816.18 302.71 0 0]
  	}
  	dst {
  	  id		102
  	    	  
      intersection	[1 0 -1 0 826.15 312.95 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			104
    chart		88
    tag			"id=_3YhV0PdmEeGH_6eRdlYQdA"
    labelString "[synchronizeAvailablePort_delegation_master]{send(synchronize, port_delegation_master)}"
    linkNode 	[96 0 0]
    executionOrder 1
  labelPosition [426.43 289.76 664.0 8.0]
  midPoint [763.505 285.615]
  	src {
  	  id		98
  	    	  
      intersection	[2 1 0 0 755.78 285.84 0 0]
  	}
  	dst {
  	  id		100
  	    	  
      intersection	[4 -1 0 0 771.23 285.39 0 0]
  	}
  	slide {
  	}
  }

	state {
		id			105
		chart		88
		tag			"id=_tDVDoPdmEeGH_6eRdlYQdA"
		treeNode	[93 0 0 0]
		labelString	"port_delegation_master"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		106
		firstTransition		107
  position [346.28 397.99 289.00003 245.0]
	}
	state {
		id			108
		chart		88
		tag			"id=_tIiTwPdmEeGH_6eRdlYQdA"
		treeNode	[105 0 0 0]
		labelString	"Inactive\nentry: synchronizeAvailableDelegation_Master = true\nexit: synchronizeAvailableDelegation_Master = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [481.69012 549.85 59.99976 36.0]
	}
	transition {
		id			109
		chart		88
		midPoint	[469.925 560.08997]
		src {
			intersection	[3 0 1 0 458.35 557.94 0 0]
		}
		dst {
			id	108
			intersection	[1 0 -1 0 481.5 562.24 0 0]
		}
	}

	state {
		id			110
		chart		88
		tag			"id=_tIq2oPdmEeGH_6eRdlYQdA"
		treeNode	[105 0 0 0]
		labelString	"Success"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [516.4698 599.16 62.50032 36.0]
	}

	state {
		id			111
		chart		88
		tag			"id=_tIyLYPdmEeGH_6eRdlYQdA"
		treeNode	[105 0 0 0]
		labelString	"Fail"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [572.9 506.22998 54.0 36.0]
	}

	state {
		id			112
		chart		88
		tag			"id=_tI6HMPdmEeGH_6eRdlYQdA"
		treeNode	[105 0 0 0]
		labelString	"Running\nentry: reset(c0)"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [495.50986 490.99 62.50032 36.0]
	}

	state {
		id			113
		chart		88
		tag			"id=_8Jjb4PdmEeGH_6eRdlYQdA"
		treeNode	[105 0 0 0]
		labelString	"Inv_Error"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [428.73987 429.38 70.500244 36.0]
	}

  transition {
  	id			107
    chart		88
    tag			"id=_tZTToPdmEeGH_6eRdlYQdA"
    labelString "[[checkQueue(EVT_COMPLETED, delegation_masterEvtReadOut)]]"
    linkNode 	[105 0 0]
    executionOrder 2
  labelPosition [294.31 557.29 448.0 8.0]
  midPoint [537.265 563.21]
  	src {
  	  id		112
  	    	  
      intersection	[3 0 1 0 530.32 527.34 0 0]
  	}
  	dst {
  	  id		110
  	    	  
      intersection	[1 0 -1 0 544.21 599.08 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			114
    chart		88
    tag			"id=_tbLi8PdmEeGH_6eRdlYQdA"
    labelString "[[checkQueue(EVT_FAILED, delegation_masterEvtReadOut)]]"
    linkNode 	[105 0 0]
    executionOrder 1
  labelPosition [348.46997 520.01 424.0 8.0]
  midPoint [565.41504 517.045]
  	src {
  	  id		112
  	    	  
      intersection	[2 1 0 0 558.2 515.54 0 0]
  	}
  	dst {
  	  id		111
  	    	  
      intersection	[4 -1 0 0 572.63 518.55 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			115
    chart		88
    tag			"id=_w_BdIPdmEeGH_6eRdlYQdA"
    labelString "synchronize{[delegation_masterEvtWriteOut, delegation_masterParamWriteOut] = enqueue(EVT_DELEGATE, delegation_masterEvtWriteOut, delegation_masterParamWriteOut)}"
    linkNode 	[105 0 0]
    executionOrder 1
  labelPosition [-136.0 535.21 1272.0 8.0]
  midPoint [519.255 538.315]
  	src {
  	  id		108
  	    	  
      intersection	[1 0 -1 0 516.38 549.55 0 0]
  	}
  	dst {
  	  id		112
  	    	  
      intersection	[3 0 1 0 522.13 527.08 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			116
    chart		88
    tag			"id=_3ZqlUPdmEeGH_6eRdlYQdA"
    labelString "[successAvailableSynchronization]{send(success, synchronization)}"
    linkNode 	[105 0 0]
    executionOrder 1
  labelPosition [273.71002 603.62 488.0 8.0]
  midPoint [529.705 592.505]
  	src {
  	  id		110
  	    	  
      intersection	[1 0 -1 0 534.51 599.08 0 0]
  	}
  	dst {
  	  id		108
  	    	  
      intersection	[3 0 1 0 524.9 585.93 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			117
    chart		88
    tag			"id=_3atuMPdmEeGH_6eRdlYQdA"
    labelString "[failureAvailableSynchronization]{send(failure, synchronization)}"
    linkNode 	[105 0 0]
    executionOrder 1
  labelPosition [311.7 526.12 488.0 8.0]
  midPoint [557.165 545.36]
  	src {
  	  id		111
  	    	  
      intersection	[4 -1 0 0 572.47 537.79 0 0]
  	}
  	dst {
  	  id		108
  	    	  
      intersection	[2 1 0 0 541.86 552.93 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			118
    chart		88
    tag			"id=_8Jjb4fdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 10]"
    linkNode 	[105 0 0]
    executionOrder 3
  labelPosition [459.17 464.92 104.0 8.0]
  midPoint [495.41998 478.22998]
  	src {
  	  id		112
  	    	  
      intersection	[1 0 -1 0 508.27 490.84 0 0]
  	}
  	dst {
  	  id		113
  	    	  
      intersection	[3 0 1 0 482.57 465.62 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				106
		name		    "EVT_COMPLETED"
		tag				"id=_5mr2gPdmEeGH_6eRdlYQdA"
		linkNode		    [105 0 119]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"3"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				119
		name		    "EVT_FAILED"
		tag				"id=_5nQeQPdmEeGH_6eRdlYQdA"
		linkNode		    [105 106 120]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"4"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				120
		name		    "EVT_DELEGATE"
		tag				"id=_6SRKIPdmEeGH_6eRdlYQdA"
		linkNode		    [105 119 121]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"2"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				121
		name		    "c0"
		tag				"id=_7bYuUPdmEeGH_6eRdlYQdA"
		linkNode		    [105 120 0]
		machine		    11
		dataType		"double"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"0.0"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				95
		ssIdNumber		95
		name		    "synchronize"
		tag				"id=_vR4l4PdmEeGH_6eRdlYQdA"
		linkNode		    [93 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				122
		ssIdNumber		122
		name		    "success"
		tag				"id=_vR50APdmEeGH_6eRdlYQdA"
		linkNode		    [93 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				123
		ssIdNumber		123
		name		    "failure"
		tag				"id=_vR7CIPdmEeGH_6eRdlYQdA"
		linkNode		    [93 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				94
		name		    "EVT_DELEGATE"
		tag				"id=__2SzYPdmEeGH_6eRdlYQdA"
		linkNode		    [93 0 124]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"2"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				124
		name		    "EVT_COMPLETED"
		tag				"id=_BQncUPdnEeGH_6eRdlYQdA"
		linkNode		    [93 94 125]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"3"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				125
		name		    "EVT_FAILED"
		tag				"id=_B3Ke8PdnEeGH_6eRdlYQdA"
		linkNode		    [93 124 126]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"4"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				126
		name		    "successAvailableSynchronizationDelMaster"
		tag				"id=_wvInAPdmEeGH_6eRdlYQdA"
		linkNode		    [93 125 127]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				127
		name		    "failureAvailableSynchronizationDelMaster"
		tag				"id=_wxwdMPdmEeGH_6eRdlYQdA"
		linkNode		    [93 126 128]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				128
		name		    "synchronizeAvailableDelegation_Master"
		tag				"id=_w_IK0PdmEeGH_6eRdlYQdA"
		linkNode		    [93 127 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			129
		chart		88
		midPoint	[640.395 549.43]
		src {
			intersection	[3 0 1 0 665.05 696.43 0 0]
		}
		dst {
			id	93
			intersection	[1 0 -1 0 615.74 402.43 0 0]
		}
	}


	state {
		id			130
		chart		88
		tag			"id=_qN8K4PdmEeGH_6eRdlYQdA"
		treeNode	[89 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [960.4901 704.58 59.99976 36.0]
	}

  transition {
  	id			91
    chart		88
    tag			"id=_qN8x8PdmEeGH_6eRdlYQdA"
    labelString "{delegation_masterEvtWriteOut = delegation_masterEvtWriteIn;
delegation_masterParamWriteOut = delegation_masterParamWriteIn;
delegation_masterEvtReadOut = delegation_masterEvtReadIn;
delegation_masterParamReadOut = delegation_masterParamReadIn;
}"
    linkNode 	[89 0 0]
    executionOrder 0
  labelPosition [255.0 718.58 1952.0 8.0]
  midPoint [1021.0 722.58]
  	src {
  	  id		130
  	    	  
      intersection	[2 1 0 0 1021.0 715.83 0 0]
  	}
  	dst {
  	  id		130
  	    	  
      intersection	[2 1 0 0 1021.0 729.33 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			131
		chart		88
		midPoint	[811.15 244.1605]
		src {
			intersection	[3 0 1 0 942.79 76.121 0 0]
		}
		dst {
			id	89
			intersection	[1 0 -1 0 679.51 412.2 0 0]
		}
	}

	state {
		id				132
		chart			88
		tag				"id=_qN8x8fdmEeGH_6eRdlYQdA"
		treeNode		[88 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [571.8301 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				133
		name		    "evtQueueIn"
		tag				"id=_qN-AEPdmEeGH_6eRdlYQdA"
		linkNode		    [132 0 134]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				134
		name		    "param"
		tag				"id=_qN-AEfdmEeGH_6eRdlYQdA"
		linkNode		    [132 133 135]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				135
		name		    "paramQueueIn"
		tag				"id=_qN-nIPdmEeGH_6eRdlYQdA"
		linkNode		    [132 134 136]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				136
		name		    "event"
		tag				"id=_qN-nIfdmEeGH_6eRdlYQdA"
		linkNode		    [132 135 137]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				137
		name		    "evtQueue"
		tag				"id=_qN-nIvdmEeGH_6eRdlYQdA"
		linkNode		    [132 136 138]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				138
		name		    "paramQueue"
		tag				"id=_qN-nI_dmEeGH_6eRdlYQdA"
		linkNode		    [132 137 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				139
		chart			88
		tag				"id=_qN8x8vdmEeGH_6eRdlYQdA"
		treeNode		[88 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [819.8316 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				140
		name		    "event"
		tag				"id=_qN-nJPdmEeGH_6eRdlYQdA"
		linkNode		    [139 0 141]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				141
		name		    "evtQueue"
		tag				"id=_qN_OMPdmEeGH_6eRdlYQdA"
		linkNode		    [139 140 142]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				142
		name		    "available"
		tag				"id=_qN_OMfdmEeGH_6eRdlYQdA"
		linkNode		    [139 141 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				143
		chart			88
		tag				"id=_qN9ZAPdmEeGH_6eRdlYQdA"
		treeNode		[88 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [695.33 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				144
		name		    "event"
		tag				"id=_qN_OMvdmEeGH_6eRdlYQdA"
		linkNode		    [143 0 145]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				145
		name		    "evtQueueIn"
		tag				"id=_qN_OM_dmEeGH_6eRdlYQdA"
		linkNode		    [143 144 146]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				146
		name		    "paramQueueIn"
		tag				"id=_qN_ONPdmEeGH_6eRdlYQdA"
		linkNode		    [143 145 147]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				147
		name		    "evtQueue"
		tag				"id=_qN_1QPdmEeGH_6eRdlYQdA"
		linkNode		    [143 146 148]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				148
		name		    "paramQueue"
		tag				"id=_qN_1QfdmEeGH_6eRdlYQdA"
		linkNode		    [143 147 149]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				149
		name		    "parameter"
		tag				"id=_qN_1QvdmEeGH_6eRdlYQdA"
		linkNode		    [143 148 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				150
		chart			88
		tag				"id=_qN9ZAfdmEeGH_6eRdlYQdA"
		treeNode		[88 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [385.83 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				151
		name		    "clock"
		tag				"id=_qN_1Q_dmEeGH_6eRdlYQdA"
		linkNode		    [150 0 152]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				152
		name		    "logicalTime"
		tag				"id=_qN_1RPdmEeGH_6eRdlYQdA"
		linkNode		    [150 151 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				153
		chart			88
		tag				"id=_qN9ZAvdmEeGH_6eRdlYQdA"
		treeNode		[88 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [478.83 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				154
		name		    "clock"
		tag				"id=_qOAcUPdmEeGH_6eRdlYQdA"
		linkNode		    [153 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				90
		name		    "clockSignal"
		tag				"id=_qXMNgPdmEeGH_6eRdlYQdA"
		linkNode		    [88 0 155]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				155
		name		    "delegation_masterReadIn"
		tag				"id=_qrcmQPdmEeGH_6eRdlYQdA"
		linkNode		    [88 90 156]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				156
		name		    "delegation_masterParamReadIn"
		tag				"id=_qrcmQfdmEeGH_6eRdlYQdA"
		linkNode		    [88 155 157]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				157
		name		    "delegation_masterWriteIn"
		tag				"id=_qrd0YfdmEeGH_6eRdlYQdA"
		linkNode		    [88 156 158]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				158
		name		    "delegation_masterParamWriteIn"
		tag				"id=_qrebcPdmEeGH_6eRdlYQdA"
		linkNode		    [88 157 159]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				159
		name		    "delegation_masterReadOut"
		tag				"id=_qrdNUPdmEeGH_6eRdlYQdA"
		linkNode		    [88 158 160]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				160
		name		    "delegation_masterParamReadOut"
		tag				"id=_qrd0YPdmEeGH_6eRdlYQdA"
		linkNode		    [88 159 161]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				161
		name		    "delegation_masterWriteOut"
		tag				"id=_qrfCgPdmEeGH_6eRdlYQdA"
		linkNode		    [88 160 162]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				162
		name		    "delegation_masterParamWriteOut"
		tag				"id=_qrfpkPdmEeGH_6eRdlYQdA"
		linkNode		    [88 161 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			163
		name		"TestDelegationMaster/TestDelegationMaster_Statechart"
		machine		11
		chart		88
	}
	chart {
		id			164
		name		"TestEventListenerSlave/TestEventListenerSlave_Statechart"
		tag			"id=_qOJmQPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		3
		viewObj		164    
		decomposition	    CLUSTER_CHART
		treeNode		[0 165 0 0]
		firstData		166
	}
	state {
		id			165
		chart		164
		tag			"id=_qOKNUPdmEeGH_6eRdlYQdA"
		treeNode	[164 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		167
	}
	state {
		id			168
		chart		164
		tag			"id=_qOK0YPdmEeGH_6eRdlYQdA"
		treeNode	[165 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}
	state {
		id			169
		chart		164
		tag			"id=_s8FzMPdmEeGH_6eRdlYQdA"
		treeNode	[168 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		170
		firstEvent		171
	}
	state {
		id			172
		chart		164
		tag			"id=_tDdmgPdmEeGH_6eRdlYQdA"
		treeNode	[169 0 0 0]
		labelString	"synch"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		173
	}
	state {
		id			174
		chart		164
		tag			"id=_tJCqEPdmEeGH_6eRdlYQdA"
		treeNode	[172 0 0 0]
		labelString	"s1\nentry: performedAvailableStatechart = true\nexit: performedAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}
	transition {
		id			175
		chart		164
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	174
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

  transition {
  	id			173
    chart		164
    tag			"id=_89vR4PdmEeGH_6eRdlYQdA"
    labelString "performed"
    linkNode 	[172 0 0]
    executionOrder 1
  	src {
  	  id		174
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		174
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }

	state {
		id			176
		chart		164
		tag			"id=_tDmJYPdmEeGH_6eRdlYQdA"
		treeNode	[169 0 0 0]
		labelString	"port eventlistener slave"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		177
		firstTransition		178
	}
	state {
		id			179
		chart		164
		tag			"id=_tJKl4PdmEeGH_6eRdlYQdA"
		treeNode	[176 0 0 0]
		labelString	"Receiving"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}
	transition {
		id			180
		chart		164
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	179
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

  transition {
  	id			178
    chart		164
    tag			"id=_-E5HMPdmEeGH_6eRdlYQdA"
    labelString "[([performedAvailableSynch]/) && ([checkQueue(EVT_PERFORM, eventListener_slaveEvtReadOut)])]{send(performed, synch)}"
    linkNode 	[176 0 0]
    executionOrder 1
  	src {
  	  id		179
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		179
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				177
		name		    "EVT_PERFORM"
		tag				"id=_5oxhMPdmEeGH_6eRdlYQdA"
		linkNode		    [176 0 0]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"1"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				171
		ssIdNumber		171
		name		    "performed"
		tag				"id=_vR8QQPdmEeGH_6eRdlYQdA"
		linkNode		    [169 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				170
		name		    "EVT_PERFORM"
		tag				"id=_BWKqsPdnEeGH_6eRdlYQdA"
		linkNode		    [169 0 181]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"1"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				181
		name		    "performedAvailableStatechart"
		tag				"id=_896RAPdmEeGH_6eRdlYQdA"
		linkNode		    [169 170 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			182
		chart		164
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	169
			intersection	[0 0 0 0 0 0 0 0]
		}
	}


	state {
		id			183
		chart		164
		tag			"id=_qOK0YfdmEeGH_6eRdlYQdA"
		treeNode	[165 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}

  transition {
  	id			167
    chart		164
    tag			"id=_qOLbcPdmEeGH_6eRdlYQdA"
    labelString "{eventListener_slaveEvtWriteOut = eventListener_slaveEvtWriteIn;
eventListener_slaveParamWriteOut = eventListener_slaveParamWriteIn;
eventListener_slaveEvtReadOut = eventListener_slaveEvtReadIn;
eventListener_slaveParamReadOut = eventListener_slaveParamReadIn;
}"
    linkNode 	[165 0 0]
    executionOrder 0
  	src {
  	  id		183
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		183
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	transition {
		id			184
		chart		164
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	165
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

	state {
		id				185
		chart			164
		tag				"id=_qOLbcfdmEeGH_6eRdlYQdA"
		treeNode		[164 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				186
		name		    "evtQueueIn"
		tag				"id=_qOMCgvdmEeGH_6eRdlYQdA"
		linkNode		    [185 0 187]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				187
		name		    "param"
		tag				"id=_qOMpkPdmEeGH_6eRdlYQdA"
		linkNode		    [185 186 188]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				188
		name		    "paramQueueIn"
		tag				"id=_qOMpkfdmEeGH_6eRdlYQdA"
		linkNode		    [185 187 189]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				189
		name		    "event"
		tag				"id=_qOMpkvdmEeGH_6eRdlYQdA"
		linkNode		    [185 188 190]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				190
		name		    "evtQueue"
		tag				"id=_qOMpk_dmEeGH_6eRdlYQdA"
		linkNode		    [185 189 191]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				191
		name		    "paramQueue"
		tag				"id=_qOMplPdmEeGH_6eRdlYQdA"
		linkNode		    [185 190 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				192
		chart			164
		tag				"id=_qOLbcvdmEeGH_6eRdlYQdA"
		treeNode		[164 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				193
		name		    "event"
		tag				"id=_qOMplfdmEeGH_6eRdlYQdA"
		linkNode		    [192 0 194]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				194
		name		    "evtQueue"
		tag				"id=_qONQoPdmEeGH_6eRdlYQdA"
		linkNode		    [192 193 195]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				195
		name		    "available"
		tag				"id=_qONQofdmEeGH_6eRdlYQdA"
		linkNode		    [192 194 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				196
		chart			164
		tag				"id=_qOLbc_dmEeGH_6eRdlYQdA"
		treeNode		[164 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				197
		name		    "event"
		tag				"id=_qONQovdmEeGH_6eRdlYQdA"
		linkNode		    [196 0 198]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				198
		name		    "evtQueueIn"
		tag				"id=_qONQo_dmEeGH_6eRdlYQdA"
		linkNode		    [196 197 199]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				199
		name		    "paramQueueIn"
		tag				"id=_qONQpPdmEeGH_6eRdlYQdA"
		linkNode		    [196 198 200]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				200
		name		    "evtQueue"
		tag				"id=_qON3sPdmEeGH_6eRdlYQdA"
		linkNode		    [196 199 201]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				201
		name		    "paramQueue"
		tag				"id=_qON3sfdmEeGH_6eRdlYQdA"
		linkNode		    [196 200 202]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				202
		name		    "parameter"
		tag				"id=_qON3svdmEeGH_6eRdlYQdA"
		linkNode		    [196 201 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				203
		chart			164
		tag				"id=_qOMCgPdmEeGH_6eRdlYQdA"
		treeNode		[164 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				204
		name		    "clock"
		tag				"id=_qON3s_dmEeGH_6eRdlYQdA"
		linkNode		    [203 0 205]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				205
		name		    "logicalTime"
		tag				"id=_qON3tPdmEeGH_6eRdlYQdA"
		linkNode		    [203 204 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				206
		chart			164
		tag				"id=_qOMCgfdmEeGH_6eRdlYQdA"
		treeNode		[164 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				207
		name		    "clock"
		tag				"id=_qON3tfdmEeGH_6eRdlYQdA"
		linkNode		    [206 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				166
		name		    "clockSignal"
		tag				"id=_qXXMoPdmEeGH_6eRdlYQdA"
		linkNode		    [164 0 208]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				208
		name		    "eventListener_slaveReadIn"
		tag				"id=_q0kGAPdmEeGH_6eRdlYQdA"
		linkNode		    [164 166 209]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				209
		name		    "eventListener_slaveParamReadIn"
		tag				"id=_q0kGAfdmEeGH_6eRdlYQdA"
		linkNode		    [164 208 210]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				210
		name		    "eventListener_slaveWriteIn"
		tag				"id=_q0lUIfdmEeGH_6eRdlYQdA"
		linkNode		    [164 209 211]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				211
		name		    "eventListener_slaveParamWriteIn"
		tag				"id=_q0l7MPdmEeGH_6eRdlYQdA"
		linkNode		    [164 210 212]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				212
		name		    "eventListener_slaveReadOut"
		tag				"id=_q0ktEPdmEeGH_6eRdlYQdA"
		linkNode		    [164 211 213]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				213
		name		    "eventListener_slaveParamReadOut"
		tag				"id=_q0lUIPdmEeGH_6eRdlYQdA"
		linkNode		    [164 212 214]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				214
		name		    "eventListener_slaveWriteOut"
		tag				"id=_q0miQPdmEeGH_6eRdlYQdA"
		linkNode		    [164 213 215]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				215
		name		    "eventListener_slaveParamWriteOut"
		tag				"id=_q0miQfdmEeGH_6eRdlYQdA"
		linkNode		    [164 214 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			216
		name		"TestEventListenerSlave/TestEventListenerSlave_Statechart"
		machine		11
		chart		164
	}
	chart {
		id			217
		name		"TestEventListenerMaster/TestEventListenerMaster_Statechart"
		tag			"id=_qPGBcPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		4
		viewObj		217    
		decomposition	    CLUSTER_CHART
		treeNode		[0 218 0 0]
		firstData		219
	}
	state {
		id			218
		chart		217
		tag			"id=_qPGogPdmEeGH_6eRdlYQdA"
		treeNode	[217 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		220
  position [109.41 76.93 562.0 534.0]
	}
	state {
		id			221
		chart		217
		tag			"id=_qPHPkPdmEeGH_6eRdlYQdA"
		treeNode	[218 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [117.56 200.63 464.0 402.0]
	}
	state {
		id			222
		chart		217
		tag			"id=_s8PkMPdmEeGH_6eRdlYQdA"
		treeNode	[221 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		223
		firstEvent		224
  position [125.7 231.84 330.0 337.00003]
	}
	state {
		id			225
		chart		217
		tag			"id=_tDuFMPdmEeGH_6eRdlYQdA"
		treeNode	[222 0 0 0]
		labelString	"synch"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		226
  position [133.85 412.54 158.0 147.99997]
	}
	state {
		id			227
		chart		217
		tag			"id=_tJShsPdmEeGH_6eRdlYQdA"
		treeNode	[225 0 0 0]
		labelString	"s1"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [158.51 490.13 54.0 36.0]
	}
	transition {
		id			228
		chart		217
		midPoint	[191.85501 484.91498]
		src {
			intersection	[3 0 1 0 193.25 479.8 0 0]
		}
		dst {
			id	227
			intersection	[1 0 -1 0 190.46 490.03 0 0]
		}
	}

	state {
		id			229
		chart		217
		tag			"id=_tJbEkPdmEeGH_6eRdlYQdA"
		treeNode	[225 0 0 0]
		labelString	"s2"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [229.73001 516.21 54.0 36.0]
	}

  transition {
  	id			226
    chart		217
    tag			"id=_3llhcPdmEeGH_6eRdlYQdA"
    labelString "[performAvailableEventListenerMaster]{send(perform, eventListenerMaster)}"
    linkNode 	[225 0 0]
    executionOrder 1
  labelPosition [-62.5 527.48 552.0 8.0]
  midPoint [221.215 521.205]
  	src {
  	  id		227
  	    	  
      intersection	[2 1 0 0 212.84 518.14 0 0]
  	}
  	dst {
  	  id		229
  	    	  
      intersection	[4 -1 0 0 229.59 524.27 0 0]
  	}
  	slide {
  	}
  }

	state {
		id			230
		chart		217
		tag			"id=_tD1Z8PdmEeGH_6eRdlYQdA"
		treeNode	[222 0 0 0]
		labelString	"eventListenerMaster"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		231
		firstTransition		232
  position [309.85 262.54 138.0 122.0]
	}
	state {
		id			233
		chart		217
		tag			"id=_tJkOgPdmEeGH_6eRdlYQdA"
		treeNode	[230 0 0 0]
		labelString	"Waiting\nentry: performAvailableEventListener_Master = true\nexit: performAvailableEventListener_Master = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [318.16 340.17 58.5 36.0]
	}
	transition {
		id			234
		chart		217
		midPoint	[365.89502 334.565]
		src {
			intersection	[3 0 1 0 370.09 329.21 0 0]
		}
		dst {
			id	233
			intersection	[1 0 -1 0 361.7 339.92 0 0]
		}
	}

  transition {
  	id			232
    chart		217
    tag			"id=_9B3j8PdmEeGH_6eRdlYQdA"
    labelString "perform{[eventListener_masterEvtWriteOut, eventListener_masterParamWriteOut] = enqueue(EVT_PERFORM, eventListener_masterEvtWriteOut, eventListener_masterParamWriteOut)}"
    linkNode 	[230 0 0]
    executionOrder 1
  labelPosition [251.90997 354.17 1328.0 8.0]
  midPoint [377.1 358.17]
  	src {
  	  id		233
  	    	  
      intersection	[2 1 0 0 377.1 351.42 0 0]
  	}
  	dst {
  	  id		233
  	    	  
      intersection	[2 1 0 0 377.1 364.92 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				231
		name		    "EVT_PERFORM"
		tag				"id=_6UYC8PdmEeGH_6eRdlYQdA"
		linkNode		    [230 0 0]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"1"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				224
		ssIdNumber		224
		name		    "perform"
		tag				"id=_vR9eYPdmEeGH_6eRdlYQdA"
		linkNode		    [222 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				223
		name		    "EVT_PERFORM"
		tag				"id=__YI3wPdmEeGH_6eRdlYQdA"
		linkNode		    [222 0 235]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"1"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				235
		name		    "performAvailableEventListener_Master"
		tag				"id=_9CCjEPdmEeGH_6eRdlYQdA"
		linkNode		    [222 223 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			236
		chart		217
		midPoint	[402.2 481.76498]
		src {
			intersection	[3 0 1 0 510.31 560.72 0 0]
		}
		dst {
			id	222
			intersection	[1 0 -1 0 294.09 402.81 0 0]
		}
	}


	state {
		id			237
		chart		217
		tag			"id=_qPH2oPdmEeGH_6eRdlYQdA"
		treeNode	[218 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [603.5601 107.63 59.99976 36.0]
	}

  transition {
  	id			220
    chart		217
    tag			"id=_qPH2ofdmEeGH_6eRdlYQdA"
    labelString "{eventListener_masterEvtWriteOut = eventListener_masterEvtWriteIn;
eventListener_masterParamWriteOut = eventListener_masterParamWriteIn;
eventListener_masterEvtReadOut = eventListener_masterEvtReadIn;
eventListener_masterParamReadOut = eventListener_masterParamReadIn;
}"
    linkNode 	[218 0 0]
    executionOrder 0
  labelPosition [-180.44 121.63 2144.0 8.0]
  midPoint [664.02 125.630005]
  	src {
  	  id		237
  	    	  
      intersection	[2 1 0 0 664.02 118.88 0 0]
  	}
  	dst {
  	  id		237
  	    	  
      intersection	[2 1 0 0 664.02 132.38 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			238
		chart		217
		midPoint	[500.425 203.49551]
		src {
			intersection	[3 0 1 0 607.52 66.791 0 0]
		}
		dst {
			id	218
			intersection	[1 0 -1 0 393.33 340.2 0 0]
		}
	}

	state {
		id				239
		chart			217
		tag				"id=_qPH2ovdmEeGH_6eRdlYQdA"
		treeNode		[217 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [684.37006 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				240
		name		    "evtQueueIn"
		tag				"id=_qPJEwPdmEeGH_6eRdlYQdA"
		linkNode		    [239 0 241]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				241
		name		    "param"
		tag				"id=_qPJEwfdmEeGH_6eRdlYQdA"
		linkNode		    [239 240 242]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				242
		name		    "paramQueueIn"
		tag				"id=_qPJEwvdmEeGH_6eRdlYQdA"
		linkNode		    [239 241 243]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				243
		name		    "event"
		tag				"id=_qPJEw_dmEeGH_6eRdlYQdA"
		linkNode		    [239 242 244]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				244
		name		    "evtQueue"
		tag				"id=_qPJExPdmEeGH_6eRdlYQdA"
		linkNode		    [239 243 245]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				245
		name		    "paramQueue"
		tag				"id=_qPJExfdmEeGH_6eRdlYQdA"
		linkNode		    [239 244 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				246
		chart			217
		tag				"id=_qPH2o_dmEeGH_6eRdlYQdA"
		treeNode		[217 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [484.37158 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				247
		name		    "event"
		tag				"id=_qPJr0PdmEeGH_6eRdlYQdA"
		linkNode		    [246 0 248]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				248
		name		    "evtQueue"
		tag				"id=_qPJr0fdmEeGH_6eRdlYQdA"
		linkNode		    [246 247 249]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				249
		name		    "available"
		tag				"id=_qPJr0vdmEeGH_6eRdlYQdA"
		linkNode		    [246 248 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				250
		chart			217
		tag				"id=_qPIdsPdmEeGH_6eRdlYQdA"
		treeNode		[217 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [383.87 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				251
		name		    "event"
		tag				"id=_qPJr0_dmEeGH_6eRdlYQdA"
		linkNode		    [250 0 252]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				252
		name		    "evtQueueIn"
		tag				"id=_qPJr1PdmEeGH_6eRdlYQdA"
		linkNode		    [250 251 253]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				253
		name		    "paramQueueIn"
		tag				"id=_qPJr1fdmEeGH_6eRdlYQdA"
		linkNode		    [250 252 254]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				254
		name		    "evtQueue"
		tag				"id=_qPKS4PdmEeGH_6eRdlYQdA"
		linkNode		    [250 253 255]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				255
		name		    "paramQueue"
		tag				"id=_qPKS4fdmEeGH_6eRdlYQdA"
		linkNode		    [250 254 256]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				256
		name		    "parameter"
		tag				"id=_qPKS4vdmEeGH_6eRdlYQdA"
		linkNode		    [250 255 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				257
		chart			217
		tag				"id=_qPIdsfdmEeGH_6eRdlYQdA"
		treeNode		[217 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [284.37 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				258
		name		    "clock"
		tag				"id=_qPKS4_dmEeGH_6eRdlYQdA"
		linkNode		    [257 0 259]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				259
		name		    "logicalTime"
		tag				"id=_qPKS5PdmEeGH_6eRdlYQdA"
		linkNode		    [257 258 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				260
		chart			217
		tag				"id=_qPIdsvdmEeGH_6eRdlYQdA"
		treeNode		[217 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [184.37 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				261
		name		    "clock"
		tag				"id=_qPKS5fdmEeGH_6eRdlYQdA"
		linkNode		    [260 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				219
		name		    "clockSignal"
		tag				"id=_qXg9ofdmEeGH_6eRdlYQdA"
		linkNode		    [217 0 262]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				262
		name		    "eventListener_masterReadIn"
		tag				"id=_q9xFUPdmEeGH_6eRdlYQdA"
		linkNode		    [217 219 263]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				263
		name		    "eventListener_masterParamReadIn"
		tag				"id=_q9xsYPdmEeGH_6eRdlYQdA"
		linkNode		    [217 262 264]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				264
		name		    "eventListener_masterWriteIn"
		tag				"id=_q90IoPdmEeGH_6eRdlYQdA"
		linkNode		    [217 263 265]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				265
		name		    "eventListener_masterParamWriteIn"
		tag				"id=_q90vsPdmEeGH_6eRdlYQdA"
		linkNode		    [217 264 266]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				266
		name		    "eventListener_masterReadOut"
		tag				"id=_q9yTcPdmEeGH_6eRdlYQdA"
		linkNode		    [217 265 267]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				267
		name		    "eventListener_masterParamReadOut"
		tag				"id=_q9y6gPdmEeGH_6eRdlYQdA"
		linkNode		    [217 266 268]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				268
		name		    "eventListener_masterWriteOut"
		tag				"id=_q91WwPdmEeGH_6eRdlYQdA"
		linkNode		    [217 267 269]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				269
		name		    "eventListener_masterParamWriteOut"
		tag				"id=_q91WwfdmEeGH_6eRdlYQdA"
		linkNode		    [217 268 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			270
		name		"TestEventListenerMaster/TestEventListenerMaster_Statechart"
		machine		11
		chart		217
	}
	chart {
		id			271
		name		"Master_Slave_Assignment_comp"
		tag			"id=_qPaKgPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		5
		viewObj		271    
		decomposition	    CLUSTER_CHART
		treeNode		[0 272 0 0]
	}
	state {
		id			272
		chart		271
		tag			"id=_qPbYoPdmEeGH_6eRdlYQdA"
		treeNode	[271 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		273
  position [0.30878 86.163 796.0012 754.99695]
	}
	state {
		id			274
		chart		271
		tag			"id=_qPb_sPdmEeGH_6eRdlYQdA"
		treeNode	[272 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [7.9536 236.87 684.9964 596.0]
	}
	state {
		id			275
		chart		271
		tag			"id=_s8bKYPdmEeGH_6eRdlYQdA"
		treeNode	[274 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		276
		firstEvent		277
  position [16.099 268.07 538.001 479.0]
	}
	state {
		id			278
		chart		271
		tag			"id=_tD9VwPdmEeGH_6eRdlYQdA"
		treeNode	[275 0 0 0]
		labelString	"Synchronization"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		279
  position [284.24 298.77 262.0 206.0]
	}
	state {
		id			280
		chart		271
		tag			"id=_tJsxYPdmEeGH_6eRdlYQdA"
		treeNode	[278 0 0 0]
		labelString	"Sleep\nentry: clientAvailableStatechart = true\nexit: clientAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [331.13 413.63 54.0 36.0]
	}
	transition {
		id			281
		chart		271
		midPoint	[353.005 455.33502]
		src {
			intersection	[3 0 1 0 351.84 460.73 0 0]
		}
		dst {
			id	280
			intersection	[1 0 -1 0 354.17 449.94 0 0]
		}
	}

	state {
		id			282
		chart		271
		tag			"id=_tJ3JcPdmEeGH_6eRdlYQdA"
		treeNode	[278 0 0 0]
		labelString	"State\nentry: clientAvailableStatechart = true; masterAvailableStatechart = true\nexit: clientAvailableStatechart = false; masterAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [478.76 407.01 54.0 36.0]
	}

	state {
		id			283
		chart		271
		tag			"id=_tKCIkPdmEeGH_6eRdlYQdA"
		treeNode	[278 0 0 0]
		labelString	"Client"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [398.08 386.04 54.0 36.0]
	}

	state {
		id			284
		chart		271
		tag			"id=_tKKEYPdmEeGH_6eRdlYQdA"
		treeNode	[278 0 0 0]
		labelString	"Master"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [483.38016 353.56 54.49968 36.0]
	}

	state {
		id			285
		chart		271
		tag			"id=_tKSAMPdmEeGH_6eRdlYQdA"
		treeNode	[278 0 0 0]
		labelString	"End\nentry: clientAvailableStatechart = true; masterAvailableStatechart = true\nexit: clientAvailableStatechart = false; masterAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [389.88 329.63 54.0 36.0]
	}

  transition {
  	id			279
    chart		271
    tag			"id=_tlHiEPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[278 0 0]
    executionOrder 1
  midPoint [414.565 375.79498]
  	src {
  	  id		283
  	    	  
      intersection	[1 0 -1 0 415.95 385.87 0 0]
  	}
  	dst {
  	  id		285
  	    	  
      intersection	[3 0 1 0 413.18 365.72 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			286
    chart		271
    tag			"id=_toMEMPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[278 0 0]
    executionOrder 1
  midPoint [463.66498 365.965]
  	src {
  	  id		284
  	    	  
      intersection	[4 -1 0 0 483.25 370.88 0 0]
  	}
  	dst {
  	  id		285
  	    	  
      intersection	[2 1 0 0 444.08 361.05 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			287
    chart		271
    tag			"id=_xztCYPdmEeGH_6eRdlYQdA"
    labelString "client"
    linkNode 	[278 0 0]
    executionOrder 1
  labelPosition [368.7 428.86 48.0 8.0]
  midPoint [391.51 417.875]
  	src {
  	  id		280
  	    	  
      intersection	[2 1 0 0 385.36 420.41 0 0]
  	}
  	dst {
  	  id		283
  	    	  
      intersection	[4 -1 0 0 397.66 415.34 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			288
    chart		271
    tag			"id=_x5oEMPdmEeGH_6eRdlYQdA"
    labelString "client"
    linkNode 	[278 0 0]
    executionOrder 2
  labelPosition [448.18 400.76 48.0 8.0]
  midPoint [465.265 414.485]
  	src {
  	  id		282
  	    	  
      intersection	[4 -1 0 0 478.44 417.91 0 0]
  	}
  	dst {
  	  id		283
  	    	  
      intersection	[2 1 0 0 452.09 411.06 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			289
    chart		271
    tag			"id=_x_BhkPdmEeGH_6eRdlYQdA"
    labelString "client"
    linkNode 	[278 0 0]
    executionOrder 1
  labelPosition [418.91 365.84 48.0 8.0]
  midPoint [427.405 375.88]
  	src {
  	  id		285
  	    	  
      intersection	[3 0 1 0 426.02 365.8 0 0]
  	}
  	dst {
  	  id		283
  	    	  
      intersection	[1 0 -1 0 428.79 385.96 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			290
    chart		271
    tag			"id=_yDzT4PdmEeGH_6eRdlYQdA"
    labelString "master"
    linkNode 	[278 0 0]
    executionOrder 1
  labelPosition [465.74 399.28 48.0 8.0]
  midPoint [508.195 398.28003]
  	src {
  	  id		282
  	    	  
      intersection	[1 0 -1 0 507.41 406.92 0 0]
  	}
  	dst {
  	  id		284
  	    	  
      intersection	[3 0 1 0 508.98 389.64 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			291
    chart		271
    tag			"id=_yI-HwPdmEeGH_6eRdlYQdA"
    labelString "master"
    linkNode 	[278 0 0]
    executionOrder 2
  labelPosition [432.84 358.76 48.0 8.0]
  midPoint [463.65002 353.18]
  	src {
  	  id		285
  	    	  
      intersection	[2 1 0 0 444.01 348.27 0 0]
  	}
  	dst {
  	  id		284
  	    	  
      intersection	[4 -1 0 0 483.29 358.09 0 0]
  	}
  	slide {
  	}
  }

	state {
		id			292
		chart		271
		tag			"id=_tEEqgPdmEeGH_6eRdlYQdA"
		treeNode	[275 0 0 0]
		labelString	"Master_Slave_Ass_Competitor"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		293
		firstTransition		294
  position [24.243 538.27 271.99698 201.0]
	}
	state {
		id			295
		chart		271
		tag			"id=_tKajEPdmEeGH_6eRdlYQdA"
		treeNode	[292 0 0 0]
		labelString	"Unset\nentry: startAssignmentAvailableMaster_Slave_Assignment_Competitor = true\nexit: startAssignmentAvailableMaster_Slave_Assignment_Competitor = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [153.81 649.3 54.0 36.0]
	}
	transition {
		id			296
		chart		271
		midPoint	[149.03 633.81]
		src {
			intersection	[3 0 1 0 134.67 618.68 0 0]
		}
		dst {
			id	295
			intersection	[1 0 -1 0 163.39 648.94 0 0]
		}
	}

	state {
		id			297
		chart		271
		tag			"id=_tKh30PdmEeGH_6eRdlYQdA"
		treeNode	[292 0 0 0]
		labelString	"MasterRequest\nentry: reset(c0)"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [120.47121 695.56 100.4976 36.0]
	}

	state {
		id			298
		chart		271
		tag			"id=_tKpzoPdmEeGH_6eRdlYQdA"
		treeNode	[292 0 0 0]
		labelString	"MasterOk"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [206.52 569.71 72.0 36.0]
	}

	state {
		id			299
		chart		271
		tag			"id=_tKzkoPdmEeGH_6eRdlYQdA"
		treeNode	[292 0 0 0]
		labelString	"Client"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [234.54001 688.01 54.0 36.0]
	}

	state {
		id			300
		chart		271
		tag			"id=_8J4zEPdmEeGH_6eRdlYQdA"
		treeNode	[292 0 0 0]
		labelString	"Inv_Error"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [32.319878 670.86 70.500244 36.0]
	}

  transition {
  	id			294
    chart		271
    tag			"id=_tzTIAPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[292 0 0]
    executionOrder 1
  midPoint [221.325 686.73]
  	src {
  	  id		295
  	    	  
      intersection	[2 1 0 0 208.14 680.41 0 0]
  	}
  	dst {
  	  id		299
  	    	  
      intersection	[4 -1 0 0 234.51 693.05 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			301
    chart		271
    tag			"id=_t0ASoPdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[292 0 0]
    executionOrder 1
  labelPosition [116.020004 699.32 104.0 8.0]
  midPoint [168.995 690.505]
  	src {
  	  id		297
  	    	  
      intersection	[1 0 -1 0 168.0 695.47 0 0]
  	}
  	dst {
  	  id		295
  	    	  
      intersection	[3 0 1 0 169.99 685.54 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			302
    chart		271
    tag			"id=_t031UPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[292 0 0]
    executionOrder 1
  midPoint [211.745 627.405]
  	src {
  	  id		298
  	    	  
      intersection	[3 0 1 0 228.52 605.77 0 0]
  	}
  	dst {
  	  id		295
  	    	  
      intersection	[1 0 -1 0 194.97 649.04 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			303
    chart		271
    tag			"id=_yl8-sPdmEeGH_6eRdlYQdA"
    labelString "startAssignment"
    linkNode 	[292 0 0]
    executionOrder 2
  labelPosition [123.509995 689.54 120.0 8.0]
  midPoint [182.535 690.35]
  	src {
  	  id		295
  	    	  
      intersection	[3 0 1 0 183.53 685.39 0 0]
  	}
  	dst {
  	  id		297
  	    	  
      intersection	[1 0 -1 0 181.54 695.31 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			304
    chart		271
    tag			"id=_8J4zEfdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[292 0 0]
    executionOrder 3
  labelPosition [65.67 686.61 104.0 8.0]
  midPoint [111.725 699.435]
  	src {
  	  id		297
  	    	  
      intersection	[4 -1 0 0 120.35 701.5 0 0]
  	}
  	dst {
  	  id		300
  	    	  
      intersection	[2 1 0 0 103.1 697.37 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				293
		name		    "c0"
		tag				"id=_7bbxoPdmEeGH_6eRdlYQdA"
		linkNode		    [292 0 0]
		machine		    11
		dataType		"double"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"0.0"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				277
		ssIdNumber		277
		name		    "startAssignment"
		tag				"id=_vR-sgPdmEeGH_6eRdlYQdA"
		linkNode		    [275 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				305
		ssIdNumber		305
		name		    "client"
		tag				"id=_vR_6oPdmEeGH_6eRdlYQdA"
		linkNode		    [275 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				306
		ssIdNumber		306
		name		    "master"
		tag				"id=_vSAhsPdmEeGH_6eRdlYQdA"
		linkNode		    [275 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				276
		name		    "clientAvailableStatechart"
		tag				"id=_xz0XIPdmEeGH_6eRdlYQdA"
		linkNode		    [275 0 307]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				307
		name		    "masterAvailableStatechart"
		tag				"id=_yEnMMPdmEeGH_6eRdlYQdA"
		linkNode		    [275 276 308]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				308
		name		    "startAssignmentAvailableMaster_Slave_Assignment_Competitor"
		tag				"id=_ymoUIPdmEeGH_6eRdlYQdA"
		linkNode		    [275 307 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			309
		chart		271
		midPoint	[456.565 650.78]
		src {
			intersection	[3 0 1 0 623.85 790.5 0 0]
		}
		dst {
			id	275
			intersection	[1 0 -1 0 289.28 511.06 0 0]
		}
	}


	state {
		id			310
		chart		271
		tag			"id=_qPb_sfdmEeGH_6eRdlYQdA"
		treeNode	[272 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [728.45013 116.869995 59.99976 36.0]
	}

  transition {
  	id			273
    chart		271
    tag			"id=_qPcmwPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[272 0 0]
    executionOrder 0
  midPoint [788.92 134.87]
  	src {
  	  id		310
  	    	  
      intersection	[2 1 0 0 788.92 128.12 0 0]
  	}
  	dst {
  	  id		310
  	    	  
      intersection	[2 1 0 0 788.92 141.62 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			311
		chart		271
		midPoint	[551.785 267.745]
		src {
			intersection	[3 0 1 0 701.05 77.21 0 0]
		}
		dst {
			id	272
			intersection	[1 0 -1 0 402.52 458.28 0 0]
		}
	}

	state {
		id				312
		chart			271
		tag				"id=_qPcmwfdmEeGH_6eRdlYQdA"
		treeNode		[271 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [140.14005 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				313
		name		    "evtQueueIn"
		tag				"id=_qPeb8PdmEeGH_6eRdlYQdA"
		linkNode		    [312 0 314]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				314
		name		    "param"
		tag				"id=_qPeb8fdmEeGH_6eRdlYQdA"
		linkNode		    [312 313 315]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				315
		name		    "paramQueueIn"
		tag				"id=_qPeb8vdmEeGH_6eRdlYQdA"
		linkNode		    [312 314 316]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				316
		name		    "event"
		tag				"id=_qPeb8_dmEeGH_6eRdlYQdA"
		linkNode		    [312 315 317]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				317
		name		    "evtQueue"
		tag				"id=_qPfDAPdmEeGH_6eRdlYQdA"
		linkNode		    [312 316 318]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				318
		name		    "paramQueue"
		tag				"id=_qPfDAfdmEeGH_6eRdlYQdA"
		linkNode		    [312 317 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				319
		chart			271
		tag				"id=_qPcmwvdmEeGH_6eRdlYQdA"
		treeNode		[271 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [560.1416 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				320
		name		    "event"
		tag				"id=_qPfDAvdmEeGH_6eRdlYQdA"
		linkNode		    [319 0 321]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				321
		name		    "evtQueue"
		tag				"id=_qPfqEPdmEeGH_6eRdlYQdA"
		linkNode		    [319 320 322]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				322
		name		    "available"
		tag				"id=_qPfqEfdmEeGH_6eRdlYQdA"
		linkNode		    [319 321 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				323
		chart			271
		tag				"id=_qPdN0PdmEeGH_6eRdlYQdA"
		treeNode		[271 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [454.64 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				324
		name		    "event"
		tag				"id=_qPfqEvdmEeGH_6eRdlYQdA"
		linkNode		    [323 0 325]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				325
		name		    "evtQueueIn"
		tag				"id=_qPfqE_dmEeGH_6eRdlYQdA"
		linkNode		    [323 324 326]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				326
		name		    "paramQueueIn"
		tag				"id=_qPgRIPdmEeGH_6eRdlYQdA"
		linkNode		    [323 325 327]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				327
		name		    "evtQueue"
		tag				"id=_qPgRIfdmEeGH_6eRdlYQdA"
		linkNode		    [323 326 328]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				328
		name		    "paramQueue"
		tag				"id=_qPgRIvdmEeGH_6eRdlYQdA"
		linkNode		    [323 327 329]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				329
		name		    "parameter"
		tag				"id=_qPg4MPdmEeGH_6eRdlYQdA"
		linkNode		    [323 328 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				330
		chart			271
		tag				"id=_qPdN0fdmEeGH_6eRdlYQdA"
		treeNode		[271 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [350.14 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				331
		name		    "clock"
		tag				"id=_qPg4MfdmEeGH_6eRdlYQdA"
		linkNode		    [330 0 332]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				332
		name		    "logicalTime"
		tag				"id=_qPg4MvdmEeGH_6eRdlYQdA"
		linkNode		    [330 331 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				333
		chart			271
		tag				"id=_qPdN0vdmEeGH_6eRdlYQdA"
		treeNode		[271 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [245.14001 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				334
		name		    "clock"
		tag				"id=_qPg4M_dmEeGH_6eRdlYQdA"
		linkNode		    [333 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			335
		name		"Master_Slave_Assignment_comp"
		machine		11
		chart		271
	}
	chart {
		id			336
		name		"TestTurnTransmission/TestTurnTransmission_Statechart"
		tag			"id=_qPr3UPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		6
		viewObj		336    
		decomposition	    CLUSTER_CHART
		treeNode		[0 337 0 0]
		firstData		338
	}
	state {
		id			337
		chart		336
		tag			"id=_qPseYPdmEeGH_6eRdlYQdA"
		treeNode	[336 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		339
  position [346.04 103.92 813.95996 772.0]
	}
	state {
		id			340
		chart		336
		tag			"id=_qPseYfdmEeGH_6eRdlYQdA"
		treeNode	[337 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [354.19 239.62 700.00995 628.0]
	}
	state {
		id			341
		chart		336
		tag			"id=_s8rCAPdmEeGH_6eRdlYQdA"
		treeNode	[340 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		342
		firstEvent		343
  position [361.83 270.82 521.0 509.0]
	}
	state {
		id			344
		chart		336
		tag			"id=_tEMmUPdmEeGH_6eRdlYQdA"
		treeNode	[341 0 0 0]
		labelString	"synchronization"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		345
  position [681.48 301.53 193.0 184.0]
	}
	state {
		id			346
		chart		336
		tag			"id=_tK_K0PdmEeGH_6eRdlYQdA"
		treeNode	[344 0 0 0]
		labelString	"MyTurn"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [689.2601 385.52 61.999916 36.0]
	}

	state {
		id			347
		chart		336
		tag			"id=_tLHGoPdmEeGH_6eRdlYQdA"
		treeNode	[344 0 0 0]
		labelString	"Initial\nentry: turnCHAvailableStatechart = true\nexit: turnCHAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [764.7 391.81 54.0 36.0]
	}
	transition {
		id			348
		chart		336
		midPoint	[800.985 434.46503]
		src {
			intersection	[3 0 1 0 803.46 441.04 0 0]
		}
		dst {
			id	347
			intersection	[1 0 -1 0 798.51 427.89 0 0]
		}
	}

	state {
		id			349
		chart		336
		tag			"id=_tLResPdmEeGH_6eRdlYQdA"
		treeNode	[344 0 0 0]
		labelString	"YourTurn\nentry: turnCHAvailableStatechart = true\nexit: turnCHAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [734.39 332.54 72.0 36.0]
	}

  transition {
  	id			345
    chart		336
    tag			"id=_vSN9EPdmEeGH_6eRdlYQdA"
    labelString "turnCH"
    linkNode 	[344 0 0]
    executionOrder 2
  labelPosition [739.28 411.31 48.0 8.0]
  midPoint [758.155 406.85498]
  	src {
  	  id		347
  	    	  
      intersection	[4 -1 0 0 764.69 407.43 0 0]
  	}
  	dst {
  	  id		346
  	    	  
      intersection	[2 1 0 0 751.62 406.28 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			350
    chart		336
    tag			"id=_vSu6cPdmEeGH_6eRdlYQdA"
    labelString "turnCH"
    linkNode 	[344 0 0]
    executionOrder 1
  labelPosition [719.56 357.35 48.0 8.0]
  midPoint [754.06006 377.04]
  	src {
  	  id		349
  	    	  
      intersection	[3 0 1 0 761.59 368.6 0 0]
  	}
  	dst {
  	  id		346
  	    	  
      intersection	[1 0 -1 0 746.53 385.48 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			351
    chart		336
    tag			"id=_2qEUYPdmEeGH_6eRdlYQdA"
    labelString "[turnCHAvailableTurn_transmission_partner]{send(turnCH, turn_transmission_partner)}"
    linkNode 	[344 0 0]
    executionOrder 1
  labelPosition [431.09003 388.7 632.0 8.0]
  midPoint [736.58496 377.02]
  	src {
  	  id		346
  	    	  
      intersection	[1 0 -1 0 729.06 385.46 0 0]
  	}
  	dst {
  	  id		349
  	    	  
      intersection	[3 0 1 0 744.11 368.58 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			352
    chart		336
    tag			"id=_2qw38PdmEeGH_6eRdlYQdA"
    labelString "[turnCHAvailableTurn_transmission_partner]{send(turnCH, turn_transmission_partner)}"
    linkNode 	[344 0 0]
    executionOrder 1
  labelPosition [484.82 376.11 632.0 8.0]
  midPoint [781.1 380.325]
  	src {
  	  id		347
  	    	  
      intersection	[1 0 -1 0 785.19 391.71 0 0]
  	}
  	dst {
  	  id		349
  	    	  
      intersection	[3 0 1 0 777.01 368.94 0 0]
  	}
  	slide {
  	}
  }

	state {
		id			353
		chart		336
		tag			"id=_tET7EPdmEeGH_6eRdlYQdA"
		treeNode	[341 0 0 0]
		labelString	"turn_transmission_partner"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		354
		firstTransition		355
  position [369.98 517.03 291.99997 255.0]
	}
	state {
		id			356
		chart		336
		tag			"id=_tLaooPdmEeGH_6eRdlYQdA"
		treeNode	[353 0 0 0]
		labelString	"Inactive\nentry: turnCHAvailableTurn_Transmission_Partner = true\nexit: turnCHAvailableTurn_Transmission_Partner = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [502.6101 728.23 59.99976 36.0]
	}
	transition {
		id			357
		chart		336
		midPoint	[485.72998 727.37]
		src {
			intersection	[3 0 1 0 469.15 720.7 0 0]
		}
		dst {
			id	356
			intersection	[1 0 -1 0 502.31 734.04 0 0]
		}
	}

	state {
		id			358
		chart		336
		tag			"id=_tLjLgPdmEeGH_6eRdlYQdA"
		treeNode	[353 0 0 0]
		labelString	"TimeOut"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [576.90985 695.89 66.000244 36.0]
	}

	state {
		id			359
		chart		336
		tag			"id=_tLruYPdmEeGH_6eRdlYQdA"
		treeNode	[353 0 0 0]
		labelString	"MyTurn\nentry: turnCHAvailableTurn_Transmission_Partner = true\nexit: turnCHAvailableTurn_Transmission_Partner = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [490.93002 622.97 61.999916 36.0]
	}

	state {
		id			360
		chart		336
		tag			"id=_tLzDIPdmEeGH_6eRdlYQdA"
		treeNode	[353 0 0 0]
		labelString	"YourTurn"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [581.82 648.77 72.0 36.0]
	}

	state {
		id			361
		chart		336
		tag			"id=_8KLuAPdmEeGH_6eRdlYQdA"
		treeNode	[353 0 0 0]
		labelString	"Inv_Error"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [552.60986 548.37 70.500244 36.0]
	}

  transition {
  	id			355
    chart		336
    tag			"id=_t98RwPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[353 0 0]
    executionOrder 1
  midPoint [569.78 730.675]
  	src {
  	  id		358
  	    	  
      intersection	[4 -1 0 0 576.68 727.79 0 0]
  	}
  	dst {
  	  id		356
  	    	  
      intersection	[2 1 0 0 562.88 733.56 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			362
    chart		336
    tag			"id=_t_P5UPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[353 0 0]
    executionOrder 2
  midPoint [532.56 693.675]
  	src {
  	  id		359
  	    	  
      intersection	[3 0 1 0 529.13 659.25 0 0]
  	}
  	dst {
  	  id		356
  	    	  
      intersection	[1 0 -1 0 535.99 728.1 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			363
    chart		336
    tag			"id=_uAnLQPdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[353 0 0]
    executionOrder 3
  labelPosition [498.90997 683.1 104.0 8.0]
  midPoint [565.895 677.41003]
  	src {
  	  id		359
  	    	  
      intersection	[3 0 1 0 543.68 659.0 0 0]
  	}
  	dst {
  	  id		358
  	    	  
      intersection	[1 0 -1 0 588.11 695.82 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			364
    chart		336
    tag			"id=_uCYF0PdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[353 0 0]
    executionOrder 3
  midPoint [583.74 706.4]
  	src {
  	  id		360
  	    	  
      intersection	[3 0 1 0 606.21 684.86 0 0]
  	}
  	dst {
  	  id		356
  	    	  
      intersection	[1 0 -1 0 561.27 727.94 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			365
    chart		336
    tag			"id=_uDzpMPdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[353 0 0]
    executionOrder 2
  labelPosition [562.73 689.18 104.0 8.0]
  midPoint [613.885 690.235]
  	src {
  	  id		360
  	    	  
      intersection	[3 0 1 0 614.79 684.85 0 0]
  	}
  	dst {
  	  id		358
  	    	  
      intersection	[1 0 -1 0 612.98 695.62 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			366
    chart		336
    tag			"id=_vTpgcPdmEeGH_6eRdlYQdA"
    labelString "turnCH{[turn_transmission_partnerEvtWriteOut, turn_transmission_partnerParamWriteOut] = enqueue(EVT_TURN, turn_transmission_partnerEvtWriteOut, turn_transmission_partnerParamWriteOut)}"
    linkNode 	[353 0 0]
    executionOrder 1
  labelPosition [-152.18 718.94 1456.0 8.0]
  midPoint [566.68994 706.6]
  	src {
  	  id		356
  	    	  
      intersection	[1 0 -1 0 544.22 728.14 0 0]
  	}
  	dst {
  	  id		360
  	    	  
      intersection	[3 0 1 0 589.16 685.06 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			367
    chart		336
    tag			"id=_vT-QkPdmEeGH_6eRdlYQdA"
    labelString "turnCH{[turn_transmission_partnerEvtWriteOut, turn_transmission_partnerParamWriteOut] = enqueue(EVT_TURN, turn_transmission_partnerEvtWriteOut, turn_transmission_partnerParamWriteOut)}"
    linkNode 	[353 0 0]
    executionOrder 1
  labelPosition [-167.5 652.14 1456.0 8.0]
  midPoint [567.445 646.535]
  	src {
  	  id		359
  	    	  
      intersection	[2 1 0 0 553.12 642.85 0 0]
  	}
  	dst {
  	  id		360
  	    	  
      intersection	[4 -1 0 0 581.77 650.22 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			368
    chart		336
    tag			"id=_2rqP0PdmEeGH_6eRdlYQdA"
    labelString "[(turnCHAvailableSynchronization) && ([checkQueue(EVT_TURN, turn_transmission_partnerEvtReadOut)])]{send(turnCH, synchronization)}"
    linkNode 	[353 0 0]
    executionOrder 3
  labelPosition [102.28998 646.36 944.0 8.0]
  midPoint [567.435 659.91504]
  	src {
  	  id		360
  	    	  
      intersection	[4 -1 0 0 581.79 663.81 0 0]
  	}
  	dst {
  	  id		359
  	    	  
      intersection	[2 1 0 0 553.08 656.02 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			369
    chart		336
    tag			"id=_2shLcPdmEeGH_6eRdlYQdA"
    labelString "[(turnCHAvailableSynchronization) && ([checkQueue(EVT_TURN, turn_transmission_partnerEvtReadOut)])]{send(turnCH, synchronization)}"
    linkNode 	[353 0 0]
    executionOrder 3
  labelPosition [32.079987 695.53 944.0 8.0]
  midPoint [521.98 693.525]
  	src {
  	  id		356
  	    	  
      intersection	[1 0 -1 0 525.41 727.95 0 0]
  	}
  	dst {
  	  id		359
  	    	  
      intersection	[3 0 1 0 518.55 659.1 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			370
    chart		336
    tag			"id=_8KLuAfdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[353 0 0]
    executionOrder 4
  labelPosition [513.42 615.6 104.0 8.0]
  midPoint [554.855 603.71497]
  	src {
  	  id		359
  	    	  
      intersection	[1 0 -1 0 537.89 622.91 0 0]
  	}
  	dst {
  	  id		361
  	    	  
      intersection	[3 0 1 0 571.82 584.52 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			371
    chart		336
    tag			"id=_8KWGEPdmEeGH_6eRdlYQdA"
    labelString "[time(c0) > 20]"
    linkNode 	[353 0 0]
    executionOrder 4
  labelPosition [534.32 622.54 104.0 8.0]
  midPoint [602.825 616.51]
  	src {
  	  id		360
  	    	  
      intersection	[1 0 -1 0 612.33 648.35 0 0]
  	}
  	dst {
  	  id		361
  	    	  
      intersection	[3 0 1 0 593.32 584.67 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				354
		name		    "EVT_TURN"
		tag				"id=_5rO_UPdmEeGH_6eRdlYQdA"
		linkNode		    [353 0 372]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"7"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				372
		name		    "c0"
		tag				"id=_7beN4PdmEeGH_6eRdlYQdA"
		linkNode		    [353 354 0]
		machine		    11
		dataType		"double"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"0.0"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				343
		ssIdNumber		343
		name		    "turnCH"
		tag				"id=_vSCW4PdmEeGH_6eRdlYQdA"
		linkNode		    [341 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				342
		name		    "EVT_TURN"
		tag				"id=__c-UcPdmEeGH_6eRdlYQdA"
		linkNode		    [341 0 373]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"7"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				373
		name		    "turnCHAvailableStatechart"
		tag				"id=_vSiGIPdmEeGH_6eRdlYQdA"
		linkNode		    [341 342 374]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				374
		name		    "turnCHAvailableTurn_Transmission_Partner"
		tag				"id=_vTwOIPdmEeGH_6eRdlYQdA"
		linkNode		    [341 373 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			375
		chart		336
		midPoint	[805.855 677.135]
		src {
			intersection	[3 0 1 0 984.87 825.22 0 0]
		}
		dst {
			id	341
			intersection	[1 0 -1 0 626.84 529.05 0 0]
		}
	}


	state {
		id			376
		chart		336
		tag			"id=_qPtFcPdmEeGH_6eRdlYQdA"
		treeNode	[337 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [1092.2001 134.62 59.99976 36.0]
	}

  transition {
  	id			339
    chart		336
    tag			"id=_qPtFcfdmEeGH_6eRdlYQdA"
    labelString "{turn_transmission_partnerEvtWriteOut = turn_transmission_partnerEvtWriteIn;
turn_transmission_partnerParamWriteOut = turn_transmission_partnerParamWriteIn;
turn_transmission_partnerEvtReadOut = turn_transmission_partnerEvtReadIn;
turn_transmission_partnerParamReadOut = turn_transmission_partnerParamReadIn;
}"
    linkNode 	[337 0 0]
    executionOrder 0
  labelPosition [175.69995 148.62 2464.0 8.0]
  midPoint [1152.7 152.62]
  	src {
  	  id		376
  	    	  
      intersection	[2 1 0 0 1152.7 145.87 0 0]
  	}
  	dst {
  	  id		376
  	    	  
      intersection	[2 1 0 0 1152.7 159.37 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			377
		chart		336
		midPoint	[909.985 289.601]
		src {
			intersection	[3 0 1 0 1062.6 94.802 0 0]
		}
		dst {
			id	337
			intersection	[1 0 -1 0 757.37 484.4 0 0]
		}
	}

	state {
		id				378
		chart			336
		tag				"id=_qPtFcvdmEeGH_6eRdlYQdA"
		treeNode		[336 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [661.2101 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				379
		name		    "evtQueueIn"
		tag				"id=_qPuTkPdmEeGH_6eRdlYQdA"
		linkNode		    [378 0 380]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				380
		name		    "param"
		tag				"id=_qPuTkfdmEeGH_6eRdlYQdA"
		linkNode		    [378 379 381]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				381
		name		    "paramQueueIn"
		tag				"id=_qPuTkvdmEeGH_6eRdlYQdA"
		linkNode		    [378 380 382]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				382
		name		    "event"
		tag				"id=_qPuTk_dmEeGH_6eRdlYQdA"
		linkNode		    [378 381 383]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				383
		name		    "evtQueue"
		tag				"id=_qPu6oPdmEeGH_6eRdlYQdA"
		linkNode		    [378 382 384]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				384
		name		    "paramQueue"
		tag				"id=_qPu6ofdmEeGH_6eRdlYQdA"
		linkNode		    [378 383 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				385
		chart			336
		tag				"id=_qPtsgPdmEeGH_6eRdlYQdA"
		treeNode		[336 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [1186.2015 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				386
		name		    "event"
		tag				"id=_qPu6ovdmEeGH_6eRdlYQdA"
		linkNode		    [385 0 387]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				387
		name		    "evtQueue"
		tag				"id=_qPu6o_dmEeGH_6eRdlYQdA"
		linkNode		    [385 386 388]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				388
		name		    "available"
		tag				"id=_qPu6pPdmEeGH_6eRdlYQdA"
		linkNode		    [385 387 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				389
		chart			336
		tag				"id=_qPtsgfdmEeGH_6eRdlYQdA"
		treeNode		[336 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [975.7 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				390
		name		    "event"
		tag				"id=_qPu6pfdmEeGH_6eRdlYQdA"
		linkNode		    [389 0 391]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				391
		name		    "evtQueueIn"
		tag				"id=_qPvhsPdmEeGH_6eRdlYQdA"
		linkNode		    [389 390 392]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				392
		name		    "paramQueueIn"
		tag				"id=_qPvhsfdmEeGH_6eRdlYQdA"
		linkNode		    [389 391 393]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				393
		name		    "evtQueue"
		tag				"id=_qPvhsvdmEeGH_6eRdlYQdA"
		linkNode		    [389 392 394]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				394
		name		    "paramQueue"
		tag				"id=_qPvhs_dmEeGH_6eRdlYQdA"
		linkNode		    [389 393 395]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				395
		name		    "parameter"
		tag				"id=_qPvhtPdmEeGH_6eRdlYQdA"
		linkNode		    [389 394 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				396
		chart			336
		tag				"id=_qPtsgvdmEeGH_6eRdlYQdA"
		treeNode		[336 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [871.21 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				397
		name		    "clock"
		tag				"id=_qPvhtfdmEeGH_6eRdlYQdA"
		linkNode		    [396 0 398]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				398
		name		    "logicalTime"
		tag				"id=_qPwIwPdmEeGH_6eRdlYQdA"
		linkNode		    [396 397 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				399
		chart			336
		tag				"id=_qPtsg_dmEeGH_6eRdlYQdA"
		treeNode		[336 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [766.21 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				400
		name		    "clock"
		tag				"id=_qPwIwfdmEeGH_6eRdlYQdA"
		linkNode		    [399 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				338
		name		    "clockSignal"
		tag				"id=_qXrVsPdmEeGH_6eRdlYQdA"
		linkNode		    [336 0 401]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				401
		name		    "turn_transmission_partnerReadIn"
		tag				"id=_rGkcAPdmEeGH_6eRdlYQdA"
		linkNode		    [336 338 402]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				402
		name		    "turn_transmission_partnerParamReadIn"
		tag				"id=_rGlDEPdmEeGH_6eRdlYQdA"
		linkNode		    [336 401 403]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				403
		name		    "turn_transmission_partnerWriteIn"
		tag				"id=_rGm4QPdmEeGH_6eRdlYQdA"
		linkNode		    [336 402 404]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				404
		name		    "turn_transmission_partnerParamWriteIn"
		tag				"id=_rGm4QfdmEeGH_6eRdlYQdA"
		linkNode		    [336 403 405]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				405
		name		    "turn_transmission_partnerReadOut"
		tag				"id=_rGlqIPdmEeGH_6eRdlYQdA"
		linkNode		    [336 404 406]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				406
		name		    "turn_transmission_partnerParamReadOut"
		tag				"id=_rGmRMPdmEeGH_6eRdlYQdA"
		linkNode		    [336 405 407]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				407
		name		    "turn_transmission_partnerWriteOut"
		tag				"id=_rGnfUPdmEeGH_6eRdlYQdA"
		linkNode		    [336 406 408]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				408
		name		    "turn_transmission_partnerParamWriteOut"
		tag				"id=_rGoGYPdmEeGH_6eRdlYQdA"
		linkNode		    [336 407 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			409
		name		"TestTurnTransmission/TestTurnTransmission_Statechart"
		machine		11
		chart		336
	}
	chart {
		id			410
		name		"TestRequestInformaitonUser/TestRequestInformaitonUser_Statechart"
		tag			"id=_qP6g0PdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		7
		viewObj		410    
		decomposition	    CLUSTER_CHART
		treeNode		[0 411 0 0]
		firstData		412
	}
	state {
		id			411
		chart		410
		tag			"id=_qP7H4PdmEeGH_6eRdlYQdA"
		treeNode	[410 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		413
  position [215.87 77.689 634.0 602.001]
	}
	state {
		id			414
		chart		410
		tag			"id=_qP7u8PdmEeGH_6eRdlYQdA"
		treeNode	[411 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [224.01 193.39 534.0 478.0]
	}
	state {
		id			415
		chart		410
		tag			"id=_s84dYPdmEeGH_6eRdlYQdA"
		treeNode	[414 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		416
		firstEvent		417
  position [232.16 296.6 417.99997 366.99997]
	}
	state {
		id			418
		chart		410
		tag			"id=_tEcd8PdmEeGH_6eRdlYQdA"
		treeNode	[415 0 0 0]
		labelString	"Synchro"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		419
  position [239.8 509.3 252.99998 146.0]
	}
	state {
		id			420
		chart		410
		tag			"id=_tL6-8PdmEeGH_6eRdlYQdA"
		treeNode	[418 0 0 0]
		labelString	"NoRequest"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [287.2904 611.67 79.9992 36.0]
	}
	transition {
		id			421
		chart		410
		midPoint	[315.33502 605.08997]
		src {
			intersection	[3 0 1 0 312.25 598.74 0 0]
		}
		dst {
			id	420
			intersection	[1 0 -1 0 318.42 611.44 0 0]
		}
	}

	state {
		id			422
		chart		410
		tag			"id=_tMBsoPdmEeGH_6eRdlYQdA"
		treeNode	[418 0 0 0]
		labelString	"Request\nentry: requestFailedAvailableStatechart = true; requestFinishedAvailableStatechart = true\nexit: requestFailedAvailableStatechart = false; requestFinishedAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [399.30002 584.44 61.999916 36.0]
	}

	state {
		id			423
		chart		410
		tag			"id=_tMJBYPdmEeGH_6eRdlYQdA"
		treeNode	[418 0 0 0]
		labelString	"RequestFinished"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [375.0392 540.44 110.001595 36.0]
	}

  transition {
  	id			419
    chart		410
    tag			"id=_vUa8gPdmEeGH_6eRdlYQdA"
    labelString "requestFailed"
    linkNode 	[418 0 0]
    executionOrder 1
  labelPosition [333.3 604.31 104.0 8.0]
  midPoint [383.34003 621.525]
  	src {
  	  id		422
  	    	  
      intersection	[4 -1 0 0 399.04 617.26 0 0]
  	}
  	dst {
  	  id		420
  	    	  
      intersection	[2 1 0 0 367.64 625.79 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			424
    chart		410
    tag			"id=_vVwZQPdmEeGH_6eRdlYQdA"
    labelString "requestFinished"
    linkNode 	[418 0 0]
    executionOrder 2
  labelPosition [370.19 588.05 120.0 8.0]
  midPoint [430.16998 580.42]
  	src {
  	  id		422
  	    	  
      intersection	[1 0 -1 0 430.19 584.29 0 0]
  	}
  	dst {
  	  id		423
  	    	  
      intersection	[3 0 1 0 430.15 576.55 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			425
    chart		410
    tag			"id=_23JHEPdmEeGH_6eRdlYQdA"
    labelString "[startRequestAvailableRequest_information_user]{send(startRequest, request_information_user)}"
    linkNode 	[418 0 0]
    executionOrder 1
  labelPosition [20.26001 593.36 712.0 8.0]
  midPoint [383.33002 608.23]
  	src {
  	  id		420
  	    	  
      intersection	[2 1 0 0 367.49 612.17 0 0]
  	}
  	dst {
  	  id		422
  	    	  
      intersection	[4 -1 0 0 399.17 604.29 0 0]
  	}
  	slide {
  	}
  }

	state {
		id			426
		chart		410
		tag			"id=_tEjysPdmEeGH_6eRdlYQdA"
		treeNode	[415 0 0 0]
		labelString	"request_information_user"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		427
		firstTransition		428
  position [480.3 327.3 162.0 148.0]
	}
	state {
		id			429
		chart		410
		tag			"id=_tMQ9MPdmEeGH_6eRdlYQdA"
		treeNode	[426 0 0 0]
		labelString	"Result\nentry: startRequestAvailableRequest_Information_User = true\nexit: startRequestAvailableRequest_Information_User = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [505.03003 404.94 54.0 36.0]
	}
	transition {
		id			430
		chart		410
		midPoint	[538.33997 399.7]
		src {
			intersection	[3 0 1 0 539.73 394.58 0 0]
		}
		dst {
			id	429
			intersection	[1 0 -1 0 536.95 404.82 0 0]
		}
	}

	state {
		id			431
		chart		410
		tag			"id=_tMXq4PdmEeGH_6eRdlYQdA"
		treeNode	[426 0 0 0]
		labelString	"Request"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [572.16003 430.99 61.999916 36.0]
	}

  transition {
  	id			428
    chart		410
    tag			"id=_vZJrgPdmEeGH_6eRdlYQdA"
    labelString "startRequest{[requestinformation_userEvtWriteOut, requestinformation_userParamWriteOut] = enqueue(EVT_REQUEST, requestinformation_userEvtWriteOut, requestinformation_userParamWriteOut)}"
    linkNode 	[426 0 0]
    executionOrder 1
  labelPosition [-165.5 430.85 1464.0 8.0]
  midPoint [574.01 425.14]
  	src {
  	  id		429
  	    	  
      intersection	[2 1 0 0 559.3 419.39 0 0]
  	}
  	dst {
  	  id		431
  	    	  
      intersection	[1 0 -1 0 588.72 430.89 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			432
    chart		410
    tag			"id=_2358EPdmEeGH_6eRdlYQdA"
    labelString "[(requestFinishedAvailableSynchro) && ([checkQueue(EVT_VALUE, requestinformation_userEvtReadOut)])]{send(requestFinished, Synchro); reset(c0)}"
    linkNode 	[426 0 0]
    executionOrder 1
  labelPosition [47.809998 457.63 1024.0 8.0]
  midPoint [559.19 446.3]
  	src {
  	  id		431
  	    	  
      intersection	[4 -1 0 0 571.75 451.48 0 0]
  	}
  	dst {
  	  id		429
  	    	  
      intersection	[3 0 1 0 546.63 441.12 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			433
    chart		410
    tag			"id=_24ntwPdmEeGH_6eRdlYQdA"
    labelString "[(requestFailedAvailableSynchro) && (time(c0) >= 20)]{send(requestFailed, Synchro)}"
    linkNode 	[426 0 0]
    executionOrder 1
  labelPosition [279.39 446.99 568.0 8.0]
  midPoint [565.51 435.2]
  	src {
  	  id		431
  	    	  
      intersection	[4 -1 0 0 571.76 437.49 0 0]
  	}
  	dst {
  	  id		429
  	    	  
      intersection	[2 1 0 0 559.26 432.91 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				427
		name		    "EVT_VALUE"
		tag				"id=_5tGAgPdmEeGH_6eRdlYQdA"
		linkNode		    [426 0 434]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"9"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				434
		name		    "EVT_REQUEST"
		tag				"id=_6XQX0PdmEeGH_6eRdlYQdA"
		linkNode		    [426 427 435]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"8"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				435
		name		    "c0"
		tag				"id=_7bgqIPdmEeGH_6eRdlYQdA"
		linkNode		    [426 434 0]
		machine		    11
		dataType		"double"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"0.0"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				417
		ssIdNumber		417
		name		    "startRequest"
		tag				"id=_vRouQPdmEeGH_6eRdlYQdA"
		linkNode		    [415 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				436
		ssIdNumber		436
		name		    "requestFinished"
		tag				"id=_vRp8YPdmEeGH_6eRdlYQdA"
		linkNode		    [415 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				437
		ssIdNumber		437
		name		    "requestFailed"
		tag				"id=_vRrKgPdmEeGH_6eRdlYQdA"
		linkNode		    [415 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				416
		name		    "EVT_REQUEST"
		tag				"id=__iSSQPdmEeGH_6eRdlYQdA"
		linkNode		    [415 0 438]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"8"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				438
		name		    "EVT_VALUE"
		tag				"id=_BgcoEPdnEeGH_6eRdlYQdA"
		linkNode		    [415 416 439]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"9"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				439
		name		    "requestFailedAvailableStatechart"
		tag				"id=_vUgcEPdmEeGH_6eRdlYQdA"
		linkNode		    [415 438 440]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				440
		name		    "requestFinishedAvailableStatechart"
		tag				"id=_vV3G8PdmEeGH_6eRdlYQdA"
		linkNode		    [415 439 441]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				441
		name		    "startRequestAvailableRequest_Information_User"
		tag				"id=_vZRnUPdmEeGH_6eRdlYQdA"
		linkNode		    [415 440 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			442
		chart		410
		midPoint	[566.975 367.95]
		src {
			intersection	[3 0 1 0 689.81 258.46 0 0]
		}
		dst {
			id	415
			intersection	[1 0 -1 0 444.14 477.44 0 0]
		}
	}


	state {
		id			443
		chart		410
		tag			"id=_qP7u8fdmEeGH_6eRdlYQdA"
		treeNode	[411 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [782.01013 108.39 59.99976 36.0]
	}

  transition {
  	id			413
    chart		410
    tag			"id=_qP7u8vdmEeGH_6eRdlYQdA"
    labelString "{requestinformation_userEvtWriteOut = requestinformation_userEvtWriteIn;
requestinformation_userParamWriteOut = requestinformation_userParamWriteIn;
requestinformation_userEvtReadOut = requestinformation_userEvtReadIn;
requestinformation_userParamReadOut = requestinformation_userParamReadIn;
}"
    linkNode 	[411 0 0]
    executionOrder 0
  labelPosition [-81.0 122.39 2336.0 8.0]
  midPoint [842.48 126.39]
  	src {
  	  id		443
  	    	  
      intersection	[2 1 0 0 842.48 119.64 0 0]
  	}
  	dst {
  	  id		443
  	    	  
      intersection	[2 1 0 0 842.48 133.14 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			444
		chart		410
		midPoint	[656.16003 221.3055]
		src {
			intersection	[3 0 1 0 776.14 68.151 0 0]
		}
		dst {
			id	411
			intersection	[1 0 -1 0 536.18 374.46 0 0]
		}
	}

	state {
		id				445
		chart			410
		tag				"id=_qP8WAPdmEeGH_6eRdlYQdA"
		treeNode		[410 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [859.9601 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				446
		name		    "evtQueueIn"
		tag				"id=_qP89EPdmEeGH_6eRdlYQdA"
		linkNode		    [445 0 447]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				447
		name		    "param"
		tag				"id=_qP89EfdmEeGH_6eRdlYQdA"
		linkNode		    [445 446 448]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				448
		name		    "paramQueueIn"
		tag				"id=_qP89EvdmEeGH_6eRdlYQdA"
		linkNode		    [445 447 449]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				449
		name		    "event"
		tag				"id=_qP89E_dmEeGH_6eRdlYQdA"
		linkNode		    [445 448 450]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				450
		name		    "evtQueue"
		tag				"id=_qP89FPdmEeGH_6eRdlYQdA"
		linkNode		    [445 449 451]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				451
		name		    "paramQueue"
		tag				"id=_qP9kIPdmEeGH_6eRdlYQdA"
		linkNode		    [445 450 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				452
		chart			410
		tag				"id=_qP8WAfdmEeGH_6eRdlYQdA"
		treeNode		[410 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [635.9616 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				453
		name		    "event"
		tag				"id=_qP9kIfdmEeGH_6eRdlYQdA"
		linkNode		    [452 0 454]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				454
		name		    "evtQueue"
		tag				"id=_qP9kIvdmEeGH_6eRdlYQdA"
		linkNode		    [452 453 455]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				455
		name		    "available"
		tag				"id=_qP9kI_dmEeGH_6eRdlYQdA"
		linkNode		    [452 454 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				456
		chart			410
		tag				"id=_qP8WAvdmEeGH_6eRdlYQdA"
		treeNode		[410 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [523.46 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				457
		name		    "event"
		tag				"id=_qP9kJPdmEeGH_6eRdlYQdA"
		linkNode		    [456 0 458]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				458
		name		    "evtQueueIn"
		tag				"id=_qP9kJfdmEeGH_6eRdlYQdA"
		linkNode		    [456 457 459]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				459
		name		    "paramQueueIn"
		tag				"id=_qP9kJvdmEeGH_6eRdlYQdA"
		linkNode		    [456 458 460]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				460
		name		    "evtQueue"
		tag				"id=_qP-LMPdmEeGH_6eRdlYQdA"
		linkNode		    [456 459 461]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				461
		name		    "paramQueue"
		tag				"id=_qP-LMfdmEeGH_6eRdlYQdA"
		linkNode		    [456 460 462]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				462
		name		    "parameter"
		tag				"id=_qP-LMvdmEeGH_6eRdlYQdA"
		linkNode		    [456 461 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				463
		chart			410
		tag				"id=_qP8WA_dmEeGH_6eRdlYQdA"
		treeNode		[410 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [411.96 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				464
		name		    "clock"
		tag				"id=_qP-LM_dmEeGH_6eRdlYQdA"
		linkNode		    [463 0 465]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				465
		name		    "logicalTime"
		tag				"id=_qP-LNPdmEeGH_6eRdlYQdA"
		linkNode		    [463 464 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				466
		chart			410
		tag				"id=_qP8WBPdmEeGH_6eRdlYQdA"
		treeNode		[410 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [299.96 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				467
		name		    "clock"
		tag				"id=_qP-LNfdmEeGH_6eRdlYQdA"
		linkNode		    [466 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				412
		name		    "clockSignal"
		tag				"id=_qYAF0fdmEeGH_6eRdlYQdA"
		linkNode		    [410 0 468]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				468
		name		    "requestinformation_userReadIn"
		tag				"id=_rYJ7QPdmEeGH_6eRdlYQdA"
		linkNode		    [410 412 469]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				469
		name		    "requestinformation_userParamReadIn"
		tag				"id=_rYKiUPdmEeGH_6eRdlYQdA"
		linkNode		    [410 468 470]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				470
		name		    "requestinformation_userWriteIn"
		tag				"id=_rYLwcPdmEeGH_6eRdlYQdA"
		linkNode		    [410 469 471]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				471
		name		    "requestinformation_userParamWriteIn"
		tag				"id=_rYLwcfdmEeGH_6eRdlYQdA"
		linkNode		    [410 470 472]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				472
		name		    "requestinformation_userReadOut"
		tag				"id=_rYKiUfdmEeGH_6eRdlYQdA"
		linkNode		    [410 471 473]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				473
		name		    "requestinformation_userParamReadOut"
		tag				"id=_rYLJYPdmEeGH_6eRdlYQdA"
		linkNode		    [410 472 474]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				474
		name		    "requestinformation_userWriteOut"
		tag				"id=_rYMXgPdmEeGH_6eRdlYQdA"
		linkNode		    [410 473 475]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				475
		name		    "requestinformation_userParamWriteOut"
		tag				"id=_rYM-kPdmEeGH_6eRdlYQdA"
		linkNode		    [410 474 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			476
		name		"TestRequestInformaitonUser/TestRequestInformaitonUser_Statechart"
		machine		11
		chart		410
	}
	chart {
		id			477
		name		"TestRequestInformationProvider/TestRequestInformationProvider_Statechart"
		tag			"id=_qQH8MPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		8
		viewObj		477    
		decomposition	    CLUSTER_CHART
		treeNode		[0 478 0 0]
		firstData		479
	}
	state {
		id			478
		chart		477
		tag			"id=_qQJKUPdmEeGH_6eRdlYQdA"
		treeNode	[477 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		480
  position [269.02 77.189 637.0 603.001]
	}
	state {
		id			481
		chart		477
		tag			"id=_qQJKUfdmEeGH_6eRdlYQdA"
		treeNode	[478 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [276.67 183.89 565.0 488.0]
	}
	state {
		id			482
		chart		477
		tag			"id=_s9Ht8PdmEeGH_6eRdlYQdA"
		treeNode	[481 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		483
		firstEvent		484
  position [284.81 215.1 418.0 386.99997]
	}
	state {
		id			485
		chart		477
		tag			"id=_tErugPdmEeGH_6eRdlYQdA"
		treeNode	[482 0 0 0]
		labelString	"Snychro"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		486
		firstTransition		487
  position [292.46 429.3 209.0 165.0]
	}
	state {
		id			488
		chart		477
		tag			"id=_tMg00PdmEeGH_6eRdlYQdA"
		treeNode	[485 0 0 0]
		labelString	"NoRequest\nentry: requestReceivedAvailableStatechart = true\nexit: requestReceivedAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [300.55038 508.45 79.9992 36.0]
	}
	transition {
		id			489
		chart		477
		midPoint	[350.68 502.385]
		src {
			intersection	[3 0 1 0 353.22 496.35 0 0]
		}
		dst {
			id	488
			intersection	[1 0 -1 0 348.14 508.42 0 0]
		}
	}

	state {
		id			490
		chart		477
		tag			"id=_tMoJkPdmEeGH_6eRdlYQdA"
		treeNode	[485 0 0 0]
		labelString	"HandleRequest\nentry: reset(c0)"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [392.6912 550.51 100.4976 36.0]
	}

  transition {
  	id			487
    chart		477
    tag			"id=_vjONgPdmEeGH_6eRdlYQdA"
    labelString "requestReceived"
    linkNode 	[485 0 0]
    executionOrder 1
  labelPosition [328.19 549.98 120.0 8.0]
  midPoint [397.85498 543.095]
  	src {
  	  id		488
  	    	  
      intersection	[2 1 0 0 380.58 535.83 0 0]
  	}
  	dst {
  	  id		490
  	    	  
      intersection	[1 0 -1 0 415.13 550.36 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			491
    chart		477
    tag			"id=_2-MxUPdmEeGH_6eRdlYQdA"
    labelString "[(requestHandledAvailableRequest_information_provider) && (time(c0) >= 20)]{send(requestHandled, request_information_provider)}"
    linkNode 	[485 0 0]
    executionOrder 1
  labelPosition [-80.04999 560.89 920.0 8.0]
  midPoint [380.255 549.765]
  	src {
  	  id		490
  	    	  
      intersection	[4 -1 0 0 392.18 554.95 0 0]
  	}
  	dst {
  	  id		488
  	    	  
      intersection	[3 0 1 0 368.33 544.58 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				486
		name		    "c0"
		tag				"id=_7bjGYPdmEeGH_6eRdlYQdA"
		linkNode		    [485 0 0]
		machine		    11
		dataType		"double"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"0.0"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	state {
		id			492
		chart		477
		tag			"id=_tEycMPdmEeGH_6eRdlYQdA"
		treeNode	[482 0 0 0]
		labelString	"request_information_provider"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		493
		firstTransition		494
  position [512.96 245.8 182.0 147.99998]
	}
	state {
		id			495
		chart		477
		tag			"id=_tMveUPdmEeGH_6eRdlYQdA"
		treeNode	[492 0 0 0]
		labelString	"Wait"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [549.62 323.39 54.0 36.0]
	}
	transition {
		id			496
		chart		477
		midPoint	[582.96497 318.175]
		src {
			intersection	[3 0 1 0 584.36 313.06 0 0]
		}
		dst {
			id	495
			intersection	[1 0 -1 0 581.57 323.29 0 0]
		}
	}

	state {
		id			497
		chart		477
		tag			"id=_tM2zEPdmEeGH_6eRdlYQdA"
		treeNode	[492 0 0 0]
		labelString	"Work\nentry: requestHandledAvailableRequest_Information_Provider = true\nexit: requestHandledAvailableRequest_Information_Provider = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [620.84 349.46 54.0 36.0]
	}

  transition {
  	id			494
    chart		477
    tag			"id=_vlLVUPdmEeGH_6eRdlYQdA"
    labelString "requestHandled{[requestinformation_providerEvtWriteOut, requestinformation_providerParamWriteOut] = enqueue(EVT_VALUE, requestinformation_providerEvtWriteOut, requestinformation_providerParamWriteOut)}"
    linkNode 	[492 0 0]
    executionOrder 1
  labelPosition [-182.0 371.2 1592.0 8.0]
  midPoint [612.225 361.415]
  	src {
  	  id		497
  	    	  
      intersection	[4 -1 0 0 620.7 364.42 0 0]
  	}
  	dst {
  	  id		495
  	    	  
      intersection	[2 1 0 0 603.75 358.41 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			498
    chart		477
    tag			"id=_2-o2MPdmEeGH_6eRdlYQdA"
    labelString "[(requestReceivedAvailableSnychro) && ([checkQueue(EVT_REQUEST, requestinformation_providerEvtReadOut)])]{send(requestReceived, Snychro)}"
    linkNode 	[492 0 0]
    executionOrder 1
  labelPosition [104.46002 353.66 1000.0 8.0]
  midPoint [612.23 347.435]
  	src {
  	  id		495
  	    	  
      intersection	[2 1 0 0 603.75 344.43 0 0]
  	}
  	dst {
  	  id		497
  	    	  
      intersection	[4 -1 0 0 620.71 350.44 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				493
		name		    "EVT_REQUEST"
		tag				"id=_5ufusPdmEeGH_6eRdlYQdA"
		linkNode		    [492 0 499]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"8"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				499
		name		    "EVT_VALUE"
		tag				"id=_6YzP8PdmEeGH_6eRdlYQdA"
		linkNode		    [492 493 0]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"9"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				484
		ssIdNumber		484
		name		    "requestReceived"
		tag				"id=_vRs_sPdmEeGH_6eRdlYQdA"
		linkNode		    [482 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				500
		ssIdNumber		500
		name		    "requestHandled"
		tag				"id=_vRtmwPdmEeGH_6eRdlYQdA"
		linkNode		    [482 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				483
		name		    "EVT_VALUE"
		tag				"id=__mCJ0PdmEeGH_6eRdlYQdA"
		linkNode		    [482 0 501]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"9"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				501
		name		    "EVT_REQUEST"
		tag				"id=_BkqZsPdnEeGH_6eRdlYQdA"
		linkNode		    [482 483 502]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"8"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				502
		name		    "requestReceivedAvailableStatechart"
		tag				"id=_vjUUIPdmEeGH_6eRdlYQdA"
		linkNode		    [482 501 503]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				503
		name		    "requestHandledAvailableRequest_Information_Provider"
		tag				"id=_vlRb8PdmEeGH_6eRdlYQdA"
		linkNode		    [482 502 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			504
		chart		477
		midPoint	[634.655 520.61]
		src {
			intersection	[3 0 1 0 771.8 629.68 0 0]
		}
		dst {
			id	482
			intersection	[1 0 -1 0 497.51 411.54 0 0]
		}
	}


	state {
		id			505
		chart		477
		tag			"id=_qQJxYPdmEeGH_6eRdlYQdA"
		treeNode	[478 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [838.1701 107.89 59.99976 36.0]
	}

  transition {
  	id			480
    chart		477
    tag			"id=_qQJxYfdmEeGH_6eRdlYQdA"
    labelString "{requestinformation_providerEvtWriteOut = requestinformation_providerEvtWriteIn;
requestinformation_providerParamWriteOut = requestinformation_providerParamWriteIn;
requestinformation_providerEvtReadOut = requestinformation_providerEvtReadIn;
requestinformation_providerParamReadOut = requestinformation_providerParamReadIn;
}"
    linkNode 	[478 0 0]
    executionOrder 0
  labelPosition [-128.80005 121.89 2592.0 8.0]
  midPoint [898.64 125.89]
  	src {
  	  id		505
  	    	  
      intersection	[2 1 0 0 898.64 119.14 0 0]
  	}
  	dst {
  	  id		505
  	    	  
      intersection	[2 1 0 0 898.64 132.64 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			506
		chart		477
		midPoint	[710.82 221.3055]
		src {
			intersection	[3 0 1 0 830.8 68.151 0 0]
		}
		dst {
			id	478
			intersection	[1 0 -1 0 590.84 374.46 0 0]
		}
	}

	state {
		id				507
		chart			477
		tag				"id=_qQJxYvdmEeGH_6eRdlYQdA"
		treeNode		[477 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [381.61002 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				508
		name		    "evtQueueIn"
		tag				"id=_qQK_gPdmEeGH_6eRdlYQdA"
		linkNode		    [507 0 509]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				509
		name		    "param"
		tag				"id=_qQK_gfdmEeGH_6eRdlYQdA"
		linkNode		    [507 508 510]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				510
		name		    "paramQueueIn"
		tag				"id=_qQK_gvdmEeGH_6eRdlYQdA"
		linkNode		    [507 509 511]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				511
		name		    "event"
		tag				"id=_qQK_g_dmEeGH_6eRdlYQdA"
		linkNode		    [507 510 512]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				512
		name		    "evtQueue"
		tag				"id=_qQK_hPdmEeGH_6eRdlYQdA"
		linkNode		    [507 511 513]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				513
		name		    "paramQueue"
		tag				"id=_qQK_hfdmEeGH_6eRdlYQdA"
		linkNode		    [507 512 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				514
		chart			477
		tag				"id=_qQKYcPdmEeGH_6eRdlYQdA"
		treeNode		[477 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [913.6116 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				515
		name		    "event"
		tag				"id=_qQLmkPdmEeGH_6eRdlYQdA"
		linkNode		    [514 0 516]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				516
		name		    "evtQueue"
		tag				"id=_qQLmkfdmEeGH_6eRdlYQdA"
		linkNode		    [514 515 517]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				517
		name		    "available"
		tag				"id=_qQLmkvdmEeGH_6eRdlYQdA"
		linkNode		    [514 516 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				518
		chart			477
		tag				"id=_qQKYcfdmEeGH_6eRdlYQdA"
		treeNode		[477 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [717.11 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				519
		name		    "event"
		tag				"id=_qQLmk_dmEeGH_6eRdlYQdA"
		linkNode		    [518 0 520]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				520
		name		    "evtQueueIn"
		tag				"id=_qQLmlPdmEeGH_6eRdlYQdA"
		linkNode		    [518 519 521]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				521
		name		    "paramQueueIn"
		tag				"id=_qQLmlfdmEeGH_6eRdlYQdA"
		linkNode		    [518 520 522]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				522
		name		    "evtQueue"
		tag				"id=_qQLmlvdmEeGH_6eRdlYQdA"
		linkNode		    [518 521 523]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				523
		name		    "paramQueue"
		tag				"id=_qQMNoPdmEeGH_6eRdlYQdA"
		linkNode		    [518 522 524]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				524
		name		    "parameter"
		tag				"id=_qQMNofdmEeGH_6eRdlYQdA"
		linkNode		    [518 523 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				525
		chart			477
		tag				"id=_qQKYcvdmEeGH_6eRdlYQdA"
		treeNode		[477 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [605.61 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				526
		name		    "clock"
		tag				"id=_qQMNovdmEeGH_6eRdlYQdA"
		linkNode		    [525 0 527]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				527
		name		    "logicalTime"
		tag				"id=_qQMNo_dmEeGH_6eRdlYQdA"
		linkNode		    [525 526 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				528
		chart			477
		tag				"id=_qQKYc_dmEeGH_6eRdlYQdA"
		treeNode		[477 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [493.61 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				529
		name		    "clock"
		tag				"id=_qQMNpPdmEeGH_6eRdlYQdA"
		linkNode		    [528 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				479
		name		    "clockSignal"
		tag				"id=_qX2U0PdmEeGH_6eRdlYQdA"
		linkNode		    [477 0 530]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				530
		name		    "requestinformation_providerReadIn"
		tag				"id=_rPsi0PdmEeGH_6eRdlYQdA"
		linkNode		    [477 479 531]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				531
		name		    "requestinformation_providerParamReadIn"
		tag				"id=_rPtJ4PdmEeGH_6eRdlYQdA"
		linkNode		    [477 530 532]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				532
		name		    "requestinformation_providerWriteIn"
		tag				"id=_rPvmIPdmEeGH_6eRdlYQdA"
		linkNode		    [477 531 533]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				533
		name		    "requestinformation_providerParamWriteIn"
		tag				"id=_rPwNMPdmEeGH_6eRdlYQdA"
		linkNode		    [477 532 534]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				534
		name		    "requestinformation_providerReadOut"
		tag				"id=_rPtw8PdmEeGH_6eRdlYQdA"
		linkNode		    [477 533 535]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				535
		name		    "requestinformation_providerParamReadOut"
		tag				"id=_rPuYAPdmEeGH_6eRdlYQdA"
		linkNode		    [477 534 536]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				536
		name		    "requestinformation_providerWriteOut"
		tag				"id=_rPw0QPdmEeGH_6eRdlYQdA"
		linkNode		    [477 535 537]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				537
		name		    "requestinformation_providerParamWriteOut"
		tag				"id=_rPxbUPdmEeGH_6eRdlYQdA"
		linkNode		    [477 536 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			538
		name		"TestRequestInformationProvider/TestRequestInformationProvider_Statechart"
		machine		11
		chart		477
	}
	chart {
		id			539
		name		"TestStartStopMaster/TestStartStopMaster_Statechart"
		tag			"id=_qQUwgPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		9
		viewObj		539    
		decomposition	    CLUSTER_CHART
		treeNode		[0 540 0 0]
		firstData		541
	}
	state {
		id			540
		chart		539
		tag			"id=_qQVXkPdmEeGH_6eRdlYQdA"
		treeNode	[539 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		542
  position [393.18 77.689 634.01996 602.001]
	}
	state {
		id			543
		chart		539
		tag			"id=_qQVXkfdmEeGH_6eRdlYQdA"
		treeNode	[540 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [401.32 193.39 534.0 478.0]
	}
	state {
		id			544
		chart		539
		tag			"id=_s9VwYPdmEeGH_6eRdlYQdA"
		treeNode	[543 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		545
		firstEvent		546
  position [408.97 318.6 444.99997 344.99997]
	}
	state {
		id			547
		chart		539
		tag			"id=_tE5w8PdmEeGH_6eRdlYQdA"
		treeNode	[544 0 0 0]
		labelString	"Synch"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		548
		firstTransition		549
  position [636.61 349.3 209.0 146.0]
	}
	state {
		id			550
		chart		539
		tag			"id=_tM-u4PdmEeGH_6eRdlYQdA"
		treeNode	[547 0 0 0]
		labelString	"Initial"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [697.32 451.75 54.0 36.0]
	}
	transition {
		id			551
		chart		539
		midPoint	[712.605 446.195]
		src {
			intersection	[3 0 1 0 709.94 440.83 0 0]
		}
		dst {
			id	550
			intersection	[1 0 -1 0 715.27 451.56 0 0]
		}
	}

	state {
		id			552
		chart		539
		tag			"id=_tNGDoPdmEeGH_6eRdlYQdA"
		treeNode	[547 0 0 0]
		labelString	"Working"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [772.6901 436.63 64.499756 36.0]
	}

	state {
		id			553
		chart		539
		tag			"id=_tNN_cPdmEeGH_6eRdlYQdA"
		treeNode	[547 0 0 0]
		labelString	"Finished"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [771.33997 380.27 64.000084 36.0]
	}

  transition {
  	id			549
    chart		539
    tag			"id=_3CCvgPdmEeGH_6eRdlYQdA"
    labelString "[startAvailableStartStop_Master]{send(start, startStop_Master); reset(c0)}"
    linkNode 	[547 0 0]
    executionOrder 1
  labelPosition [485.93 469.64 544.0 8.0]
  midPoint [761.99 462.685]
  	src {
  	  id		550
  	    	  
      intersection	[2 1 0 0 751.61 464.63 0 0]
  	}
  	dst {
  	  id		552
  	    	  
      intersection	[4 -1 0 0 772.37 460.74 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			554
    chart		539
    tag			"id=_3CkT8PdmEeGH_6eRdlYQdA"
    labelString "[(finishedAvailableStartStop_Master) && (time(c0) > 20)]{send(finished, startStop_Master)}"
    linkNode 	[547 0 0]
    executionOrder 1
  labelPosition [474.28003 427.46 624.0 8.0]
  midPoint [804.135 426.43]
  	src {
  	  id		552
  	    	  
      intersection	[1 0 -1 0 804.42 436.48 0 0]
  	}
  	dst {
  	  id		553
  	    	  
      intersection	[3 0 1 0 803.85 416.38 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				548
		name		    "c0"
		tag				"id=_7blioPdmEeGH_6eRdlYQdA"
		linkNode		    [547 0 0]
		machine		    11
		dataType		"double"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"0.0"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	state {
		id			555
		chart		539
		tag			"id=_tE_3kPdmEeGH_6eRdlYQdA"
		treeNode	[544 0 0 0]
		labelString	"startStop_Master"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		556
		firstTransition		557
  position [417.11 532.8 234.0 123.0]
	}
	state {
		id			558
		chart		539
		tag			"id=_tNV7QPdmEeGH_6eRdlYQdA"
		treeNode	[555 0 0 0]
		labelString	"Started\nentry: finishedAvailableStartStop_Master = true\nexit: finishedAvailableStartStop_Master = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [425.3299 610.81 56.00016 36.0]
	}

	state {
		id			559
		chart		539
		tag			"id=_tNdQAPdmEeGH_6eRdlYQdA"
		treeNode	[555 0 0 0]
		labelString	"Stopped\nentry: startAvailableStartStop_Master = true\nexit: startAvailableStartStop_Master = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [486.71014 563.51 64.499756 36.0]
	}
	transition {
		id			560
		chart		539
		midPoint	[554.41504 606.56]
		src {
			intersection	[3 0 1 0 564.32 613.56 0 0]
		}
		dst {
			id	559
			intersection	[1 0 -1 0 544.51 599.56 0 0]
		}
	}

  transition {
  	id			557
    chart		539
    tag			"id=_vuUqQPdmEeGH_6eRdlYQdA"
    labelString "start{[startStop_MasterEvtWriteOut, startStop_MasterParamWriteOut] = enqueue(EVT_START, startStop_MasterEvtWriteOut, startStop_MasterParamWriteOut)}"
    linkNode 	[555 0 0]
    executionOrder 1
  labelPosition [-97.880005 587.18 1168.0 8.0]
  midPoint [492.87 608.12]
  	src {
  	  id		559
  	    	  
      intersection	[3 0 1 0 504.26 599.65 0 0]
  	}
  	dst {
  	  id		558
  	    	  
      intersection	[2 1 0 0 481.48 616.59 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			561
    chart		539
    tag			"id=_vyweUPdmEeGH_6eRdlYQdA"
    labelString "finished{[startStop_MasterEvtWriteOut, startStop_MasterParamWriteOut] = enqueue(EVT_STOP, startStop_MasterEvtWriteOut, startStop_MasterParamWriteOut)}"
    linkNode 	[555 0 0]
    executionOrder 1
  labelPosition [-129.0 588.73 1184.0 8.0]
  midPoint [477.16 603.725]
  	src {
  	  id		558
  	    	  
      intersection	[1 0 -1 0 468.03 610.66 0 0]
  	}
  	dst {
  	  id		559
  	    	  
      intersection	[4 -1 0 0 486.29 596.79 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				556
		name		    "EVT_START"
		tag				"id=_6aWIEPdmEeGH_6eRdlYQdA"
		linkNode		    [555 0 562]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"10"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				562
		name		    "EVT_STOP"
		tag				"id=_6a9MEPdmEeGH_6eRdlYQdA"
		linkNode		    [555 556 0]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"11"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				546
		ssIdNumber		546
		name		    "start"
		tag				"id=_vRu04PdmEeGH_6eRdlYQdA"
		linkNode		    [544 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				563
		ssIdNumber		563
		name		    "finished"
		tag				"id=_vRwDAPdmEeGH_6eRdlYQdA"
		linkNode		    [544 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				545
		name		    "EVT_START"
		tag				"id=__rB-kPdmEeGH_6eRdlYQdA"
		linkNode		    [544 0 564]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"10"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				564
		name		    "EVT_STOP"
		tag				"id=_AKPDEPdnEeGH_6eRdlYQdA"
		linkNode		    [544 545 565]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"11"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				565
		name		    "startAvailableStartStop_Master"
		tag				"id=_vub_APdmEeGH_6eRdlYQdA"
		linkNode		    [544 564 566]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				566
		name		    "finishedAvailableStartStop_Master"
		tag				"id=_vy194PdmEeGH_6eRdlYQdA"
		linkNode		    [544 565 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			567
		chart		539
		midPoint	[751.22 373.7]
		src {
			intersection	[3 0 1 0 868.41 258.82 0 0]
		}
		dst {
			id	544
			intersection	[1 0 -1 0 634.03 488.58 0 0]
		}
	}


	state {
		id			568
		chart		539
		tag			"id=_qQV-oPdmEeGH_6eRdlYQdA"
		treeNode	[540 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [959.3201 108.39 59.99976 36.0]
	}

  transition {
  	id			542
    chart		539
    tag			"id=_qQV-ofdmEeGH_6eRdlYQdA"
    labelString "{startStop_MasterEvtWriteOut = startStop_MasterEvtWriteIn;
startStop_MasterParamWriteOut = startStop_MasterParamWriteIn;
startStop_MasterEvtReadOut = startStop_MasterEvtReadIn;
startStop_MasterParamReadOut = startStop_MasterParamReadIn;
}"
    linkNode 	[540 0 0]
    executionOrder 0
  labelPosition [282.30005 122.39 1888.0 8.0]
  midPoint [1019.8 126.39]
  	src {
  	  id		568
  	    	  
      intersection	[2 1 0 0 1019.8 119.64 0 0]
  	}
  	dst {
  	  id		568
  	    	  
      intersection	[2 1 0 0 1019.8 133.14 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			569
		chart		539
		midPoint	[833.47 221.3055]
		src {
			intersection	[3 0 1 0 953.45 68.151 0 0]
		}
		dst {
			id	540
			intersection	[1 0 -1 0 713.49 374.46 0 0]
		}
	}

	state {
		id				570
		chart			539
		tag				"id=_qQV-ovdmEeGH_6eRdlYQdA"
		treeNode		[539 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [1037.3 -0.29599953 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				571
		name		    "evtQueueIn"
		tag				"id=_qQWls_dmEeGH_6eRdlYQdA"
		linkNode		    [570 0 572]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				572
		name		    "param"
		tag				"id=_qQXMwPdmEeGH_6eRdlYQdA"
		linkNode		    [570 571 573]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				573
		name		    "paramQueueIn"
		tag				"id=_qQXMwfdmEeGH_6eRdlYQdA"
		linkNode		    [570 572 574]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				574
		name		    "event"
		tag				"id=_qQXMwvdmEeGH_6eRdlYQdA"
		linkNode		    [570 573 575]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				575
		name		    "evtQueue"
		tag				"id=_qQXMw_dmEeGH_6eRdlYQdA"
		linkNode		    [570 574 576]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				576
		name		    "paramQueue"
		tag				"id=_qQXMxPdmEeGH_6eRdlYQdA"
		linkNode		    [570 575 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				577
		chart			539
		tag				"id=_qQV-o_dmEeGH_6eRdlYQdA"
		treeNode		[539 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [813.2716 -0.29599953 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				578
		name		    "event"
		tag				"id=_qQXMxfdmEeGH_6eRdlYQdA"
		linkNode		    [577 0 579]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				579
		name		    "evtQueue"
		tag				"id=_qQXMxvdmEeGH_6eRdlYQdA"
		linkNode		    [577 578 580]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				580
		name		    "available"
		tag				"id=_qQXz0PdmEeGH_6eRdlYQdA"
		linkNode		    [577 579 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				581
		chart			539
		tag				"id=_qQWlsPdmEeGH_6eRdlYQdA"
		treeNode		[539 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [700.77 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				582
		name		    "event"
		tag				"id=_qQXz0fdmEeGH_6eRdlYQdA"
		linkNode		    [581 0 583]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				583
		name		    "evtQueueIn"
		tag				"id=_qQXz0vdmEeGH_6eRdlYQdA"
		linkNode		    [581 582 584]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				584
		name		    "paramQueueIn"
		tag				"id=_qQXz0_dmEeGH_6eRdlYQdA"
		linkNode		    [581 583 585]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				585
		name		    "evtQueue"
		tag				"id=_qQYa4PdmEeGH_6eRdlYQdA"
		linkNode		    [581 584 586]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				586
		name		    "paramQueue"
		tag				"id=_qQYa4fdmEeGH_6eRdlYQdA"
		linkNode		    [581 585 587]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				587
		name		    "parameter"
		tag				"id=_qQYa4vdmEeGH_6eRdlYQdA"
		linkNode		    [581 586 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				588
		chart			539
		tag				"id=_qQWlsfdmEeGH_6eRdlYQdA"
		treeNode		[539 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [589.27 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				589
		name		    "clock"
		tag				"id=_qQYa4_dmEeGH_6eRdlYQdA"
		linkNode		    [588 0 590]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				590
		name		    "logicalTime"
		tag				"id=_qQZB8PdmEeGH_6eRdlYQdA"
		linkNode		    [588 589 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				591
		chart			539
		tag				"id=_qQWlsvdmEeGH_6eRdlYQdA"
		treeNode		[539 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [477.27 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				592
		name		    "clock"
		tag				"id=_qQZB8fdmEeGH_6eRdlYQdA"
		linkNode		    [591 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				541
		name		    "clockSignal"
		tag				"id=_qYZucfdmEeGH_6eRdlYQdA"
		linkNode		    [539 0 593]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				593
		name		    "startStop_MasterReadIn"
		tag				"id=_rqZh0PdmEeGH_6eRdlYQdA"
		linkNode		    [539 541 594]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				594
		name		    "startStop_MasterParamReadIn"
		tag				"id=_rqaI4PdmEeGH_6eRdlYQdA"
		linkNode		    [539 593 595]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				595
		name		    "startStop_MasterWriteIn"
		tag				"id=_rqb-EPdmEeGH_6eRdlYQdA"
		linkNode		    [539 594 596]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				596
		name		    "startStop_MasterParamWriteIn"
		tag				"id=_rqclIPdmEeGH_6eRdlYQdA"
		linkNode		    [539 595 597]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				597
		name		    "startStop_MasterReadOut"
		tag				"id=_rqav8PdmEeGH_6eRdlYQdA"
		linkNode		    [539 596 598]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				598
		name		    "startStop_MasterParamReadOut"
		tag				"id=_rqbXAPdmEeGH_6eRdlYQdA"
		linkNode		    [539 597 599]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				599
		name		    "startStop_MasterWriteOut"
		tag				"id=_rqdMMPdmEeGH_6eRdlYQdA"
		linkNode		    [539 598 600]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				600
		name		    "startStop_MasterParamWriteOut"
		tag				"id=_rqeaUPdmEeGH_6eRdlYQdA"
		linkNode		    [539 599 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			601
		name		"TestStartStopMaster/TestStartStopMaster_Statechart"
		machine		11
		chart		539
	}
	chart {
		id			602
		name		"TestStartStopSlave/TestStartStopSlave_Statechart"
		tag			"id=_qQhk0PdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		10
		viewObj		602    
		decomposition	    CLUSTER_CHART
		treeNode		[0 603 0 0]
		firstData		604
	}
	state {
		id			603
		chart		602
		tag			"id=_qQiL4PdmEeGH_6eRdlYQdA"
		treeNode	[602 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		605
  position [188.93 99.352 467.0 419.998]
	}
	state {
		id			606
		chart		602
		tag			"id=_qQiL4fdmEeGH_6eRdlYQdA"
		treeNode	[603 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [197.08 194.56 408.0 317.0]
	}
	state {
		id			607
		chart		602
		tag			"id=_s9h9oPdmEeGH_6eRdlYQdA"
		treeNode	[606 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstData		608
		firstEvent		609
  position [205.22 299.26 365.99997 204.0]
	}
	state {
		id			610
		chart		602
		tag			"id=_tFHzYPdmEeGH_6eRdlYQdA"
		treeNode	[607 0 0 0]
		labelString	"Synch"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		611
  position [393.37 342.96 170.0 152.0]
	}
	state {
		id			612
		chart		602
		tag			"id=_tOdVkPdmEeGH_6eRdlYQdA"
		treeNode	[610 0 0 0]
		labelString	"Stopped\nentry: startAvailableStatechart = true\nexit: startAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [410.5501 418.91 64.499756 36.0]
	}
	transition {
		id			613
		chart		602
		midPoint	[450.055 414.59]
		src {
			intersection	[3 0 1 0 451.38 410.5 0 0]
		}
		dst {
			id	612
			intersection	[1 0 -1 0 448.73 418.68 0 0]
		}
	}

	state {
		id			614
		chart		602
		tag			"id=_tOkqUPdmEeGH_6eRdlYQdA"
		treeNode	[610 0 0 0]
		labelString	"Working\nentry: stopAvailableStatechart = true\nexit: stopAvailableStatechart = false"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [490.1601 450.62 64.499756 36.0]
	}

  transition {
  	id			611
    chart		602
    tag			"id=_v-nJAPdmEeGH_6eRdlYQdA"
    labelString "stop"
    linkNode 	[610 0 0]
    executionOrder 1
  labelPosition [471.86 445.83 32.0 8.0]
  midPoint [480.195 458.88]
  	src {
  	  id		614
  	    	  
      intersection	[4 -1 0 0 489.88 462.74 0 0]
  	}
  	dst {
  	  id		612
  	    	  
      intersection	[3 0 1 0 470.51 455.02 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			615
    chart		602
    tag			"id=_v_Nl8PdmEeGH_6eRdlYQdA"
    labelString "start"
    linkNode 	[610 0 0]
    executionOrder 1
  labelPosition [457.36 451.7 40.0 8.0]
  midPoint [485.015 446.655]
  	src {
  	  id		612
  	    	  
      intersection	[2 1 0 0 475.33 442.8 0 0]
  	}
  	dst {
  	  id		614
  	    	  
      intersection	[1 0 -1 0 494.7 450.51 0 0]
  	}
  	slide {
  	}
  }

	state {
		id			616
		chart		602
		tag			"id=_tFOhEPdmEeGH_6eRdlYQdA"
		treeNode	[607 0 0 0]
		labelString	"StartStop_Slave"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstData		617
		firstTransition		618
  position [212.87 330.46 157.0 147.0]
	}
	state {
		id			619
		chart		602
		tag			"id=_tOvCYPdmEeGH_6eRdlYQdA"
		treeNode	[616 0 0 0]
		labelString	"Stopped"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [230.81012 406.06 64.499756 36.0]
	}
	transition {
		id			620
		chart		602
		midPoint	[269.73 401.68]
		src {
			intersection	[3 0 1 0 270.95 397.58 0 0]
		}
		dst {
			id	619
			intersection	[1 0 -1 0 268.51 405.78 0 0]
		}
	}

	state {
		id			621
		chart		602
		tag			"id=_tO2-MPdmEeGH_6eRdlYQdA"
		treeNode	[616 0 0 0]
		labelString	"Started"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [305.7799 433.08 56.00016 36.0]
	}

  transition {
  	id			618
    chart		602
    tag			"id=_3H4RwPdmEeGH_6eRdlYQdA"
    labelString "[(startAvailableSynch) && ([checkQueue(EVT_START, startStop_SlaveEvtReadOut)])]{send(start, Synch)}"
    linkNode 	[616 0 0]
    executionOrder 1
  labelPosition [-52.0 433.48 696.0 8.0]
  midPoint [300.6 431.23]
  	src {
  	  id		619
  	    	  
      intersection	[2 1 0 0 295.85 429.42 0 0]
  	}
  	dst {
  	  id		621
  	    	  
      intersection	[1 0 -1 0 305.35 433.04 0 0]
  	}
  	slide {
  	}
  }
  transition {
  	id			622
    chart		602
    tag			"id=_3IZPIPdmEeGH_6eRdlYQdA"
    labelString "[(stopAvailableSynch) && ([checkQueue(EVT_STOP, startStop_SlaveEvtReadOut)])]{send(stop, Synch)}"
    linkNode 	[616 0 0]
    executionOrder 1
  labelPosition [-29.600006 430.54 672.0 8.0]
  midPoint [298.7 444.76]
  	src {
  	  id		621
  	    	  
      intersection	[4 -1 0 0 305.52 447.27 0 0]
  	}
  	dst {
  	  id		619
  	    	  
      intersection	[3 0 1 0 291.88 442.25 0 0]
  	}
  	slide {
  	}
  }
	data {
		id				617
		name		    "EVT_START"
		tag				"id=_5wX-APdmEeGH_6eRdlYQdA"
		linkNode		    [616 0 623]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"10"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				623
		name		    "EVT_STOP"
		tag				"id=_5xCsYPdmEeGH_6eRdlYQdA"
		linkNode		    [616 617 0]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"11"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  

	event {
		id				609
		ssIdNumber		609
		name		    "stop"
		tag				"id=_vRxRIPdmEeGH_6eRdlYQdA"
		linkNode		    [607 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	event {
		id				624
		ssIdNumber		624
		name		    "start"
		tag				"id=_vRyfQPdmEeGH_6eRdlYQdA"
		linkNode		    [607 0 0]
		scope		    LOCAL_EVENT
		trigger		    EITHER_EDGE_EVENT
		machine		    11		
	}  
	data {
		id				608
		name		    "EVT_START"
		tag				"id=_BqbqgPdnEeGH_6eRdlYQdA"
		linkNode		    [607 0 625]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"10"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				625
		name		    "EVT_STOP"
		tag				"id=_CGWxgPdnEeGH_6eRdlYQdA"
		linkNode		    [607 608 626]
		machine		    11
		dataType		"uint32"
		scope		    CONSTANT_DATA	
		props {
		
			initialValue	"11"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				626
		name		    "stopAvailableStatechart"
		tag				"id=_v-tPoPdmEeGH_6eRdlYQdA"
		linkNode		    [607 625 627]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				627
		name		    "startAvailableStatechart"
		tag				"id=_v_TskPdmEeGH_6eRdlYQdA"
		linkNode		    [607 626 0]
		machine		    11
		dataType		"boolean"
		scope		    LOCAL_DATA	
		props {
		
			initialValue	"false"

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	transition {
		id			628
		chart		602
		midPoint	[463.705 329.845]
		src {
			intersection	[3 0 1 0 537.67 259.87 0 0]
		}
		dst {
			id	607
			intersection	[1 0 -1 0 389.74 399.82 0 0]
		}
	}


	state {
		id			629
		chart		602
		tag			"id=_qQiy8PdmEeGH_6eRdlYQdA"
		treeNode	[603 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [588.08014 130.06 59.99976 36.0]
	}

  transition {
  	id			605
    chart		602
    tag			"id=_qQjaAPdmEeGH_6eRdlYQdA"
    labelString "{startStop_SlaveEvtWriteOut = startStop_SlaveEvtWriteIn;
startStop_SlaveParamWriteOut = startStop_SlaveParamWriteIn;
startStop_SlaveEvtReadOut = startStop_SlaveEvtReadIn;
startStop_SlaveParamReadOut = startStop_SlaveParamReadIn;
}"
    linkNode 	[603 0 0]
    executionOrder 0
  labelPosition [-65.41998 144.06 1824.0 8.0]
  midPoint [648.54 148.055]
  	src {
  	  id		629
  	    	  
      intersection	[2 1 0 0 648.54 141.31 0 0]
  	}
  	dst {
  	  id		629
  	    	  
      intersection	[2 1 0 0 648.54 154.8 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			630
		chart		602
		midPoint	[509.005 198.84799]
		src {
			intersection	[3 0 1 0 593.12 91.476 0 0]
		}
		dst {
			id	603
			intersection	[1 0 -1 0 424.89 306.22 0 0]
		}
	}

	state {
		id				631
		chart			602
		tag				"id=_qQjaAfdmEeGH_6eRdlYQdA"
		treeNode		[602 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [252.22005 20.703999 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				632
		name		    "evtQueueIn"
		tag				"id=_qQkoIPdmEeGH_6eRdlYQdA"
		linkNode		    [631 0 633]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				633
		name		    "param"
		tag				"id=_qQkoIfdmEeGH_6eRdlYQdA"
		linkNode		    [631 632 634]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				634
		name		    "paramQueueIn"
		tag				"id=_qQkoIvdmEeGH_6eRdlYQdA"
		linkNode		    [631 633 635]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				635
		name		    "event"
		tag				"id=_qQkoI_dmEeGH_6eRdlYQdA"
		linkNode		    [631 634 636]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				636
		name		    "evtQueue"
		tag				"id=_qQlPMPdmEeGH_6eRdlYQdA"
		linkNode		    [631 635 637]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				637
		name		    "paramQueue"
		tag				"id=_qQlPMfdmEeGH_6eRdlYQdA"
		linkNode		    [631 636 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				638
		chart			602
		tag				"id=_qQjaAvdmEeGH_6eRdlYQdA"
		treeNode		[602 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [462.22162 20.703999 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				639
		name		    "event"
		tag				"id=_qQlPMvdmEeGH_6eRdlYQdA"
		linkNode		    [638 0 640]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				640
		name		    "evtQueue"
		tag				"id=_qQlPM_dmEeGH_6eRdlYQdA"
		linkNode		    [638 639 641]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				641
		name		    "available"
		tag				"id=_qQl2QPdmEeGH_6eRdlYQdA"
		linkNode		    [638 640 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				642
		chart			602
		tag				"id=_qQjaA_dmEeGH_6eRdlYQdA"
		treeNode		[602 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [356.72 20.703999 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				643
		name		    "event"
		tag				"id=_qQl2QfdmEeGH_6eRdlYQdA"
		linkNode		    [642 0 644]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				644
		name		    "evtQueueIn"
		tag				"id=_qQl2QvdmEeGH_6eRdlYQdA"
		linkNode		    [642 643 645]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				645
		name		    "paramQueueIn"
		tag				"id=_qQl2Q_dmEeGH_6eRdlYQdA"
		linkNode		    [642 644 646]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				646
		name		    "evtQueue"
		tag				"id=_qQmdUPdmEeGH_6eRdlYQdA"
		linkNode		    [642 645 647]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				647
		name		    "paramQueue"
		tag				"id=_qQmdUfdmEeGH_6eRdlYQdA"
		linkNode		    [642 646 648]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				648
		name		    "parameter"
		tag				"id=_qQmdUvdmEeGH_6eRdlYQdA"
		linkNode		    [642 647 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				649
		chart			602
		tag				"id=_qQkBEPdmEeGH_6eRdlYQdA"
		treeNode		[602 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [168.22 -0.29599953 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				650
		name		    "clock"
		tag				"id=_qQmdU_dmEeGH_6eRdlYQdA"
		linkNode		    [649 0 651]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				651
		name		    "logicalTime"
		tag				"id=_qQnEYPdmEeGH_6eRdlYQdA"
		linkNode		    [649 650 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				652
		chart			602
		tag				"id=_qQkBEfdmEeGH_6eRdlYQdA"
		treeNode		[602 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [672.22 20.703999 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				653
		name		    "clock"
		tag				"id=_qQnEYfdmEeGH_6eRdlYQdA"
		linkNode		    [652 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				604
		name		    "clockSignal"
		tag				"id=_qYOvUPdmEeGH_6eRdlYQdA"
		linkNode		    [602 0 654]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				654
		name		    "startStop_SlaveReadIn"
		tag				"id=_rg8q4PdmEeGH_6eRdlYQdA"
		linkNode		    [602 604 655]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				655
		name		    "startStop_SlaveParamReadIn"
		tag				"id=_rg8q4fdmEeGH_6eRdlYQdA"
		linkNode		    [602 654 656]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				656
		name		    "startStop_SlaveWriteIn"
		tag				"id=_rg-gEPdmEeGH_6eRdlYQdA"
		linkNode		    [602 655 657]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				657
		name		    "startStop_SlaveParamWriteIn"
		tag				"id=_rg_HIPdmEeGH_6eRdlYQdA"
		linkNode		    [602 656 658]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				658
		name		    "startStop_SlaveReadOut"
		tag				"id=_rg9R8PdmEeGH_6eRdlYQdA"
		linkNode		    [602 657 659]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				659
		name		    "startStop_SlaveParamReadOut"
		tag				"id=_rg95APdmEeGH_6eRdlYQdA"
		linkNode		    [602 658 660]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				660
		name		    "startStop_SlaveWriteOut"
		tag				"id=_rg_uMPdmEeGH_6eRdlYQdA"
		linkNode		    [602 659 661]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				661
		name		    "startStop_SlaveParamWriteOut"
		tag				"id=_rhAVQPdmEeGH_6eRdlYQdA"
		linkNode		    [602 660 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			662
		name		"TestStartStopSlave/TestStartStopSlave_Statechart"
		machine		11
		chart		602
	}
	chart {
		id			663
		name		"Handshake_Partner"
		tag			"id=_qQxccPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		11
		viewObj		663    
		decomposition	    CLUSTER_CHART
		treeNode		[0 664 0 0]
	}
	state {
		id			664
		chart		663
		tag			"id=_qQyDgPdmEeGH_6eRdlYQdA"
		treeNode	[663 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		665
  position [0.33228 77.377 237.99773 219.003]
	}
	state {
		id			666
		chart		663
		tag			"id=_qQyqkPdmEeGH_6eRdlYQdA"
		treeNode	[664 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [7.9771 166.08 151.0029 121.999985]
	}
	state {
		id			667
		chart		663
		tag			"id=_s9uK4PdmEeGH_6eRdlYQdA"
		treeNode	[666 0 0 0]
		labelString	"Handshake_Main"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
  position [16.291 243.70999 112.5 36.0]
	}
	transition {
		id			668
		chart		663
		midPoint	[91.087 238.035]
		src {
			intersection	[3 0 1 0 95.431 232.49 0 0]
		}
		dst {
			id	667
			intersection	[1 0 -1 0 86.743 243.58 0 0]
		}
	}


	state {
		id			669
		chart		663
		tag			"id=_qQyqkfdmEeGH_6eRdlYQdA"
		treeNode	[664 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
  position [170.48012 108.08 59.99976 36.0]
	}

  transition {
  	id			665
    chart		663
    tag			"id=_qQzRoPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[664 0 0]
    executionOrder 0
  midPoint [230.94 126.08]
  	src {
  	  id		669
  	    	  
      intersection	[2 1 0 0 230.94 119.33 0 0]
  	}
  	dst {
  	  id		669
  	    	  
      intersection	[2 1 0 0 230.94 132.83 0 0]
  	}
  	slide {
  	}
  }
	transition {
		id			670
		chart		663
		midPoint	[167.365 125.56149]
		src {
			intersection	[3 0 1 0 214.02 66.003 0 0]
		}
		dst {
			id	664
			intersection	[1 0 -1 0 120.71 185.12 0 0]
		}
	}

	state {
		id				671
		chart			663
		tag				"id=_qQzRofdmEeGH_6eRdlYQdA"
		treeNode		[663 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [260.14005 246.70001 61.999916 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				672
		name		    "evtQueueIn"
		tag				"id=_qQ0fwPdmEeGH_6eRdlYQdA"
		linkNode		    [671 0 673]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				673
		name		    "param"
		tag				"id=_qQ0fwfdmEeGH_6eRdlYQdA"
		linkNode		    [671 672 674]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				674
		name		    "paramQueueIn"
		tag				"id=_qQ0fwvdmEeGH_6eRdlYQdA"
		linkNode		    [671 673 675]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				675
		name		    "event"
		tag				"id=_qQ0fw_dmEeGH_6eRdlYQdA"
		linkNode		    [671 674 676]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				676
		name		    "evtQueue"
		tag				"id=_qQ1G0PdmEeGH_6eRdlYQdA"
		linkNode		    [671 675 677]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				677
		name		    "paramQueue"
		tag				"id=_qQ1G0fdmEeGH_6eRdlYQdA"
		linkNode		    [671 676 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				678
		chart			663
		tag				"id=_qQzRovdmEeGH_6eRdlYQdA"
		treeNode		[663 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [104.1416 12.704 85.996796 36.0]
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				679
		name		    "event"
		tag				"id=_qQ1G0vdmEeGH_6eRdlYQdA"
		linkNode		    [678 0 680]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				680
		name		    "evtQueue"
		tag				"id=_qQ1G0_dmEeGH_6eRdlYQdA"
		linkNode		    [678 679 681]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				681
		name		    "available"
		tag				"id=_qQ1t4PdmEeGH_6eRdlYQdA"
		linkNode		    [678 680 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				682
		chart			663
		tag				"id=_qQzRo_dmEeGH_6eRdlYQdA"
		treeNode		[663 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [12.645 -0.29599953 63.0 36.0]
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				683
		name		    "event"
		tag				"id=_qQ1t4fdmEeGH_6eRdlYQdA"
		linkNode		    [682 0 684]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				684
		name		    "evtQueueIn"
		tag				"id=_qQ1t4vdmEeGH_6eRdlYQdA"
		linkNode		    [682 683 685]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				685
		name		    "paramQueueIn"
		tag				"id=_qQ1t4_dmEeGH_6eRdlYQdA"
		linkNode		    [682 684 686]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				686
		name		    "evtQueue"
		tag				"id=_qQ2U8PdmEeGH_6eRdlYQdA"
		linkNode		    [682 685 687]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				687
		name		    "paramQueue"
		tag				"id=_qQ2U8fdmEeGH_6eRdlYQdA"
		linkNode		    [682 686 688]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				688
		name		    "parameter"
		tag				"id=_qQ2U8vdmEeGH_6eRdlYQdA"
		linkNode		    [682 687 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				689
		chart			663
		tag				"id=_qQz4sPdmEeGH_6eRdlYQdA"
		treeNode		[663 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [260.14 116.7 54.0 36.0]
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				690
		name		    "clock"
		tag				"id=_qQ2U8_dmEeGH_6eRdlYQdA"
		linkNode		    [689 0 691]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				691
		name		    "logicalTime"
		tag				"id=_qQ28APdmEeGH_6eRdlYQdA"
		linkNode		    [689 690 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				692
		chart			663
		tag				"id=_qQz4sfdmEeGH_6eRdlYQdA"
		treeNode		[663 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
  position [260.14 181.7 54.0 36.0]
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				693
		name		    "clock"
		tag				"id=_qQ28AfdmEeGH_6eRdlYQdA"
		linkNode		    [692 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			694
		name		"Handshake_Partner"
		machine		11
		chart		663
	}
	chart {
		id			695
		name		""
		tag			"id=_qRDwUPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		12
		viewObj		695    
		decomposition	    CLUSTER_CHART
		treeNode		[0 696 0 0]
	}
	state {
		id			696
		chart		695
		tag			"id=_qREXYPdmEeGH_6eRdlYQdA"
		treeNode	[695 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		697
	}
	state {
		id			698
		chart		695
		tag			"id=_qRE-cPdmEeGH_6eRdlYQdA"
		treeNode	[696 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}
	state {
		id			699
		chart		695
		tag			"id=_s9374PdmEeGH_6eRdlYQdA"
		treeNode	[698 0 0 0]
		labelString	"Main"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
	}
	state {
		id			700
		chart		695
		tag			"id=_tFV10PdmEeGH_6eRdlYQdA"
		treeNode	[699 0 0 0]
		labelString	"synch"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}

	state {
		id			701
		chart		695
		tag			"id=_tFb8cPdmEeGH_6eRdlYQdA"
		treeNode	[699 0 0 0]
		labelString	"Handshake.Partner"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}

	transition {
		id			702
		chart		695
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	699
			intersection	[0 0 0 0 0 0 0 0]
		}
	}


	state {
		id			703
		chart		695
		tag			"id=_qRE-cfdmEeGH_6eRdlYQdA"
		treeNode	[696 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}

  transition {
  	id			697
    chart		695
    tag			"id=_qRE-cvdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[696 0 0]
    executionOrder 0
  	src {
  	  id		703
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		703
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	transition {
		id			704
		chart		695
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	696
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

	state {
		id				705
		chart			695
		tag				"id=_qRE-c_dmEeGH_6eRdlYQdA"
		treeNode		[695 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				706
		name		    "evtQueueIn"
		tag				"id=_qRGMkPdmEeGH_6eRdlYQdA"
		linkNode		    [705 0 707]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				707
		name		    "param"
		tag				"id=_qRGMkfdmEeGH_6eRdlYQdA"
		linkNode		    [705 706 708]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				708
		name		    "paramQueueIn"
		tag				"id=_qRGMkvdmEeGH_6eRdlYQdA"
		linkNode		    [705 707 709]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				709
		name		    "event"
		tag				"id=_qRGMk_dmEeGH_6eRdlYQdA"
		linkNode		    [705 708 710]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				710
		name		    "evtQueue"
		tag				"id=_qRGMlPdmEeGH_6eRdlYQdA"
		linkNode		    [705 709 711]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				711
		name		    "paramQueue"
		tag				"id=_qRGMlfdmEeGH_6eRdlYQdA"
		linkNode		    [705 710 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				712
		chart			695
		tag				"id=_qRFlgPdmEeGH_6eRdlYQdA"
		treeNode		[695 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				713
		name		    "event"
		tag				"id=_qRGzoPdmEeGH_6eRdlYQdA"
		linkNode		    [712 0 714]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				714
		name		    "evtQueue"
		tag				"id=_qRGzofdmEeGH_6eRdlYQdA"
		linkNode		    [712 713 715]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				715
		name		    "available"
		tag				"id=_qRGzovdmEeGH_6eRdlYQdA"
		linkNode		    [712 714 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				716
		chart			695
		tag				"id=_qRFlgfdmEeGH_6eRdlYQdA"
		treeNode		[695 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				717
		name		    "event"
		tag				"id=_qRGzo_dmEeGH_6eRdlYQdA"
		linkNode		    [716 0 718]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				718
		name		    "evtQueueIn"
		tag				"id=_qRGzpPdmEeGH_6eRdlYQdA"
		linkNode		    [716 717 719]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				719
		name		    "paramQueueIn"
		tag				"id=_qRGzpfdmEeGH_6eRdlYQdA"
		linkNode		    [716 718 720]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				720
		name		    "evtQueue"
		tag				"id=_qRHasPdmEeGH_6eRdlYQdA"
		linkNode		    [716 719 721]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				721
		name		    "paramQueue"
		tag				"id=_qRHasfdmEeGH_6eRdlYQdA"
		linkNode		    [716 720 722]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				722
		name		    "parameter"
		tag				"id=_qRHasvdmEeGH_6eRdlYQdA"
		linkNode		    [716 721 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				723
		chart			695
		tag				"id=_qRFlgvdmEeGH_6eRdlYQdA"
		treeNode		[695 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				724
		name		    "clock"
		tag				"id=_qRHas_dmEeGH_6eRdlYQdA"
		linkNode		    [723 0 725]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				725
		name		    "logicalTime"
		tag				"id=_qRIBwPdmEeGH_6eRdlYQdA"
		linkNode		    [723 724 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				726
		chart			695
		tag				"id=_qRFlg_dmEeGH_6eRdlYQdA"
		treeNode		[695 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				727
		name		    "clock"
		tag				"id=_qRIBwfdmEeGH_6eRdlYQdA"
		linkNode		    [726 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			728
		name		""
		machine		11
		chart		695
	}
	chart {
		id			729
		name		"Pattern_Delegation_Slave"
		tag			"id=_qRSZ0PdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		13
		viewObj		729    
		decomposition	    CLUSTER_CHART
		treeNode		[0 730 0 0]
	}
	state {
		id			730
		chart		729
		tag			"id=_qRSZ0fdmEeGH_6eRdlYQdA"
		treeNode	[729 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		731
	}
	state {
		id			732
		chart		729
		tag			"id=_qRTA4PdmEeGH_6eRdlYQdA"
		treeNode	[730 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}
	state {
		id			733
		chart		729
		tag			"id=_s-JosPdmEeGH_6eRdlYQdA"
		treeNode	[732 0 0 0]
		labelString	"Inactive"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}

	state {
		id			734
		chart		729
		tag			"id=_s-SLkPdmEeGH_6eRdlYQdA"
		treeNode	[732 0 0 0]
		labelString	"Success"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}

	state {
		id			735
		chart		729
		tag			"id=_s-aucPdmEeGH_6eRdlYQdA"
		treeNode	[732 0 0 0]
		labelString	"Fail"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}

	state {
		id			736
		chart		729
		tag			"id=_s-jRUPdmEeGH_6eRdlYQdA"
		treeNode	[732 0 0 0]
		labelString	"Running"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}


	state {
		id			737
		chart		729
		tag			"id=_qRTA4fdmEeGH_6eRdlYQdA"
		treeNode	[730 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}

  transition {
  	id			731
    chart		729
    tag			"id=_qRTn8PdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[730 0 0]
    executionOrder 0
  	src {
  	  id		737
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		737
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	transition {
		id			738
		chart		729
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	730
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

	state {
		id				739
		chart			729
		tag				"id=_qRTn8fdmEeGH_6eRdlYQdA"
		treeNode		[729 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				740
		name		    "evtQueueIn"
		tag				"id=_qRUPAPdmEeGH_6eRdlYQdA"
		linkNode		    [739 0 741]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				741
		name		    "param"
		tag				"id=_qRUPAfdmEeGH_6eRdlYQdA"
		linkNode		    [739 740 742]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				742
		name		    "paramQueueIn"
		tag				"id=_qRUPAvdmEeGH_6eRdlYQdA"
		linkNode		    [739 741 743]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				743
		name		    "event"
		tag				"id=_qRUPA_dmEeGH_6eRdlYQdA"
		linkNode		    [739 742 744]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				744
		name		    "evtQueue"
		tag				"id=_qRUPBPdmEeGH_6eRdlYQdA"
		linkNode		    [739 743 745]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				745
		name		    "paramQueue"
		tag				"id=_qRU2EPdmEeGH_6eRdlYQdA"
		linkNode		    [739 744 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				746
		chart			729
		tag				"id=_qRTn8vdmEeGH_6eRdlYQdA"
		treeNode		[729 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				747
		name		    "event"
		tag				"id=_qRU2EfdmEeGH_6eRdlYQdA"
		linkNode		    [746 0 748]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				748
		name		    "evtQueue"
		tag				"id=_qRU2EvdmEeGH_6eRdlYQdA"
		linkNode		    [746 747 749]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				749
		name		    "available"
		tag				"id=_qRU2E_dmEeGH_6eRdlYQdA"
		linkNode		    [746 748 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				750
		chart			729
		tag				"id=_qRTn8_dmEeGH_6eRdlYQdA"
		treeNode		[729 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				751
		name		    "event"
		tag				"id=_qRU2FPdmEeGH_6eRdlYQdA"
		linkNode		    [750 0 752]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				752
		name		    "evtQueueIn"
		tag				"id=_qRU2FfdmEeGH_6eRdlYQdA"
		linkNode		    [750 751 753]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				753
		name		    "paramQueueIn"
		tag				"id=_qRU2FvdmEeGH_6eRdlYQdA"
		linkNode		    [750 752 754]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				754
		name		    "evtQueue"
		tag				"id=_qRVdIPdmEeGH_6eRdlYQdA"
		linkNode		    [750 753 755]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				755
		name		    "paramQueue"
		tag				"id=_qRVdIfdmEeGH_6eRdlYQdA"
		linkNode		    [750 754 756]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				756
		name		    "parameter"
		tag				"id=_qRVdIvdmEeGH_6eRdlYQdA"
		linkNode		    [750 755 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				757
		chart			729
		tag				"id=_qRTn9PdmEeGH_6eRdlYQdA"
		treeNode		[729 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				758
		name		    "clock"
		tag				"id=_qRVdI_dmEeGH_6eRdlYQdA"
		linkNode		    [757 0 759]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				759
		name		    "logicalTime"
		tag				"id=_qRVdJPdmEeGH_6eRdlYQdA"
		linkNode		    [757 758 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				760
		chart			729
		tag				"id=_qRTn9fdmEeGH_6eRdlYQdA"
		treeNode		[729 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				761
		name		    "clock"
		tag				"id=_qRVdJfdmEeGH_6eRdlYQdA"
		linkNode		    [760 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			762
		name		"Pattern_Delegation_Slave"
		machine		11
		chart		729
	}
	chart {
		id			763
		name		"Pattern_EventListener_Master"
		tag			"id=_qRi4gPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		14
		viewObj		763    
		decomposition	    CLUSTER_CHART
		treeNode		[0 764 0 0]
	}
	state {
		id			764
		chart		763
		tag			"id=_qRjfkPdmEeGH_6eRdlYQdA"
		treeNode	[763 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		765
	}
	state {
		id			766
		chart		763
		tag			"id=_qRjfkfdmEeGH_6eRdlYQdA"
		treeNode	[764 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
		firstTransition		767
	}
	state {
		id			768
		chart		763
		tag			"id=_s-tpYPdmEeGH_6eRdlYQdA"
		treeNode	[766 0 0 0]
		labelString	"State"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}
	transition {
		id			769
		chart		763
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	768
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

  transition {
  	id			767
    chart		763
    tag			"id=_8X6oAPdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[766 0 0]
    executionOrder 1
  	src {
  	  id		768
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		768
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }

	state {
		id			770
		chart		763
		tag			"id=_qRkGoPdmEeGH_6eRdlYQdA"
		treeNode	[764 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}

  transition {
  	id			765
    chart		763
    tag			"id=_qRkGofdmEeGH_6eRdlYQdA"
    labelString ""
    linkNode 	[764 0 0]
    executionOrder 0
  	src {
  	  id		770
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		770
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	transition {
		id			771
		chart		763
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	764
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

	state {
		id				772
		chart			763
		tag				"id=_qRkGovdmEeGH_6eRdlYQdA"
		treeNode		[763 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				773
		name		    "evtQueueIn"
		tag				"id=_qRktsvdmEeGH_6eRdlYQdA"
		linkNode		    [772 0 774]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				774
		name		    "param"
		tag				"id=_qRkts_dmEeGH_6eRdlYQdA"
		linkNode		    [772 773 775]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				775
		name		    "paramQueueIn"
		tag				"id=_qRkttPdmEeGH_6eRdlYQdA"
		linkNode		    [772 774 776]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				776
		name		    "event"
		tag				"id=_qRkttfdmEeGH_6eRdlYQdA"
		linkNode		    [772 775 777]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				777
		name		    "evtQueue"
		tag				"id=_qRlUwPdmEeGH_6eRdlYQdA"
		linkNode		    [772 776 778]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				778
		name		    "paramQueue"
		tag				"id=_qRlUwfdmEeGH_6eRdlYQdA"
		linkNode		    [772 777 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				779
		chart			763
		tag				"id=_qRkGo_dmEeGH_6eRdlYQdA"
		treeNode		[763 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				780
		name		    "event"
		tag				"id=_qRlUwvdmEeGH_6eRdlYQdA"
		linkNode		    [779 0 781]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				781
		name		    "evtQueue"
		tag				"id=_qRlUw_dmEeGH_6eRdlYQdA"
		linkNode		    [779 780 782]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				782
		name		    "available"
		tag				"id=_qRlUxPdmEeGH_6eRdlYQdA"
		linkNode		    [779 781 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				783
		chart			763
		tag				"id=_qRkGpPdmEeGH_6eRdlYQdA"
		treeNode		[763 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				784
		name		    "event"
		tag				"id=_qRlUxfdmEeGH_6eRdlYQdA"
		linkNode		    [783 0 785]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				785
		name		    "evtQueueIn"
		tag				"id=_qRl70PdmEeGH_6eRdlYQdA"
		linkNode		    [783 784 786]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				786
		name		    "paramQueueIn"
		tag				"id=_qRl70fdmEeGH_6eRdlYQdA"
		linkNode		    [783 785 787]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				787
		name		    "evtQueue"
		tag				"id=_qRl70vdmEeGH_6eRdlYQdA"
		linkNode		    [783 786 788]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				788
		name		    "paramQueue"
		tag				"id=_qRl70_dmEeGH_6eRdlYQdA"
		linkNode		    [783 787 789]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				789
		name		    "parameter"
		tag				"id=_qRl71PdmEeGH_6eRdlYQdA"
		linkNode		    [783 788 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				790
		chart			763
		tag				"id=_qRktsPdmEeGH_6eRdlYQdA"
		treeNode		[763 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				791
		name		    "clock"
		tag				"id=_qRl71fdmEeGH_6eRdlYQdA"
		linkNode		    [790 0 792]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				792
		name		    "logicalTime"
		tag				"id=_qRmi4PdmEeGH_6eRdlYQdA"
		linkNode		    [790 791 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				793
		chart			763
		tag				"id=_qRktsfdmEeGH_6eRdlYQdA"
		treeNode		[763 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				794
		name		    "clock"
		tag				"id=_qRmi4fdmEeGH_6eRdlYQdA"
		linkNode		    [793 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			795
		name		"Pattern_EventListener_Master"
		machine		11
		chart		763
	}
	chart {
		id			796
		name		"UserInterface/UserInterface_Statechart"
		tag			"id=_qR2agPdmEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		15
		viewObj		796    
		decomposition	    CLUSTER_CHART
		treeNode		[0 797 0 0]
		firstData		798
	}
	state {
		id			797
		chart		796
		tag			"id=_qR3BkPdmEeGH_6eRdlYQdA"
		treeNode	[796 0 0 0]
		labelString	"chart"

	decomposition	    SET_STATE
		
	type		    OR_STATE    	
		firstTransition		799
	}
	state {
		id			800
		chart		796
		tag			"id=_qR3ooPdmEeGH_6eRdlYQdA"
		treeNode	[797 0 0 0]
		labelString	"chartRegion"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}
	state {
		id			801
		chart		796
		tag			"id=_s_7KUPdmEeGH_6eRdlYQdA"
		treeNode	[800 0 0 0]
		labelString	"Main"
	decomposition	    CLUSTER_STATE
		
	type		    OR_STATE    	
	}
	transition {
		id			802
		chart		796
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	801
			intersection	[0 0 0 0 0 0 0 0]
		}
	}


	state {
		id			803
		chart		796
		tag			"id=_qR4PsPdmEeGH_6eRdlYQdA"
		treeNode	[797 0 0 0]
		labelString	"DataInit"
	decomposition	    CLUSTER_STATE
		
	type		AND_STATE	
	}

  transition {
  	id			799
    chart		796
    tag			"id=_qR4PsfdmEeGH_6eRdlYQdA"
    labelString "{HMI_STRATEGYREQUEST.providerEvtWriteOut = HMI_STRATEGYREQUEST.providerEvtWriteIn;
HMI_STRATEGYREQUEST.providerParamWriteOut = HMI_STRATEGYREQUEST.providerParamWriteIn;
HMI_STRATEGYREQUEST.providerEvtReadOut = HMI_STRATEGYREQUEST.providerEvtReadIn;
HMI_STRATEGYREQUEST.providerParamReadOut = HMI_STRATEGYREQUEST.providerParamReadIn;
HMI_RESET.masterEvtWriteOut = HMI_RESET.masterEvtWriteIn;
HMI_RESET.masterParamWriteOut = HMI_RESET.masterParamWriteIn;
HMI_RESET.masterEvtReadOut = HMI_RESET.masterEvtReadIn;
HMI_RESET.masterParamReadOut = HMI_RESET.masterParamReadIn;
HMI_STRATEGY.masterEvtWriteOut = HMI_STRATEGY.masterEvtWriteIn;
HMI_STRATEGY.masterParamWriteOut = HMI_STRATEGY.masterParamWriteIn;
HMI_STRATEGY.masterEvtReadOut = HMI_STRATEGY.masterEvtReadIn;
HMI_STRATEGY.masterParamReadOut = HMI_STRATEGY.masterParamReadIn;
STATUS.slaveEvtWriteOut = STATUS.slaveEvtWriteIn;
STATUS.slaveParamWriteOut = STATUS.slaveParamWriteIn;
STATUS.slaveEvtReadOut = STATUS.slaveEvtReadIn;
STATUS.slaveParamReadOut = STATUS.slaveParamReadIn;
HMI_END.masterEvtWriteOut = HMI_END.masterEvtWriteIn;
HMI_END.masterParamWriteOut = HMI_END.masterParamWriteIn;
HMI_END.masterEvtReadOut = HMI_END.masterEvtReadIn;
HMI_END.masterParamReadOut = HMI_END.masterParamReadIn;
}"
    linkNode 	[797 0 0]
    executionOrder 0
  	src {
  	  id		803
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		803
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	transition {
		id			804
		chart		796
		src {
			intersection	[0 0 0 0 0 0 0 0]
		}
		dst {
			id	797
			intersection	[0 0 0 0 0 0 0 0]
		}
	}

	state {
		id				805
		chart			796
		tag				"id=_qR4PsvdmEeGH_6eRdlYQdA"
		treeNode		[796 0 0 0]
		labelString		"enqueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue] = enqueue(event, evtQueueIn, param, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n for i = 1:length(evtQueueIn) \n if evtQueueIn(i) == uint8(0) \n evtQueueIn(i) = event; \n paramQueue(i) = param; \n return \n end \n end"		
		}	
	}
	data {
		id				806
		name		    "evtQueueIn"
		tag				"id=_qR5d0PdmEeGH_6eRdlYQdA"
		linkNode		    [805 0 807]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				807
		name		    "param"
		tag				"id=_qR5d0fdmEeGH_6eRdlYQdA"
		linkNode		    [805 806 808]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				808
		name		    "paramQueueIn"
		tag				"id=_qR6E4PdmEeGH_6eRdlYQdA"
		linkNode		    [805 807 809]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				809
		name		    "event"
		tag				"id=_qR6E4fdmEeGH_6eRdlYQdA"
		linkNode		    [805 808 810]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				810
		name		    "evtQueue"
		tag				"id=_qR6E4vdmEeGH_6eRdlYQdA"
		linkNode		    [805 809 811]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				811
		name		    "paramQueue"
		tag				"id=_qR6E4_dmEeGH_6eRdlYQdA"
		linkNode		    [805 810 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				812
		chart			796
		tag				"id=_qR42wPdmEeGH_6eRdlYQdA"
		treeNode		[796 0 0 0]
		labelString		"checkQueue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function available = checkQueue(event, evtQueue) %eml \n available = false; \n for i = 1:length(evtQueue) \n     if evtQueue(i) == event \n         available = true;    \n         return \n     end \n end"		
		}	
	}
	data {
		id				813
		name		    "event"
		tag				"id=_qR6E5PdmEeGH_6eRdlYQdA"
		linkNode		    [812 0 814]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				814
		name		    "evtQueue"
		tag				"id=_qR6r8PdmEeGH_6eRdlYQdA"
		linkNode		    [812 813 815]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				815
		name		    "available"
		tag				"id=_qR6r8fdmEeGH_6eRdlYQdA"
		linkNode		    [812 814 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				816
		chart			796
		tag				"id=_qR42wfdmEeGH_6eRdlYQdA"
		treeNode		[796 0 0 0]
		labelString		"dequeue"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [evtQueue, paramQueue, parameter] = dequeue(event, evtQueueIn, paramQueueIn) %eml \n evtQueue = evtQueueIn; \n paramQueue = paramQueueIn; \n parameter = 0; \n for i = 1:length(evtQueue) \n if evtQueue(i) == event \n parameter = paramQueue(i); \n for j = i:length(evtQueue)-1 \n  evtQueue(j) = evtQueue(j+1); \n paramQueue(j) = paramQueue(j+1); \n end \n evtQueue(length(evtQueue)) = 0; \n paramQueue(length(paramQueue)) = 0; \n return \n end \n end"		
		}	
	}
	data {
		id				817
		name		    "event"
		tag				"id=_qR6r8vdmEeGH_6eRdlYQdA"
		linkNode		    [816 0 818]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				818
		name		    "evtQueueIn"
		tag				"id=_qR7TAPdmEeGH_6eRdlYQdA"
		linkNode		    [816 817 819]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				819
		name		    "paramQueueIn"
		tag				"id=_qR7TAfdmEeGH_6eRdlYQdA"
		linkNode		    [816 818 820]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				820
		name		    "evtQueue"
		tag				"id=_qR7TAvdmEeGH_6eRdlYQdA"
		linkNode		    [816 819 821]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				821
		name		    "paramQueue"
		tag				"id=_qR7TA_dmEeGH_6eRdlYQdA"
		linkNode		    [816 820 822]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				822
		name		    "parameter"
		tag				"id=_qR7TBPdmEeGH_6eRdlYQdA"
		linkNode		    [816 821 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				823
		chart			796
		tag				"id=_qR42wvdmEeGH_6eRdlYQdA"
		treeNode		[796 0 0 0]
		labelString		"time"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function logicalTime = time(clock) \n sample = 0.01;  % the sample time of the system clock \n %convert to pass units of time after last reset \n logicalTime = uint32((clockSignal - clock)/sample);"		
		}	
	}
	data {
		id				824
		name		    "clock"
		tag				"id=_qR76EPdmEeGH_6eRdlYQdA"
		linkNode		    [823 0 825]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				825
		name		    "logicalTime"
		tag				"id=_qR76EfdmEeGH_6eRdlYQdA"
		linkNode		    [823 824 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	state {
		id				826
		chart			796
		tag				"id=_qR42w_dmEeGH_6eRdlYQdA"
		treeNode		[796 0 0 0]
		labelString		"reset"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function reset(clock) \n %set clock variable to current time \n clock = clockSignal;"		
		}	
	}
	data {
		id				827
		name		    "clock"
		tag				"id=_qR76EvdmEeGH_6eRdlYQdA"
		linkNode		    [826 0 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    FUNCTION_INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				798
		name		    "clockSignal"
		tag				"id=_qVYPoPdmEeGH_6eRdlYQdA"
		linkNode		    [796 0 828]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				828
		name		    "HMI_STRATEGYREQUEST.providerReadIn"
		tag				"id=_r0US0PdmEeGH_6eRdlYQdA"
		linkNode		    [796 798 829]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				829
		name		    "HMI_STRATEGYREQUEST.providerParamReadIn"
		tag				"id=_r0Vg8PdmEeGH_6eRdlYQdA"
		linkNode		    [796 828 830]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				830
		name		    "HMI_STRATEGYREQUEST.providerWriteIn"
		tag				"id=_r0XWIPdmEeGH_6eRdlYQdA"
		linkNode		    [796 829 831]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				831
		name		    "HMI_STRATEGYREQUEST.providerParamWriteIn"
		tag				"id=_r0XWIfdmEeGH_6eRdlYQdA"
		linkNode		    [796 830 832]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				832
		name		    "HMI_RESET.masterReadIn"
		tag				"id=_r-hXsPdmEeGH_6eRdlYQdA"
		linkNode		    [796 831 833]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				833
		name		    "HMI_RESET.masterParamReadIn"
		tag				"id=_r-h-wPdmEeGH_6eRdlYQdA"
		linkNode		    [796 832 834]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				834
		name		    "HMI_RESET.masterWriteIn"
		tag				"id=_r-jz8PdmEeGH_6eRdlYQdA"
		linkNode		    [796 833 835]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				835
		name		    "HMI_RESET.masterParamWriteIn"
		tag				"id=_r-kbAPdmEeGH_6eRdlYQdA"
		linkNode		    [796 834 836]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				836
		name		    "HMI_STRATEGY.masterReadIn"
		tag				"id=_sItOcPdmEeGH_6eRdlYQdA"
		linkNode		    [796 835 837]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				837
		name		    "HMI_STRATEGY.masterParamReadIn"
		tag				"id=_sIt1gPdmEeGH_6eRdlYQdA"
		linkNode		    [796 836 838]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				838
		name		    "HMI_STRATEGY.masterWriteIn"
		tag				"id=_sIvqsPdmEeGH_6eRdlYQdA"
		linkNode		    [796 837 839]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				839
		name		    "HMI_STRATEGY.masterParamWriteIn"
		tag				"id=_sIwRwPdmEeGH_6eRdlYQdA"
		linkNode		    [796 838 840]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				840
		name		    "STATUS.slaveReadIn"
		tag				"id=_sTF5gPdmEeGH_6eRdlYQdA"
		linkNode		    [796 839 841]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				841
		name		    "STATUS.slaveParamReadIn"
		tag				"id=_sTGgkPdmEeGH_6eRdlYQdA"
		linkNode		    [796 840 842]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				842
		name		    "STATUS.slaveWriteIn"
		tag				"id=_sTJj4PdmEeGH_6eRdlYQdA"
		linkNode		    [796 841 843]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				843
		name		    "STATUS.slaveParamWriteIn"
		tag				"id=_sTKK8PdmEeGH_6eRdlYQdA"
		linkNode		    [796 842 844]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				844
		name		    "HMI_END.masterReadIn"
		tag				"id=_sdQiIPdmEeGH_6eRdlYQdA"
		linkNode		    [796 843 845]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				845
		name		    "HMI_END.masterParamReadIn"
		tag				"id=_sdRJMPdmEeGH_6eRdlYQdA"
		linkNode		    [796 844 846]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				846
		name		    "HMI_END.masterWriteIn"
		tag				"id=_sdS-YPdmEeGH_6eRdlYQdA"
		linkNode		    [796 845 847]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				847
		name		    "HMI_END.masterParamWriteIn"
		tag				"id=_sdTlcPdmEeGH_6eRdlYQdA"
		linkNode		    [796 846 848]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				848
		name		    "HMI_STRATEGYREQUEST.providerReadOut"
		tag				"id=_r0WIAPdmEeGH_6eRdlYQdA"
		linkNode		    [796 847 849]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				849
		name		    "HMI_STRATEGYREQUEST.providerParamReadOut"
		tag				"id=_r0WvEPdmEeGH_6eRdlYQdA"
		linkNode		    [796 848 850]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				850
		name		    "HMI_STRATEGYREQUEST.providerWriteOut"
		tag				"id=_r0X9MPdmEeGH_6eRdlYQdA"
		linkNode		    [796 849 851]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				851
		name		    "HMI_STRATEGYREQUEST.providerParamWriteOut"
		tag				"id=_r0YkQPdmEeGH_6eRdlYQdA"
		linkNode		    [796 850 852]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				852
		name		    "HMI_RESET.masterReadOut"
		tag				"id=_r-il0PdmEeGH_6eRdlYQdA"
		linkNode		    [796 851 853]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				853
		name		    "HMI_RESET.masterParamReadOut"
		tag				"id=_r-jM4PdmEeGH_6eRdlYQdA"
		linkNode		    [796 852 854]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				854
		name		    "HMI_RESET.masterWriteOut"
		tag				"id=_r-kbAfdmEeGH_6eRdlYQdA"
		linkNode		    [796 853 855]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				855
		name		    "HMI_RESET.masterParamWriteOut"
		tag				"id=_r-lCEPdmEeGH_6eRdlYQdA"
		linkNode		    [796 854 856]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				856
		name		    "HMI_STRATEGY.masterReadOut"
		tag				"id=_sIuckPdmEeGH_6eRdlYQdA"
		linkNode		    [796 855 857]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				857
		name		    "HMI_STRATEGY.masterParamReadOut"
		tag				"id=_sIvDoPdmEeGH_6eRdlYQdA"
		linkNode		    [796 856 858]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				858
		name		    "HMI_STRATEGY.masterWriteOut"
		tag				"id=_sIw40PdmEeGH_6eRdlYQdA"
		linkNode		    [796 857 859]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				859
		name		    "HMI_STRATEGY.masterParamWriteOut"
		tag				"id=_sIxf4PdmEeGH_6eRdlYQdA"
		linkNode		    [796 858 860]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				860
		name		    "STATUS.slaveReadOut"
		tag				"id=_sTHusPdmEeGH_6eRdlYQdA"
		linkNode		    [796 859 861]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				861
		name		    "STATUS.slaveParamReadOut"
		tag				"id=_sTIVwPdmEeGH_6eRdlYQdA"
		linkNode		    [796 860 862]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				862
		name		    "STATUS.slaveWriteOut"
		tag				"id=_sTKyAPdmEeGH_6eRdlYQdA"
		linkNode		    [796 861 863]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				863
		name		    "STATUS.slaveParamWriteOut"
		tag				"id=_sTMAIPdmEeGH_6eRdlYQdA"
		linkNode		    [796 862 864]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				864
		name		    "HMI_END.masterReadOut"
		tag				"id=_sdRwQPdmEeGH_6eRdlYQdA"
		linkNode		    [796 863 865]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				865
		name		    "HMI_END.masterParamReadOut"
		tag				"id=_sdSXUPdmEeGH_6eRdlYQdA"
		linkNode		    [796 864 866]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				866
		name		    "HMI_END.masterWriteOut"
		tag				"id=_sdUMgPdmEeGH_6eRdlYQdA"
		linkNode		    [796 865 867]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				867
		name		    "HMI_END.masterParamWriteOut"
		tag				"id=_sdUzkPdmEeGH_6eRdlYQdA"
		linkNode		    [796 866 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			868
		name		"UserInterface/UserInterface_Statechart"
		machine		11
		chart		796
	}
	chart {
		id			869
		name		"UserInterface/Link Layer HMI_STRATEGYREQUEST.provider/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_QFQVUPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		16
		viewObj		869    
		decomposition	    CLUSTER_CHART
		firstData		870
		firstJunction	871
		firstTransition		872
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    871
    chart		    869
    tag				"id=_QFQVUfdnEeGH_6eRdlYQdA"
    linkNode		    [869 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				873
		chart			869
		tag				"id=_QFQVVPdnEeGH_6eRdlYQdA"
		treeNode		[869 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			872
    chart		869
    tag			"id=_QFQVUvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[869 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		871
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				870
		name		    "snd_from_in"
		tag				"id=_QFQVVfdnEeGH_6eRdlYQdA"
		linkNode		    [869 0 874]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				874
		name		    "snd_to_in"
		tag				"id=_QFQVVvdnEeGH_6eRdlYQdA"
		linkNode		    [869 870 875]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				875
		name		    "snd_msg_in"
		tag				"id=_QFQVV_dnEeGH_6eRdlYQdA"
		linkNode		    [869 874 876]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				876
		name		    "snd_param_in"
		tag				"id=_QFQVWPdnEeGH_6eRdlYQdA"
		linkNode		    [869 875 877]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				877
		name		    "recv_from_in"
		tag				"id=_QFQVWfdnEeGH_6eRdlYQdA"
		linkNode		    [869 876 878]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				878
		name		    "recv_to_in"
		tag				"id=_QFQVWvdnEeGH_6eRdlYQdA"
		linkNode		    [869 877 879]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				879
		name		    "recv_msg_in"
		tag				"id=_QFQVW_dnEeGH_6eRdlYQdA"
		linkNode		    [869 878 880]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				880
		name		    "recv_param_in"
		tag				"id=_QFQVXPdnEeGH_6eRdlYQdA"
		linkNode		    [869 879 881]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				881
		name		    "recv_pkgid_in"
		tag				"id=_QFQVXfdnEeGH_6eRdlYQdA"
		linkNode		    [869 880 882]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				882
		name		    "recv_time_in"
		tag				"id=_QFQVXvdnEeGH_6eRdlYQdA"
		linkNode		    [869 881 883]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				883
		name		    "currentTime"
		tag				"id=_QFQVX_dnEeGH_6eRdlYQdA"
		linkNode		    [869 882 884]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				884
		name		    "from"
		tag				"id=_QFQVYPdnEeGH_6eRdlYQdA"
		linkNode		    [869 883 885]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				885
		name		    "to"
		tag				"id=_QFQVYfdnEeGH_6eRdlYQdA"
		linkNode		    [869 884 886]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				886
		name		    "msg"
		tag				"id=_QFQVYvdnEeGH_6eRdlYQdA"
		linkNode		    [869 885 887]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				887
		name		    "param"
		tag				"id=_QFQVY_dnEeGH_6eRdlYQdA"
		linkNode		    [869 886 888]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				888
		name		    "pkgid"
		tag				"id=_QFQVZPdnEeGH_6eRdlYQdA"
		linkNode		    [869 887 889]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				889
		name		    "recv_from_out"
		tag				"id=_QFQVZfdnEeGH_6eRdlYQdA"
		linkNode		    [869 888 890]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				890
		name		    "recv_msg_out"
		tag				"id=_QFQVZvdnEeGH_6eRdlYQdA"
		linkNode		    [869 889 891]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				891
		name		    "recv_param_out"
		tag				"id=_QFQVZ_dnEeGH_6eRdlYQdA"
		linkNode		    [869 890 892]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				892
		name		    "time"
		tag				"id=_QFQVaPdnEeGH_6eRdlYQdA"
		linkNode		    [869 891 893]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				893
		name		    "queue_sending_ratio"
		tag				"id=_QFQVafdnEeGH_6eRdlYQdA"
		linkNode		    [869 892 894]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				894
		name		    "queue_received_ratio"
		tag				"id=_QFQVavdnEeGH_6eRdlYQdA"
		linkNode		    [869 893 895]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				895
		name		    "queue_ack_ratio"
		tag				"id=_QFQVa_dnEeGH_6eRdlYQdA"
		linkNode		    [869 894 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			896
		name		"UserInterface/Link Layer HMI_STRATEGYREQUEST.provider/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		869
	}
	chart {
		id			897
		name		"UserInterface/Link Layer HMI_STRATEGYREQUEST.provider/Receive Packet"
		tag			"id=_QfEjgPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		17
		viewObj		897    
		decomposition	    CLUSTER_CHART
		firstData		898
		firstJunction	899
		firstTransition		900
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    899
    chart		    897
    tag				"id=_QfEjgfdnEeGH_6eRdlYQdA"
    linkNode		    [897 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				901
		chart			897
		tag				"id=_QfEjhPdnEeGH_6eRdlYQdA"
		treeNode		[897 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			900
    chart		897
    tag			"id=_QfEjgvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[897 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		899
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				898
		name		    "packetFrom"
		tag				"id=_QfEjhfdnEeGH_6eRdlYQdA"
		linkNode		    [897 0 902]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				902
		name		    "packetMsg"
		tag				"id=_QfEjhvdnEeGH_6eRdlYQdA"
		linkNode		    [897 898 903]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				903
		name		    "packetParam"
		tag				"id=_QfEjh_dnEeGH_6eRdlYQdA"
		linkNode		    [897 902 904]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				904
		name		    "eventQueueIn"
		tag				"id=_QfEjiPdnEeGH_6eRdlYQdA"
		linkNode		    [897 903 905]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				905
		name		    "eventParamQueueIn"
		tag				"id=_QfEjifdnEeGH_6eRdlYQdA"
		linkNode		    [897 904 906]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				906
		name		    "eventQueue"
		tag				"id=_QfEjivdnEeGH_6eRdlYQdA"
		linkNode		    [897 905 907]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				907
		name		    "eventParamQueue"
		tag				"id=_QfEji_dnEeGH_6eRdlYQdA"
		linkNode		    [897 906 908]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				908
		name		    "bufferOverflow"
		tag				"id=_QfEjjPdnEeGH_6eRdlYQdA"
		linkNode		    [897 907 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			909
		name		"UserInterface/Link Layer HMI_STRATEGYREQUEST.provider/Receive Packet"
		machine		11
		chart		897
	}
	chart {
		id			910
		name		"UserInterface/Link Layer HMI_STRATEGYREQUEST.provider/Send Packet"
		tag			"id=_QlPc8PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		18
		viewObj		910    
		decomposition	    CLUSTER_CHART
		firstData		911
		firstJunction	912
		firstTransition		913
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    912
    chart		    910
    tag				"id=_QlPc8fdnEeGH_6eRdlYQdA"
    linkNode		    [910 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				914
		chart			910
		tag				"id=_QlPc9PdnEeGH_6eRdlYQdA"
		treeNode		[910 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			913
    chart		910
    tag			"id=_QlPc8vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[910 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		912
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				911
		name		    "busSizeSignal"
		tag				"id=_QlPc9fdnEeGH_6eRdlYQdA"
		linkNode		    [910 0 915]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				915
		name		    "eventQueueIn"
		tag				"id=_QlPc9vdnEeGH_6eRdlYQdA"
		linkNode		    [910 911 916]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				916
		name		    "eventParamQueueIn"
		tag				"id=_QlPc9_dnEeGH_6eRdlYQdA"
		linkNode		    [910 915 917]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				917
		name		    "packetMsg"
		tag				"id=_QlPc-PdnEeGH_6eRdlYQdA"
		linkNode		    [910 916 918]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				918
		name		    "packetParam"
		tag				"id=_QlPc-fdnEeGH_6eRdlYQdA"
		linkNode		    [910 917 919]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				919
		name		    "eventQueue"
		tag				"id=_QlPc-vdnEeGH_6eRdlYQdA"
		linkNode		    [910 918 920]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				920
		name		    "eventParamQueue"
		tag				"id=_QlPc-_dnEeGH_6eRdlYQdA"
		linkNode		    [910 919 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			921
		name		"UserInterface/Link Layer HMI_STRATEGYREQUEST.provider/Send Packet"
		machine		11
		chart		910
	}
	chart {
		id			922
		name		"UserInterface/Link Layer HMI_RESET.master/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_RHTBIPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		19
		viewObj		922    
		decomposition	    CLUSTER_CHART
		firstData		923
		firstJunction	924
		firstTransition		925
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    924
    chart		    922
    tag				"id=_RHTBIfdnEeGH_6eRdlYQdA"
    linkNode		    [922 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				926
		chart			922
		tag				"id=_RHTBJPdnEeGH_6eRdlYQdA"
		treeNode		[922 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			925
    chart		922
    tag			"id=_RHTBIvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[922 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		924
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				923
		name		    "snd_from_in"
		tag				"id=_RHTBJfdnEeGH_6eRdlYQdA"
		linkNode		    [922 0 927]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				927
		name		    "snd_to_in"
		tag				"id=_RHToMPdnEeGH_6eRdlYQdA"
		linkNode		    [922 923 928]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				928
		name		    "snd_msg_in"
		tag				"id=_RHToMfdnEeGH_6eRdlYQdA"
		linkNode		    [922 927 929]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				929
		name		    "snd_param_in"
		tag				"id=_RHToMvdnEeGH_6eRdlYQdA"
		linkNode		    [922 928 930]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				930
		name		    "recv_from_in"
		tag				"id=_RHToM_dnEeGH_6eRdlYQdA"
		linkNode		    [922 929 931]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				931
		name		    "recv_to_in"
		tag				"id=_RHToNPdnEeGH_6eRdlYQdA"
		linkNode		    [922 930 932]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				932
		name		    "recv_msg_in"
		tag				"id=_RHToNfdnEeGH_6eRdlYQdA"
		linkNode		    [922 931 933]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				933
		name		    "recv_param_in"
		tag				"id=_RHToNvdnEeGH_6eRdlYQdA"
		linkNode		    [922 932 934]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				934
		name		    "recv_pkgid_in"
		tag				"id=_RHToN_dnEeGH_6eRdlYQdA"
		linkNode		    [922 933 935]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				935
		name		    "recv_time_in"
		tag				"id=_RHToOPdnEeGH_6eRdlYQdA"
		linkNode		    [922 934 936]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				936
		name		    "currentTime"
		tag				"id=_RHToOfdnEeGH_6eRdlYQdA"
		linkNode		    [922 935 937]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				937
		name		    "from"
		tag				"id=_RHToOvdnEeGH_6eRdlYQdA"
		linkNode		    [922 936 938]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				938
		name		    "to"
		tag				"id=_RHToO_dnEeGH_6eRdlYQdA"
		linkNode		    [922 937 939]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				939
		name		    "msg"
		tag				"id=_RHToPPdnEeGH_6eRdlYQdA"
		linkNode		    [922 938 940]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				940
		name		    "param"
		tag				"id=_RHToPfdnEeGH_6eRdlYQdA"
		linkNode		    [922 939 941]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				941
		name		    "pkgid"
		tag				"id=_RHToPvdnEeGH_6eRdlYQdA"
		linkNode		    [922 940 942]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				942
		name		    "recv_from_out"
		tag				"id=_RHToP_dnEeGH_6eRdlYQdA"
		linkNode		    [922 941 943]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				943
		name		    "recv_msg_out"
		tag				"id=_RHToQPdnEeGH_6eRdlYQdA"
		linkNode		    [922 942 944]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				944
		name		    "recv_param_out"
		tag				"id=_RHToQfdnEeGH_6eRdlYQdA"
		linkNode		    [922 943 945]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				945
		name		    "time"
		tag				"id=_RHToQvdnEeGH_6eRdlYQdA"
		linkNode		    [922 944 946]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				946
		name		    "queue_sending_ratio"
		tag				"id=_RHToQ_dnEeGH_6eRdlYQdA"
		linkNode		    [922 945 947]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				947
		name		    "queue_received_ratio"
		tag				"id=_RHToRPdnEeGH_6eRdlYQdA"
		linkNode		    [922 946 948]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				948
		name		    "queue_ack_ratio"
		tag				"id=_RHToRfdnEeGH_6eRdlYQdA"
		linkNode		    [922 947 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			949
		name		"UserInterface/Link Layer HMI_RESET.master/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		922
	}
	chart {
		id			950
		name		"UserInterface/Link Layer HMI_RESET.master/Receive Packet"
		tag			"id=_Rcq0MPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		20
		viewObj		950    
		decomposition	    CLUSTER_CHART
		firstData		951
		firstJunction	952
		firstTransition		953
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    952
    chart		    950
    tag				"id=_Rcq0MfdnEeGH_6eRdlYQdA"
    linkNode		    [950 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				954
		chart			950
		tag				"id=_Rcq0NPdnEeGH_6eRdlYQdA"
		treeNode		[950 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			953
    chart		950
    tag			"id=_Rcq0MvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[950 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		952
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				951
		name		    "packetFrom"
		tag				"id=_Rcq0NfdnEeGH_6eRdlYQdA"
		linkNode		    [950 0 955]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				955
		name		    "packetMsg"
		tag				"id=_Rcq0NvdnEeGH_6eRdlYQdA"
		linkNode		    [950 951 956]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				956
		name		    "packetParam"
		tag				"id=_Rcq0N_dnEeGH_6eRdlYQdA"
		linkNode		    [950 955 957]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				957
		name		    "eventQueueIn"
		tag				"id=_Rcq0OPdnEeGH_6eRdlYQdA"
		linkNode		    [950 956 958]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				958
		name		    "eventParamQueueIn"
		tag				"id=_Rcq0OfdnEeGH_6eRdlYQdA"
		linkNode		    [950 957 959]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				959
		name		    "eventQueue"
		tag				"id=_Rcq0OvdnEeGH_6eRdlYQdA"
		linkNode		    [950 958 960]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				960
		name		    "eventParamQueue"
		tag				"id=_Rcq0O_dnEeGH_6eRdlYQdA"
		linkNode		    [950 959 961]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				961
		name		    "bufferOverflow"
		tag				"id=_Rcq0PPdnEeGH_6eRdlYQdA"
		linkNode		    [950 960 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			962
		name		"UserInterface/Link Layer HMI_RESET.master/Receive Packet"
		machine		11
		chart		950
	}
	chart {
		id			963
		name		"UserInterface/Link Layer HMI_RESET.master/Send Packet"
		tag			"id=_RiB1UPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		21
		viewObj		963    
		decomposition	    CLUSTER_CHART
		firstData		964
		firstJunction	965
		firstTransition		966
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    965
    chart		    963
    tag				"id=_RiB1UfdnEeGH_6eRdlYQdA"
    linkNode		    [963 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				967
		chart			963
		tag				"id=_RiB1VPdnEeGH_6eRdlYQdA"
		treeNode		[963 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			966
    chart		963
    tag			"id=_RiB1UvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[963 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		965
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				964
		name		    "busSizeSignal"
		tag				"id=_RiB1VfdnEeGH_6eRdlYQdA"
		linkNode		    [963 0 968]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				968
		name		    "eventQueueIn"
		tag				"id=_RiB1VvdnEeGH_6eRdlYQdA"
		linkNode		    [963 964 969]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				969
		name		    "eventParamQueueIn"
		tag				"id=_RiB1V_dnEeGH_6eRdlYQdA"
		linkNode		    [963 968 970]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				970
		name		    "packetMsg"
		tag				"id=_RiB1WPdnEeGH_6eRdlYQdA"
		linkNode		    [963 969 971]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				971
		name		    "packetParam"
		tag				"id=_RiB1WfdnEeGH_6eRdlYQdA"
		linkNode		    [963 970 972]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				972
		name		    "eventQueue"
		tag				"id=_RiB1WvdnEeGH_6eRdlYQdA"
		linkNode		    [963 971 973]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				973
		name		    "eventParamQueue"
		tag				"id=_RiB1W_dnEeGH_6eRdlYQdA"
		linkNode		    [963 972 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			974
		name		"UserInterface/Link Layer HMI_RESET.master/Send Packet"
		machine		11
		chart		963
	}
	chart {
		id			975
		name		"UserInterface/Link Layer HMI_STRATEGY.master/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_SCKt8PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		22
		viewObj		975    
		decomposition	    CLUSTER_CHART
		firstData		976
		firstJunction	977
		firstTransition		978
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    977
    chart		    975
    tag				"id=_SCKt8fdnEeGH_6eRdlYQdA"
    linkNode		    [975 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				979
		chart			975
		tag				"id=_SCKt9PdnEeGH_6eRdlYQdA"
		treeNode		[975 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			978
    chart		975
    tag			"id=_SCKt8vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[975 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		977
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				976
		name		    "snd_from_in"
		tag				"id=_SCKt9fdnEeGH_6eRdlYQdA"
		linkNode		    [975 0 980]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				980
		name		    "snd_to_in"
		tag				"id=_SCKt9vdnEeGH_6eRdlYQdA"
		linkNode		    [975 976 981]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				981
		name		    "snd_msg_in"
		tag				"id=_SCKt9_dnEeGH_6eRdlYQdA"
		linkNode		    [975 980 982]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				982
		name		    "snd_param_in"
		tag				"id=_SCKt-PdnEeGH_6eRdlYQdA"
		linkNode		    [975 981 983]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				983
		name		    "recv_from_in"
		tag				"id=_SCKt-fdnEeGH_6eRdlYQdA"
		linkNode		    [975 982 984]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				984
		name		    "recv_to_in"
		tag				"id=_SCKt-vdnEeGH_6eRdlYQdA"
		linkNode		    [975 983 985]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				985
		name		    "recv_msg_in"
		tag				"id=_SCKt-_dnEeGH_6eRdlYQdA"
		linkNode		    [975 984 986]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				986
		name		    "recv_param_in"
		tag				"id=_SCKt_PdnEeGH_6eRdlYQdA"
		linkNode		    [975 985 987]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				987
		name		    "recv_pkgid_in"
		tag				"id=_SCKt_fdnEeGH_6eRdlYQdA"
		linkNode		    [975 986 988]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				988
		name		    "recv_time_in"
		tag				"id=_SCKt_vdnEeGH_6eRdlYQdA"
		linkNode		    [975 987 989]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				989
		name		    "currentTime"
		tag				"id=_SCKt__dnEeGH_6eRdlYQdA"
		linkNode		    [975 988 990]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				990
		name		    "from"
		tag				"id=_SCKuAPdnEeGH_6eRdlYQdA"
		linkNode		    [975 989 991]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				991
		name		    "to"
		tag				"id=_SCKuAfdnEeGH_6eRdlYQdA"
		linkNode		    [975 990 992]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				992
		name		    "msg"
		tag				"id=_SCKuAvdnEeGH_6eRdlYQdA"
		linkNode		    [975 991 993]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				993
		name		    "param"
		tag				"id=_SCKuA_dnEeGH_6eRdlYQdA"
		linkNode		    [975 992 994]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				994
		name		    "pkgid"
		tag				"id=_SCKuBPdnEeGH_6eRdlYQdA"
		linkNode		    [975 993 995]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				995
		name		    "recv_from_out"
		tag				"id=_SCKuBfdnEeGH_6eRdlYQdA"
		linkNode		    [975 994 996]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				996
		name		    "recv_msg_out"
		tag				"id=_SCKuBvdnEeGH_6eRdlYQdA"
		linkNode		    [975 995 997]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				997
		name		    "recv_param_out"
		tag				"id=_SCKuB_dnEeGH_6eRdlYQdA"
		linkNode		    [975 996 998]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				998
		name		    "time"
		tag				"id=_SCKuCPdnEeGH_6eRdlYQdA"
		linkNode		    [975 997 999]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				999
		name		    "queue_sending_ratio"
		tag				"id=_SCKuCfdnEeGH_6eRdlYQdA"
		linkNode		    [975 998 1000]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1000
		name		    "queue_received_ratio"
		tag				"id=_SCKuCvdnEeGH_6eRdlYQdA"
		linkNode		    [975 999 1001]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1001
		name		    "queue_ack_ratio"
		tag				"id=_SCKuC_dnEeGH_6eRdlYQdA"
		linkNode		    [975 1000 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1002
		name		"UserInterface/Link Layer HMI_STRATEGY.master/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		975
	}
	chart {
		id			1003
		name		"UserInterface/Link Layer HMI_STRATEGY.master/Receive Packet"
		tag			"id=_SXgr0PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		23
		viewObj		1003    
		decomposition	    CLUSTER_CHART
		firstData		1004
		firstJunction	1005
		firstTransition		1006
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1005
    chart		    1003
    tag				"id=_SXgr0fdnEeGH_6eRdlYQdA"
    linkNode		    [1003 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1007
		chart			1003
		tag				"id=_SXgr1PdnEeGH_6eRdlYQdA"
		treeNode		[1003 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1006
    chart		1003
    tag			"id=_SXgr0vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1003 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1005
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1004
		name		    "packetFrom"
		tag				"id=_SXgr1fdnEeGH_6eRdlYQdA"
		linkNode		    [1003 0 1008]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1008
		name		    "packetMsg"
		tag				"id=_SXgr1vdnEeGH_6eRdlYQdA"
		linkNode		    [1003 1004 1009]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1009
		name		    "packetParam"
		tag				"id=_SXgr1_dnEeGH_6eRdlYQdA"
		linkNode		    [1003 1008 1010]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1010
		name		    "eventQueueIn"
		tag				"id=_SXhS4PdnEeGH_6eRdlYQdA"
		linkNode		    [1003 1009 1011]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1011
		name		    "eventParamQueueIn"
		tag				"id=_SXhS4fdnEeGH_6eRdlYQdA"
		linkNode		    [1003 1010 1012]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1012
		name		    "eventQueue"
		tag				"id=_SXhS4vdnEeGH_6eRdlYQdA"
		linkNode		    [1003 1011 1013]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1013
		name		    "eventParamQueue"
		tag				"id=_SXhS4_dnEeGH_6eRdlYQdA"
		linkNode		    [1003 1012 1014]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1014
		name		    "bufferOverflow"
		tag				"id=_SXhS5PdnEeGH_6eRdlYQdA"
		linkNode		    [1003 1013 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1015
		name		"UserInterface/Link Layer HMI_STRATEGY.master/Receive Packet"
		machine		11
		chart		1003
	}
	chart {
		id			1016
		name		"UserInterface/Link Layer HMI_STRATEGY.master/Send Packet"
		tag			"id=_SdGWcPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		24
		viewObj		1016    
		decomposition	    CLUSTER_CHART
		firstData		1017
		firstJunction	1018
		firstTransition		1019
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1018
    chart		    1016
    tag				"id=_SdGWcfdnEeGH_6eRdlYQdA"
    linkNode		    [1016 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1020
		chart			1016
		tag				"id=_SdGWdPdnEeGH_6eRdlYQdA"
		treeNode		[1016 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1019
    chart		1016
    tag			"id=_SdGWcvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1016 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1018
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1017
		name		    "busSizeSignal"
		tag				"id=_SdGWdfdnEeGH_6eRdlYQdA"
		linkNode		    [1016 0 1021]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1021
		name		    "eventQueueIn"
		tag				"id=_SdGWdvdnEeGH_6eRdlYQdA"
		linkNode		    [1016 1017 1022]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1022
		name		    "eventParamQueueIn"
		tag				"id=_SdGWd_dnEeGH_6eRdlYQdA"
		linkNode		    [1016 1021 1023]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1023
		name		    "packetMsg"
		tag				"id=_SdGWePdnEeGH_6eRdlYQdA"
		linkNode		    [1016 1022 1024]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1024
		name		    "packetParam"
		tag				"id=_SdGWefdnEeGH_6eRdlYQdA"
		linkNode		    [1016 1023 1025]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1025
		name		    "eventQueue"
		tag				"id=_SdGWevdnEeGH_6eRdlYQdA"
		linkNode		    [1016 1024 1026]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1026
		name		    "eventParamQueue"
		tag				"id=_SdGWe_dnEeGH_6eRdlYQdA"
		linkNode		    [1016 1025 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1027
		name		"UserInterface/Link Layer HMI_STRATEGY.master/Send Packet"
		machine		11
		chart		1016
	}
	chart {
		id			1028
		name		"UserInterface/Link Layer STATUS.slave/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_S-9tYPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		25
		viewObj		1028    
		decomposition	    CLUSTER_CHART
		firstData		1029
		firstJunction	1030
		firstTransition		1031
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1030
    chart		    1028
    tag				"id=_S-9tYfdnEeGH_6eRdlYQdA"
    linkNode		    [1028 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1032
		chart			1028
		tag				"id=_S-9tZPdnEeGH_6eRdlYQdA"
		treeNode		[1028 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1031
    chart		1028
    tag			"id=_S-9tYvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1028 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1030
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1029
		name		    "snd_from_in"
		tag				"id=_S-9tZfdnEeGH_6eRdlYQdA"
		linkNode		    [1028 0 1033]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1033
		name		    "snd_to_in"
		tag				"id=_S-9tZvdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1029 1034]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1034
		name		    "snd_msg_in"
		tag				"id=_S-9tZ_dnEeGH_6eRdlYQdA"
		linkNode		    [1028 1033 1035]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1035
		name		    "snd_param_in"
		tag				"id=_S-9taPdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1034 1036]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1036
		name		    "recv_from_in"
		tag				"id=_S-9tafdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1035 1037]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1037
		name		    "recv_to_in"
		tag				"id=_S-9tavdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1036 1038]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1038
		name		    "recv_msg_in"
		tag				"id=_S-9ta_dnEeGH_6eRdlYQdA"
		linkNode		    [1028 1037 1039]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1039
		name		    "recv_param_in"
		tag				"id=_S-9tbPdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1038 1040]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1040
		name		    "recv_pkgid_in"
		tag				"id=_S-9tbfdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1039 1041]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1041
		name		    "recv_time_in"
		tag				"id=_S-9tbvdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1040 1042]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1042
		name		    "currentTime"
		tag				"id=_S-9tb_dnEeGH_6eRdlYQdA"
		linkNode		    [1028 1041 1043]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1043
		name		    "from"
		tag				"id=_S-9tcPdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1042 1044]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1044
		name		    "to"
		tag				"id=_S-9tcfdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1043 1045]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1045
		name		    "msg"
		tag				"id=_S-9tcvdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1044 1046]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1046
		name		    "param"
		tag				"id=_S-9tc_dnEeGH_6eRdlYQdA"
		linkNode		    [1028 1045 1047]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1047
		name		    "pkgid"
		tag				"id=_S-9tdPdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1046 1048]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1048
		name		    "recv_from_out"
		tag				"id=_S-9tdfdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1047 1049]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1049
		name		    "recv_msg_out"
		tag				"id=_S-9tdvdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1048 1050]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1050
		name		    "recv_param_out"
		tag				"id=_S-9td_dnEeGH_6eRdlYQdA"
		linkNode		    [1028 1049 1051]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1051
		name		    "time"
		tag				"id=_S-9tePdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1050 1052]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1052
		name		    "queue_sending_ratio"
		tag				"id=_S-9tefdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1051 1053]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1053
		name		    "queue_received_ratio"
		tag				"id=_S-9tevdnEeGH_6eRdlYQdA"
		linkNode		    [1028 1052 1054]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1054
		name		    "queue_ack_ratio"
		tag				"id=_S-9te_dnEeGH_6eRdlYQdA"
		linkNode		    [1028 1053 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1055
		name		"UserInterface/Link Layer STATUS.slave/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1028
	}
	chart {
		id			1056
		name		"UserInterface/Link Layer STATUS.slave/Receive Packet"
		tag			"id=_TTWB8PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		26
		viewObj		1056    
		decomposition	    CLUSTER_CHART
		firstData		1057
		firstJunction	1058
		firstTransition		1059
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1058
    chart		    1056
    tag				"id=_TTWB8fdnEeGH_6eRdlYQdA"
    linkNode		    [1056 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1060
		chart			1056
		tag				"id=_TTWB9PdnEeGH_6eRdlYQdA"
		treeNode		[1056 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1059
    chart		1056
    tag			"id=_TTWB8vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1056 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1058
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1057
		name		    "packetFrom"
		tag				"id=_TTWB9fdnEeGH_6eRdlYQdA"
		linkNode		    [1056 0 1061]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1061
		name		    "packetMsg"
		tag				"id=_TTWB9vdnEeGH_6eRdlYQdA"
		linkNode		    [1056 1057 1062]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1062
		name		    "packetParam"
		tag				"id=_TTWB9_dnEeGH_6eRdlYQdA"
		linkNode		    [1056 1061 1063]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1063
		name		    "eventQueueIn"
		tag				"id=_TTWB-PdnEeGH_6eRdlYQdA"
		linkNode		    [1056 1062 1064]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1064
		name		    "eventParamQueueIn"
		tag				"id=_TTWB-fdnEeGH_6eRdlYQdA"
		linkNode		    [1056 1063 1065]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1065
		name		    "eventQueue"
		tag				"id=_TTWB-vdnEeGH_6eRdlYQdA"
		linkNode		    [1056 1064 1066]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1066
		name		    "eventParamQueue"
		tag				"id=_TTWB-_dnEeGH_6eRdlYQdA"
		linkNode		    [1056 1065 1067]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1067
		name		    "bufferOverflow"
		tag				"id=_TTWB_PdnEeGH_6eRdlYQdA"
		linkNode		    [1056 1066 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1068
		name		"UserInterface/Link Layer STATUS.slave/Receive Packet"
		machine		11
		chart		1056
	}
	chart {
		id			1069
		name		"UserInterface/Link Layer STATUS.slave/Send Packet"
		tag			"id=_TYyioPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		27
		viewObj		1069    
		decomposition	    CLUSTER_CHART
		firstData		1070
		firstJunction	1071
		firstTransition		1072
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1071
    chart		    1069
    tag				"id=_TYyiofdnEeGH_6eRdlYQdA"
    linkNode		    [1069 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1073
		chart			1069
		tag				"id=_TYyipPdnEeGH_6eRdlYQdA"
		treeNode		[1069 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1072
    chart		1069
    tag			"id=_TYyiovdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1069 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1071
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1070
		name		    "busSizeSignal"
		tag				"id=_TYyipfdnEeGH_6eRdlYQdA"
		linkNode		    [1069 0 1074]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1074
		name		    "eventQueueIn"
		tag				"id=_TYyipvdnEeGH_6eRdlYQdA"
		linkNode		    [1069 1070 1075]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1075
		name		    "eventParamQueueIn"
		tag				"id=_TYyip_dnEeGH_6eRdlYQdA"
		linkNode		    [1069 1074 1076]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1076
		name		    "packetMsg"
		tag				"id=_TYyiqPdnEeGH_6eRdlYQdA"
		linkNode		    [1069 1075 1077]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1077
		name		    "packetParam"
		tag				"id=_TYyiqfdnEeGH_6eRdlYQdA"
		linkNode		    [1069 1076 1078]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1078
		name		    "eventQueue"
		tag				"id=_TYyiqvdnEeGH_6eRdlYQdA"
		linkNode		    [1069 1077 1079]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1079
		name		    "eventParamQueue"
		tag				"id=_TYyiq_dnEeGH_6eRdlYQdA"
		linkNode		    [1069 1078 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1080
		name		"UserInterface/Link Layer STATUS.slave/Send Packet"
		machine		11
		chart		1069
	}
	chart {
		id			1081
		name		"UserInterface/Link Layer HMI_END.master/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_T6eTYPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		28
		viewObj		1081    
		decomposition	    CLUSTER_CHART
		firstData		1082
		firstJunction	1083
		firstTransition		1084
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1083
    chart		    1081
    tag				"id=_T6eTYfdnEeGH_6eRdlYQdA"
    linkNode		    [1081 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1085
		chart			1081
		tag				"id=_T6eTZPdnEeGH_6eRdlYQdA"
		treeNode		[1081 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1084
    chart		1081
    tag			"id=_T6eTYvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1081 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1083
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1082
		name		    "snd_from_in"
		tag				"id=_T6eTZfdnEeGH_6eRdlYQdA"
		linkNode		    [1081 0 1086]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1086
		name		    "snd_to_in"
		tag				"id=_T6eTZvdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1082 1087]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1087
		name		    "snd_msg_in"
		tag				"id=_T6eTZ_dnEeGH_6eRdlYQdA"
		linkNode		    [1081 1086 1088]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1088
		name		    "snd_param_in"
		tag				"id=_T6eTaPdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1087 1089]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1089
		name		    "recv_from_in"
		tag				"id=_T6eTafdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1088 1090]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1090
		name		    "recv_to_in"
		tag				"id=_T6eTavdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1089 1091]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1091
		name		    "recv_msg_in"
		tag				"id=_T6eTa_dnEeGH_6eRdlYQdA"
		linkNode		    [1081 1090 1092]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1092
		name		    "recv_param_in"
		tag				"id=_T6eTbPdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1091 1093]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1093
		name		    "recv_pkgid_in"
		tag				"id=_T6eTbfdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1092 1094]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1094
		name		    "recv_time_in"
		tag				"id=_T6eTbvdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1093 1095]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1095
		name		    "currentTime"
		tag				"id=_T6eTb_dnEeGH_6eRdlYQdA"
		linkNode		    [1081 1094 1096]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1096
		name		    "from"
		tag				"id=_T6eTcPdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1095 1097]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1097
		name		    "to"
		tag				"id=_T6eTcfdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1096 1098]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1098
		name		    "msg"
		tag				"id=_T6eTcvdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1097 1099]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1099
		name		    "param"
		tag				"id=_T6eTc_dnEeGH_6eRdlYQdA"
		linkNode		    [1081 1098 1100]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1100
		name		    "pkgid"
		tag				"id=_T6eTdPdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1099 1101]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1101
		name		    "recv_from_out"
		tag				"id=_T6eTdfdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1100 1102]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1102
		name		    "recv_msg_out"
		tag				"id=_T6eTdvdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1101 1103]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1103
		name		    "recv_param_out"
		tag				"id=_T6eTd_dnEeGH_6eRdlYQdA"
		linkNode		    [1081 1102 1104]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1104
		name		    "time"
		tag				"id=_T6eTePdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1103 1105]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1105
		name		    "queue_sending_ratio"
		tag				"id=_T6eTefdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1104 1106]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1106
		name		    "queue_received_ratio"
		tag				"id=_T6eTevdnEeGH_6eRdlYQdA"
		linkNode		    [1081 1105 1107]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1107
		name		    "queue_ack_ratio"
		tag				"id=_T6eTe_dnEeGH_6eRdlYQdA"
		linkNode		    [1081 1106 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1108
		name		"UserInterface/Link Layer HMI_END.master/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1081
	}
	chart {
		id			1109
		name		"UserInterface/Link Layer HMI_END.master/Receive Packet"
		tag			"id=_UQ0W0PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		29
		viewObj		1109    
		decomposition	    CLUSTER_CHART
		firstData		1110
		firstJunction	1111
		firstTransition		1112
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1111
    chart		    1109
    tag				"id=_UQ0W0fdnEeGH_6eRdlYQdA"
    linkNode		    [1109 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1113
		chart			1109
		tag				"id=_UQ0W1PdnEeGH_6eRdlYQdA"
		treeNode		[1109 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1112
    chart		1109
    tag			"id=_UQ0W0vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1109 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1111
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1110
		name		    "packetFrom"
		tag				"id=_UQ0W1fdnEeGH_6eRdlYQdA"
		linkNode		    [1109 0 1114]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1114
		name		    "packetMsg"
		tag				"id=_UQ0W1vdnEeGH_6eRdlYQdA"
		linkNode		    [1109 1110 1115]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1115
		name		    "packetParam"
		tag				"id=_UQ0W1_dnEeGH_6eRdlYQdA"
		linkNode		    [1109 1114 1116]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1116
		name		    "eventQueueIn"
		tag				"id=_UQ0W2PdnEeGH_6eRdlYQdA"
		linkNode		    [1109 1115 1117]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1117
		name		    "eventParamQueueIn"
		tag				"id=_UQ0W2fdnEeGH_6eRdlYQdA"
		linkNode		    [1109 1116 1118]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1118
		name		    "eventQueue"
		tag				"id=_UQ0W2vdnEeGH_6eRdlYQdA"
		linkNode		    [1109 1117 1119]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1119
		name		    "eventParamQueue"
		tag				"id=_UQ0W2_dnEeGH_6eRdlYQdA"
		linkNode		    [1109 1118 1120]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1120
		name		    "bufferOverflow"
		tag				"id=_UQ0W3PdnEeGH_6eRdlYQdA"
		linkNode		    [1109 1119 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1121
		name		"UserInterface/Link Layer HMI_END.master/Receive Packet"
		machine		11
		chart		1109
	}
	chart {
		id			1122
		name		"UserInterface/Link Layer HMI_END.master/Send Packet"
		tag			"id=_UW6-0PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		30
		viewObj		1122    
		decomposition	    CLUSTER_CHART
		firstData		1123
		firstJunction	1124
		firstTransition		1125
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1124
    chart		    1122
    tag				"id=_UW6-0fdnEeGH_6eRdlYQdA"
    linkNode		    [1122 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1126
		chart			1122
		tag				"id=_UW6-1PdnEeGH_6eRdlYQdA"
		treeNode		[1122 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1125
    chart		1122
    tag			"id=_UW6-0vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1122 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1124
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1123
		name		    "busSizeSignal"
		tag				"id=_UW6-1fdnEeGH_6eRdlYQdA"
		linkNode		    [1122 0 1127]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1127
		name		    "eventQueueIn"
		tag				"id=_UW6-1vdnEeGH_6eRdlYQdA"
		linkNode		    [1122 1123 1128]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1128
		name		    "eventParamQueueIn"
		tag				"id=_UW6-1_dnEeGH_6eRdlYQdA"
		linkNode		    [1122 1127 1129]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1129
		name		    "packetMsg"
		tag				"id=_UW6-2PdnEeGH_6eRdlYQdA"
		linkNode		    [1122 1128 1130]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1130
		name		    "packetParam"
		tag				"id=_UW6-2fdnEeGH_6eRdlYQdA"
		linkNode		    [1122 1129 1131]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1131
		name		    "eventQueue"
		tag				"id=_UW6-2vdnEeGH_6eRdlYQdA"
		linkNode		    [1122 1130 1132]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1132
		name		    "eventParamQueue"
		tag				"id=_UW6-2_dnEeGH_6eRdlYQdA"
		linkNode		    [1122 1131 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1133
		name		"UserInterface/Link Layer HMI_END.master/Send Packet"
		machine		11
		chart		1122
	}
	chart {
		id			1134
		name		"TestDelegationSlave/Link Layer delegation_slave/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_VZVeEPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		31
		viewObj		1134    
		decomposition	    CLUSTER_CHART
		firstData		1135
		firstJunction	1136
		firstTransition		1137
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1136
    chart		    1134
    tag				"id=_VZVeEfdnEeGH_6eRdlYQdA"
    linkNode		    [1134 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1138
		chart			1134
		tag				"id=_VZVeFPdnEeGH_6eRdlYQdA"
		treeNode		[1134 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1137
    chart		1134
    tag			"id=_VZVeEvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1134 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1136
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1135
		name		    "snd_from_in"
		tag				"id=_VZWFIPdnEeGH_6eRdlYQdA"
		linkNode		    [1134 0 1139]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1139
		name		    "snd_to_in"
		tag				"id=_VZWFIfdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1135 1140]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1140
		name		    "snd_msg_in"
		tag				"id=_VZWFIvdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1139 1141]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1141
		name		    "snd_param_in"
		tag				"id=_VZWFI_dnEeGH_6eRdlYQdA"
		linkNode		    [1134 1140 1142]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1142
		name		    "recv_from_in"
		tag				"id=_VZWFJPdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1141 1143]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1143
		name		    "recv_to_in"
		tag				"id=_VZWFJfdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1142 1144]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1144
		name		    "recv_msg_in"
		tag				"id=_VZWFJvdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1143 1145]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1145
		name		    "recv_param_in"
		tag				"id=_VZWFJ_dnEeGH_6eRdlYQdA"
		linkNode		    [1134 1144 1146]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1146
		name		    "recv_pkgid_in"
		tag				"id=_VZWFKPdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1145 1147]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1147
		name		    "recv_time_in"
		tag				"id=_VZWFKfdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1146 1148]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1148
		name		    "currentTime"
		tag				"id=_VZWFKvdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1147 1149]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1149
		name		    "from"
		tag				"id=_VZWFK_dnEeGH_6eRdlYQdA"
		linkNode		    [1134 1148 1150]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1150
		name		    "to"
		tag				"id=_VZWFLPdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1149 1151]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1151
		name		    "msg"
		tag				"id=_VZWFLfdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1150 1152]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1152
		name		    "param"
		tag				"id=_VZWFLvdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1151 1153]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1153
		name		    "pkgid"
		tag				"id=_VZWFL_dnEeGH_6eRdlYQdA"
		linkNode		    [1134 1152 1154]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1154
		name		    "recv_from_out"
		tag				"id=_VZWFMPdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1153 1155]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1155
		name		    "recv_msg_out"
		tag				"id=_VZWFMfdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1154 1156]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1156
		name		    "recv_param_out"
		tag				"id=_VZWFMvdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1155 1157]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1157
		name		    "time"
		tag				"id=_VZWFM_dnEeGH_6eRdlYQdA"
		linkNode		    [1134 1156 1158]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1158
		name		    "queue_sending_ratio"
		tag				"id=_VZWFNPdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1157 1159]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1159
		name		    "queue_received_ratio"
		tag				"id=_VZWFNfdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1158 1160]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1160
		name		    "queue_ack_ratio"
		tag				"id=_VZWFNvdnEeGH_6eRdlYQdA"
		linkNode		    [1134 1159 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1161
		name		"TestDelegationSlave/Link Layer delegation_slave/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1134
	}
	chart {
		id			1162
		name		"TestDelegationSlave/Link Layer delegation_slave/Receive Packet"
		tag			"id=_Vugc0PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		32
		viewObj		1162    
		decomposition	    CLUSTER_CHART
		firstData		1163
		firstJunction	1164
		firstTransition		1165
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1164
    chart		    1162
    tag				"id=_Vugc0fdnEeGH_6eRdlYQdA"
    linkNode		    [1162 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1166
		chart			1162
		tag				"id=_Vugc1PdnEeGH_6eRdlYQdA"
		treeNode		[1162 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1165
    chart		1162
    tag			"id=_Vugc0vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1162 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1164
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1163
		name		    "packetFrom"
		tag				"id=_Vugc1fdnEeGH_6eRdlYQdA"
		linkNode		    [1162 0 1167]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1167
		name		    "packetMsg"
		tag				"id=_Vugc1vdnEeGH_6eRdlYQdA"
		linkNode		    [1162 1163 1168]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1168
		name		    "packetParam"
		tag				"id=_Vugc1_dnEeGH_6eRdlYQdA"
		linkNode		    [1162 1167 1169]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1169
		name		    "eventQueueIn"
		tag				"id=_Vugc2PdnEeGH_6eRdlYQdA"
		linkNode		    [1162 1168 1170]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1170
		name		    "eventParamQueueIn"
		tag				"id=_Vugc2fdnEeGH_6eRdlYQdA"
		linkNode		    [1162 1169 1171]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1171
		name		    "eventQueue"
		tag				"id=_Vugc2vdnEeGH_6eRdlYQdA"
		linkNode		    [1162 1170 1172]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1172
		name		    "eventParamQueue"
		tag				"id=_Vugc2_dnEeGH_6eRdlYQdA"
		linkNode		    [1162 1171 1173]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1173
		name		    "bufferOverflow"
		tag				"id=_Vugc3PdnEeGH_6eRdlYQdA"
		linkNode		    [1162 1172 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1174
		name		"TestDelegationSlave/Link Layer delegation_slave/Receive Packet"
		machine		11
		chart		1162
	}
	chart {
		id			1175
		name		"TestDelegationSlave/Link Layer delegation_slave/Send Packet"
		tag			"id=_Vz89gPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		33
		viewObj		1175    
		decomposition	    CLUSTER_CHART
		firstData		1176
		firstJunction	1177
		firstTransition		1178
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1177
    chart		    1175
    tag				"id=_Vz89gfdnEeGH_6eRdlYQdA"
    linkNode		    [1175 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1179
		chart			1175
		tag				"id=_Vz9kkfdnEeGH_6eRdlYQdA"
		treeNode		[1175 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1178
    chart		1175
    tag			"id=_Vz89gvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1175 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1177
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1176
		name		    "busSizeSignal"
		tag				"id=_Vz9kkvdnEeGH_6eRdlYQdA"
		linkNode		    [1175 0 1180]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1180
		name		    "eventQueueIn"
		tag				"id=_Vz9kk_dnEeGH_6eRdlYQdA"
		linkNode		    [1175 1176 1181]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1181
		name		    "eventParamQueueIn"
		tag				"id=_Vz9klPdnEeGH_6eRdlYQdA"
		linkNode		    [1175 1180 1182]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1182
		name		    "packetMsg"
		tag				"id=_Vz9klfdnEeGH_6eRdlYQdA"
		linkNode		    [1175 1181 1183]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1183
		name		    "packetParam"
		tag				"id=_Vz9klvdnEeGH_6eRdlYQdA"
		linkNode		    [1175 1182 1184]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1184
		name		    "eventQueue"
		tag				"id=_Vz9kl_dnEeGH_6eRdlYQdA"
		linkNode		    [1175 1183 1185]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1185
		name		    "eventParamQueue"
		tag				"id=_Vz9kmPdnEeGH_6eRdlYQdA"
		linkNode		    [1175 1184 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1186
		name		"TestDelegationSlave/Link Layer delegation_slave/Send Packet"
		machine		11
		chart		1175
	}
	chart {
		id			1187
		name		"TestDelegationMaster/Link Layer delegation_master/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_WcngAPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		34
		viewObj		1187    
		decomposition	    CLUSTER_CHART
		firstData		1188
		firstJunction	1189
		firstTransition		1190
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1189
    chart		    1187
    tag				"id=_WcngAfdnEeGH_6eRdlYQdA"
    linkNode		    [1187 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1191
		chart			1187
		tag				"id=_WcngBPdnEeGH_6eRdlYQdA"
		treeNode		[1187 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1190
    chart		1187
    tag			"id=_WcngAvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1187 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1189
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1188
		name		    "snd_from_in"
		tag				"id=_WcngBfdnEeGH_6eRdlYQdA"
		linkNode		    [1187 0 1192]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1192
		name		    "snd_to_in"
		tag				"id=_WcngBvdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1188 1193]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1193
		name		    "snd_msg_in"
		tag				"id=_WcngB_dnEeGH_6eRdlYQdA"
		linkNode		    [1187 1192 1194]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1194
		name		    "snd_param_in"
		tag				"id=_WcngCPdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1193 1195]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1195
		name		    "recv_from_in"
		tag				"id=_WcngCfdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1194 1196]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1196
		name		    "recv_to_in"
		tag				"id=_WcngCvdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1195 1197]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1197
		name		    "recv_msg_in"
		tag				"id=_WcngC_dnEeGH_6eRdlYQdA"
		linkNode		    [1187 1196 1198]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1198
		name		    "recv_param_in"
		tag				"id=_WcngDPdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1197 1199]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1199
		name		    "recv_pkgid_in"
		tag				"id=_WcngDfdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1198 1200]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1200
		name		    "recv_time_in"
		tag				"id=_WcngDvdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1199 1201]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1201
		name		    "currentTime"
		tag				"id=_WcngD_dnEeGH_6eRdlYQdA"
		linkNode		    [1187 1200 1202]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1202
		name		    "from"
		tag				"id=_WcngEPdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1201 1203]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1203
		name		    "to"
		tag				"id=_WcngEfdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1202 1204]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1204
		name		    "msg"
		tag				"id=_WcngEvdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1203 1205]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1205
		name		    "param"
		tag				"id=_WcngE_dnEeGH_6eRdlYQdA"
		linkNode		    [1187 1204 1206]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1206
		name		    "pkgid"
		tag				"id=_WcngFPdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1205 1207]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1207
		name		    "recv_from_out"
		tag				"id=_WcngFfdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1206 1208]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1208
		name		    "recv_msg_out"
		tag				"id=_WcngFvdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1207 1209]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1209
		name		    "recv_param_out"
		tag				"id=_WcngF_dnEeGH_6eRdlYQdA"
		linkNode		    [1187 1208 1210]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1210
		name		    "time"
		tag				"id=_WcngGPdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1209 1211]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1211
		name		    "queue_sending_ratio"
		tag				"id=_WcngGfdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1210 1212]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1212
		name		    "queue_received_ratio"
		tag				"id=_WcngGvdnEeGH_6eRdlYQdA"
		linkNode		    [1187 1211 1213]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1213
		name		    "queue_ack_ratio"
		tag				"id=_WcngG_dnEeGH_6eRdlYQdA"
		linkNode		    [1187 1212 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1214
		name		"TestDelegationMaster/Link Layer delegation_master/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1187
	}
	chart {
		id			1215
		name		"TestDelegationMaster/Link Layer delegation_master/Receive Packet"
		tag			"id=_Wyr2oPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		35
		viewObj		1215    
		decomposition	    CLUSTER_CHART
		firstData		1216
		firstJunction	1217
		firstTransition		1218
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1217
    chart		    1215
    tag				"id=_Wyr2ofdnEeGH_6eRdlYQdA"
    linkNode		    [1215 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1219
		chart			1215
		tag				"id=_Wyr2pPdnEeGH_6eRdlYQdA"
		treeNode		[1215 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1218
    chart		1215
    tag			"id=_Wyr2ovdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1215 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1217
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1216
		name		    "packetFrom"
		tag				"id=_Wyr2pfdnEeGH_6eRdlYQdA"
		linkNode		    [1215 0 1220]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1220
		name		    "packetMsg"
		tag				"id=_Wyr2pvdnEeGH_6eRdlYQdA"
		linkNode		    [1215 1216 1221]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1221
		name		    "packetParam"
		tag				"id=_Wyr2p_dnEeGH_6eRdlYQdA"
		linkNode		    [1215 1220 1222]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1222
		name		    "eventQueueIn"
		tag				"id=_Wyr2qPdnEeGH_6eRdlYQdA"
		linkNode		    [1215 1221 1223]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1223
		name		    "eventParamQueueIn"
		tag				"id=_Wyr2qfdnEeGH_6eRdlYQdA"
		linkNode		    [1215 1222 1224]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1224
		name		    "eventQueue"
		tag				"id=_Wyr2qvdnEeGH_6eRdlYQdA"
		linkNode		    [1215 1223 1225]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1225
		name		    "eventParamQueue"
		tag				"id=_Wyr2q_dnEeGH_6eRdlYQdA"
		linkNode		    [1215 1224 1226]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1226
		name		    "bufferOverflow"
		tag				"id=_Wyr2rPdnEeGH_6eRdlYQdA"
		linkNode		    [1215 1225 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1227
		name		"TestDelegationMaster/Link Layer delegation_master/Receive Packet"
		machine		11
		chart		1215
	}
	chart {
		id			1228
		name		"TestDelegationMaster/Link Layer delegation_master/Send Packet"
		tag			"id=_W4Xn4PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		36
		viewObj		1228    
		decomposition	    CLUSTER_CHART
		firstData		1229
		firstJunction	1230
		firstTransition		1231
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1230
    chart		    1228
    tag				"id=_W4Xn4fdnEeGH_6eRdlYQdA"
    linkNode		    [1228 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1232
		chart			1228
		tag				"id=_W4Xn5PdnEeGH_6eRdlYQdA"
		treeNode		[1228 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1231
    chart		1228
    tag			"id=_W4Xn4vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1228 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1230
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1229
		name		    "busSizeSignal"
		tag				"id=_W4Xn5fdnEeGH_6eRdlYQdA"
		linkNode		    [1228 0 1233]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1233
		name		    "eventQueueIn"
		tag				"id=_W4Xn5vdnEeGH_6eRdlYQdA"
		linkNode		    [1228 1229 1234]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1234
		name		    "eventParamQueueIn"
		tag				"id=_W4Xn5_dnEeGH_6eRdlYQdA"
		linkNode		    [1228 1233 1235]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1235
		name		    "packetMsg"
		tag				"id=_W4Xn6PdnEeGH_6eRdlYQdA"
		linkNode		    [1228 1234 1236]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1236
		name		    "packetParam"
		tag				"id=_W4Xn6fdnEeGH_6eRdlYQdA"
		linkNode		    [1228 1235 1237]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1237
		name		    "eventQueue"
		tag				"id=_W4Xn6vdnEeGH_6eRdlYQdA"
		linkNode		    [1228 1236 1238]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1238
		name		    "eventParamQueue"
		tag				"id=_W4Xn6_dnEeGH_6eRdlYQdA"
		linkNode		    [1228 1237 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1239
		name		"TestDelegationMaster/Link Layer delegation_master/Send Packet"
		machine		11
		chart		1228
	}
	chart {
		id			1240
		name		"TestEventListenerSlave/Link Layer eventListener_slave/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_XhYIoPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		37
		viewObj		1240    
		decomposition	    CLUSTER_CHART
		firstData		1241
		firstJunction	1242
		firstTransition		1243
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1242
    chart		    1240
    tag				"id=_XhYIofdnEeGH_6eRdlYQdA"
    linkNode		    [1240 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1244
		chart			1240
		tag				"id=_XhYIpPdnEeGH_6eRdlYQdA"
		treeNode		[1240 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1243
    chart		1240
    tag			"id=_XhYIovdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1240 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1242
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1241
		name		    "snd_from_in"
		tag				"id=_XhYIpfdnEeGH_6eRdlYQdA"
		linkNode		    [1240 0 1245]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1245
		name		    "snd_to_in"
		tag				"id=_XhYIpvdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1241 1246]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1246
		name		    "snd_msg_in"
		tag				"id=_XhYIp_dnEeGH_6eRdlYQdA"
		linkNode		    [1240 1245 1247]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1247
		name		    "snd_param_in"
		tag				"id=_XhYIqPdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1246 1248]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1248
		name		    "recv_from_in"
		tag				"id=_XhYIqfdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1247 1249]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1249
		name		    "recv_to_in"
		tag				"id=_XhYIqvdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1248 1250]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1250
		name		    "recv_msg_in"
		tag				"id=_XhYIq_dnEeGH_6eRdlYQdA"
		linkNode		    [1240 1249 1251]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1251
		name		    "recv_param_in"
		tag				"id=_XhYIrPdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1250 1252]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1252
		name		    "recv_pkgid_in"
		tag				"id=_XhYIrfdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1251 1253]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1253
		name		    "recv_time_in"
		tag				"id=_XhYIrvdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1252 1254]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1254
		name		    "currentTime"
		tag				"id=_XhYIr_dnEeGH_6eRdlYQdA"
		linkNode		    [1240 1253 1255]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1255
		name		    "from"
		tag				"id=_XhYIsPdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1254 1256]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1256
		name		    "to"
		tag				"id=_XhYIsfdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1255 1257]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1257
		name		    "msg"
		tag				"id=_XhYIsvdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1256 1258]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1258
		name		    "param"
		tag				"id=_XhYIs_dnEeGH_6eRdlYQdA"
		linkNode		    [1240 1257 1259]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1259
		name		    "pkgid"
		tag				"id=_XhYItPdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1258 1260]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1260
		name		    "recv_from_out"
		tag				"id=_XhYItfdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1259 1261]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1261
		name		    "recv_msg_out"
		tag				"id=_XhYItvdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1260 1262]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1262
		name		    "recv_param_out"
		tag				"id=_XhYIt_dnEeGH_6eRdlYQdA"
		linkNode		    [1240 1261 1263]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1263
		name		    "time"
		tag				"id=_XhYIuPdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1262 1264]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1264
		name		    "queue_sending_ratio"
		tag				"id=_XhYIufdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1263 1265]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1265
		name		    "queue_received_ratio"
		tag				"id=_XhYIuvdnEeGH_6eRdlYQdA"
		linkNode		    [1240 1264 1266]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1266
		name		    "queue_ack_ratio"
		tag				"id=_XhYIu_dnEeGH_6eRdlYQdA"
		linkNode		    [1240 1265 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1267
		name		"TestEventListenerSlave/Link Layer eventListener_slave/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1240
	}
	chart {
		id			1268
		name		"TestEventListenerSlave/Link Layer eventListener_slave/Receive Packet"
		tag			"id=_X2XhMPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		38
		viewObj		1268    
		decomposition	    CLUSTER_CHART
		firstData		1269
		firstJunction	1270
		firstTransition		1271
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1270
    chart		    1268
    tag				"id=_X2XhMfdnEeGH_6eRdlYQdA"
    linkNode		    [1268 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1272
		chart			1268
		tag				"id=_X2XhNPdnEeGH_6eRdlYQdA"
		treeNode		[1268 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1271
    chart		1268
    tag			"id=_X2XhMvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1268 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1270
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1269
		name		    "packetFrom"
		tag				"id=_X2XhNfdnEeGH_6eRdlYQdA"
		linkNode		    [1268 0 1273]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1273
		name		    "packetMsg"
		tag				"id=_X2XhNvdnEeGH_6eRdlYQdA"
		linkNode		    [1268 1269 1274]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1274
		name		    "packetParam"
		tag				"id=_X2XhN_dnEeGH_6eRdlYQdA"
		linkNode		    [1268 1273 1275]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1275
		name		    "eventQueueIn"
		tag				"id=_X2XhOPdnEeGH_6eRdlYQdA"
		linkNode		    [1268 1274 1276]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1276
		name		    "eventParamQueueIn"
		tag				"id=_X2XhOfdnEeGH_6eRdlYQdA"
		linkNode		    [1268 1275 1277]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1277
		name		    "eventQueue"
		tag				"id=_X2XhOvdnEeGH_6eRdlYQdA"
		linkNode		    [1268 1276 1278]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1278
		name		    "eventParamQueue"
		tag				"id=_X2XhO_dnEeGH_6eRdlYQdA"
		linkNode		    [1268 1277 1279]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1279
		name		    "bufferOverflow"
		tag				"id=_X2XhPPdnEeGH_6eRdlYQdA"
		linkNode		    [1268 1278 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1280
		name		"TestEventListenerSlave/Link Layer eventListener_slave/Receive Packet"
		machine		11
		chart		1268
	}
	chart {
		id			1281
		name		"TestEventListenerSlave/Link Layer eventListener_slave/Send Packet"
		tag			"id=_X7l_cPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		39
		viewObj		1281    
		decomposition	    CLUSTER_CHART
		firstData		1282
		firstJunction	1283
		firstTransition		1284
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1283
    chart		    1281
    tag				"id=_X7l_cfdnEeGH_6eRdlYQdA"
    linkNode		    [1281 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1285
		chart			1281
		tag				"id=_X7l_dPdnEeGH_6eRdlYQdA"
		treeNode		[1281 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1284
    chart		1281
    tag			"id=_X7l_cvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1281 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1283
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1282
		name		    "busSizeSignal"
		tag				"id=_X7l_dfdnEeGH_6eRdlYQdA"
		linkNode		    [1281 0 1286]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1286
		name		    "eventQueueIn"
		tag				"id=_X7l_dvdnEeGH_6eRdlYQdA"
		linkNode		    [1281 1282 1287]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1287
		name		    "eventParamQueueIn"
		tag				"id=_X7l_d_dnEeGH_6eRdlYQdA"
		linkNode		    [1281 1286 1288]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1288
		name		    "packetMsg"
		tag				"id=_X7l_ePdnEeGH_6eRdlYQdA"
		linkNode		    [1281 1287 1289]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1289
		name		    "packetParam"
		tag				"id=_X7l_efdnEeGH_6eRdlYQdA"
		linkNode		    [1281 1288 1290]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1290
		name		    "eventQueue"
		tag				"id=_X7l_evdnEeGH_6eRdlYQdA"
		linkNode		    [1281 1289 1291]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1291
		name		    "eventParamQueue"
		tag				"id=_X7l_e_dnEeGH_6eRdlYQdA"
		linkNode		    [1281 1290 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1292
		name		"TestEventListenerSlave/Link Layer eventListener_slave/Send Packet"
		machine		11
		chart		1281
	}
	chart {
		id			1293
		name		"TestEventListenerMaster/Link Layer eventListener_master/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_Yk_hwPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		40
		viewObj		1293    
		decomposition	    CLUSTER_CHART
		firstData		1294
		firstJunction	1295
		firstTransition		1296
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1295
    chart		    1293
    tag				"id=_Yk_hwfdnEeGH_6eRdlYQdA"
    linkNode		    [1293 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1297
		chart			1293
		tag				"id=_Yk_hxPdnEeGH_6eRdlYQdA"
		treeNode		[1293 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1296
    chart		1293
    tag			"id=_Yk_hwvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1293 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1295
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1294
		name		    "snd_from_in"
		tag				"id=_Yk_hxfdnEeGH_6eRdlYQdA"
		linkNode		    [1293 0 1298]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1298
		name		    "snd_to_in"
		tag				"id=_Yk_hxvdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1294 1299]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1299
		name		    "snd_msg_in"
		tag				"id=_Yk_hx_dnEeGH_6eRdlYQdA"
		linkNode		    [1293 1298 1300]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1300
		name		    "snd_param_in"
		tag				"id=_Yk_hyPdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1299 1301]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1301
		name		    "recv_from_in"
		tag				"id=_Yk_hyfdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1300 1302]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1302
		name		    "recv_to_in"
		tag				"id=_Yk_hyvdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1301 1303]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1303
		name		    "recv_msg_in"
		tag				"id=_Yk_hy_dnEeGH_6eRdlYQdA"
		linkNode		    [1293 1302 1304]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1304
		name		    "recv_param_in"
		tag				"id=_Yk_hzPdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1303 1305]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1305
		name		    "recv_pkgid_in"
		tag				"id=_Yk_hzfdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1304 1306]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1306
		name		    "recv_time_in"
		tag				"id=_Yk_hzvdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1305 1307]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1307
		name		    "currentTime"
		tag				"id=_Yk_hz_dnEeGH_6eRdlYQdA"
		linkNode		    [1293 1306 1308]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1308
		name		    "from"
		tag				"id=_Yk_h0PdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1307 1309]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1309
		name		    "to"
		tag				"id=_Yk_h0fdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1308 1310]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1310
		name		    "msg"
		tag				"id=_Yk_h0vdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1309 1311]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1311
		name		    "param"
		tag				"id=_Yk_h0_dnEeGH_6eRdlYQdA"
		linkNode		    [1293 1310 1312]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1312
		name		    "pkgid"
		tag				"id=_Yk_h1PdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1311 1313]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1313
		name		    "recv_from_out"
		tag				"id=_Yk_h1fdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1312 1314]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1314
		name		    "recv_msg_out"
		tag				"id=_Yk_h1vdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1313 1315]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1315
		name		    "recv_param_out"
		tag				"id=_Yk_h1_dnEeGH_6eRdlYQdA"
		linkNode		    [1293 1314 1316]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1316
		name		    "time"
		tag				"id=_Yk_h2PdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1315 1317]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1317
		name		    "queue_sending_ratio"
		tag				"id=_Yk_h2fdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1316 1318]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1318
		name		    "queue_received_ratio"
		tag				"id=_Yk_h2vdnEeGH_6eRdlYQdA"
		linkNode		    [1293 1317 1319]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1319
		name		    "queue_ack_ratio"
		tag				"id=_Yk_h2_dnEeGH_6eRdlYQdA"
		linkNode		    [1293 1318 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1320
		name		"TestEventListenerMaster/Link Layer eventListener_master/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1293
	}
	chart {
		id			1321
		name		"TestEventListenerMaster/Link Layer eventListener_master/Receive Packet"
		tag			"id=_Y4E10PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		41
		viewObj		1321    
		decomposition	    CLUSTER_CHART
		firstData		1322
		firstJunction	1323
		firstTransition		1324
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1323
    chart		    1321
    tag				"id=_Y4E10fdnEeGH_6eRdlYQdA"
    linkNode		    [1321 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1325
		chart			1321
		tag				"id=_Y4E11PdnEeGH_6eRdlYQdA"
		treeNode		[1321 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1324
    chart		1321
    tag			"id=_Y4E10vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1321 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1323
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1322
		name		    "packetFrom"
		tag				"id=_Y4E11fdnEeGH_6eRdlYQdA"
		linkNode		    [1321 0 1326]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1326
		name		    "packetMsg"
		tag				"id=_Y4E11vdnEeGH_6eRdlYQdA"
		linkNode		    [1321 1322 1327]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1327
		name		    "packetParam"
		tag				"id=_Y4E11_dnEeGH_6eRdlYQdA"
		linkNode		    [1321 1326 1328]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1328
		name		    "eventQueueIn"
		tag				"id=_Y4E12PdnEeGH_6eRdlYQdA"
		linkNode		    [1321 1327 1329]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1329
		name		    "eventParamQueueIn"
		tag				"id=_Y4E12fdnEeGH_6eRdlYQdA"
		linkNode		    [1321 1328 1330]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1330
		name		    "eventQueue"
		tag				"id=_Y4E12vdnEeGH_6eRdlYQdA"
		linkNode		    [1321 1329 1331]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1331
		name		    "eventParamQueue"
		tag				"id=_Y4E12_dnEeGH_6eRdlYQdA"
		linkNode		    [1321 1330 1332]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1332
		name		    "bufferOverflow"
		tag				"id=_Y4E13PdnEeGH_6eRdlYQdA"
		linkNode		    [1321 1331 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1333
		name		"TestEventListenerMaster/Link Layer eventListener_master/Receive Packet"
		machine		11
		chart		1321
	}
	chart {
		id			1334
		name		"TestEventListenerMaster/Link Layer eventListener_master/Send Packet"
		tag			"id=_Y-3aUPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		42
		viewObj		1334    
		decomposition	    CLUSTER_CHART
		firstData		1335
		firstJunction	1336
		firstTransition		1337
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1336
    chart		    1334
    tag				"id=_Y-3aUfdnEeGH_6eRdlYQdA"
    linkNode		    [1334 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1338
		chart			1334
		tag				"id=_Y-3aVPdnEeGH_6eRdlYQdA"
		treeNode		[1334 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1337
    chart		1334
    tag			"id=_Y-3aUvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1334 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1336
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1335
		name		    "busSizeSignal"
		tag				"id=_Y-4BYPdnEeGH_6eRdlYQdA"
		linkNode		    [1334 0 1339]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1339
		name		    "eventQueueIn"
		tag				"id=_Y-4BYfdnEeGH_6eRdlYQdA"
		linkNode		    [1334 1335 1340]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1340
		name		    "eventParamQueueIn"
		tag				"id=_Y-4BYvdnEeGH_6eRdlYQdA"
		linkNode		    [1334 1339 1341]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1341
		name		    "packetMsg"
		tag				"id=_Y-4BY_dnEeGH_6eRdlYQdA"
		linkNode		    [1334 1340 1342]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1342
		name		    "packetParam"
		tag				"id=_Y-4BZPdnEeGH_6eRdlYQdA"
		linkNode		    [1334 1341 1343]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1343
		name		    "eventQueue"
		tag				"id=_Y-4BZfdnEeGH_6eRdlYQdA"
		linkNode		    [1334 1342 1344]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1344
		name		    "eventParamQueue"
		tag				"id=_Y-4BZvdnEeGH_6eRdlYQdA"
		linkNode		    [1334 1343 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1345
		name		"TestEventListenerMaster/Link Layer eventListener_master/Send Packet"
		machine		11
		chart		1334
	}
	chart {
		id			1346
		name		"TestTurnTransmission/Link Layer turn_transmission_partner/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_ZnncYPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		43
		viewObj		1346    
		decomposition	    CLUSTER_CHART
		firstData		1347
		firstJunction	1348
		firstTransition		1349
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1348
    chart		    1346
    tag				"id=_ZnncYfdnEeGH_6eRdlYQdA"
    linkNode		    [1346 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1350
		chart			1346
		tag				"id=_ZnncZPdnEeGH_6eRdlYQdA"
		treeNode		[1346 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1349
    chart		1346
    tag			"id=_ZnncYvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1346 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1348
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1347
		name		    "snd_from_in"
		tag				"id=_ZnncZfdnEeGH_6eRdlYQdA"
		linkNode		    [1346 0 1351]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1351
		name		    "snd_to_in"
		tag				"id=_ZnncZvdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1347 1352]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1352
		name		    "snd_msg_in"
		tag				"id=_ZnncZ_dnEeGH_6eRdlYQdA"
		linkNode		    [1346 1351 1353]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1353
		name		    "snd_param_in"
		tag				"id=_ZnncaPdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1352 1354]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1354
		name		    "recv_from_in"
		tag				"id=_ZnncafdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1353 1355]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1355
		name		    "recv_to_in"
		tag				"id=_ZnncavdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1354 1356]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1356
		name		    "recv_msg_in"
		tag				"id=_Znnca_dnEeGH_6eRdlYQdA"
		linkNode		    [1346 1355 1357]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1357
		name		    "recv_param_in"
		tag				"id=_ZnncbPdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1356 1358]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1358
		name		    "recv_pkgid_in"
		tag				"id=_ZnncbfdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1357 1359]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1359
		name		    "recv_time_in"
		tag				"id=_ZnncbvdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1358 1360]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1360
		name		    "currentTime"
		tag				"id=_Znncb_dnEeGH_6eRdlYQdA"
		linkNode		    [1346 1359 1361]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1361
		name		    "from"
		tag				"id=_ZnnccPdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1360 1362]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1362
		name		    "to"
		tag				"id=_ZnnccfdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1361 1363]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1363
		name		    "msg"
		tag				"id=_ZnnccvdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1362 1364]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1364
		name		    "param"
		tag				"id=_ZnoDcPdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1363 1365]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1365
		name		    "pkgid"
		tag				"id=_ZnoDcfdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1364 1366]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1366
		name		    "recv_from_out"
		tag				"id=_ZnoDcvdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1365 1367]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1367
		name		    "recv_msg_out"
		tag				"id=_ZnoDc_dnEeGH_6eRdlYQdA"
		linkNode		    [1346 1366 1368]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1368
		name		    "recv_param_out"
		tag				"id=_ZnoDdPdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1367 1369]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1369
		name		    "time"
		tag				"id=_ZnoDdfdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1368 1370]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1370
		name		    "queue_sending_ratio"
		tag				"id=_ZnoDdvdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1369 1371]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1371
		name		    "queue_received_ratio"
		tag				"id=_ZnoDd_dnEeGH_6eRdlYQdA"
		linkNode		    [1346 1370 1372]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1372
		name		    "queue_ack_ratio"
		tag				"id=_ZnoDePdnEeGH_6eRdlYQdA"
		linkNode		    [1346 1371 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1373
		name		"TestTurnTransmission/Link Layer turn_transmission_partner/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1346
	}
	chart {
		id			1374
		name		"TestTurnTransmission/Link Layer turn_transmission_partner/Receive Packet"
		tag			"id=_Z7R_QPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		44
		viewObj		1374    
		decomposition	    CLUSTER_CHART
		firstData		1375
		firstJunction	1376
		firstTransition		1377
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1376
    chart		    1374
    tag				"id=_Z7R_QfdnEeGH_6eRdlYQdA"
    linkNode		    [1374 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1378
		chart			1374
		tag				"id=_Z7R_RPdnEeGH_6eRdlYQdA"
		treeNode		[1374 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1377
    chart		1374
    tag			"id=_Z7R_QvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1374 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1376
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1375
		name		    "packetFrom"
		tag				"id=_Z7R_RfdnEeGH_6eRdlYQdA"
		linkNode		    [1374 0 1379]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1379
		name		    "packetMsg"
		tag				"id=_Z7R_RvdnEeGH_6eRdlYQdA"
		linkNode		    [1374 1375 1380]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1380
		name		    "packetParam"
		tag				"id=_Z7R_R_dnEeGH_6eRdlYQdA"
		linkNode		    [1374 1379 1381]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1381
		name		    "eventQueueIn"
		tag				"id=_Z7R_SPdnEeGH_6eRdlYQdA"
		linkNode		    [1374 1380 1382]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1382
		name		    "eventParamQueueIn"
		tag				"id=_Z7R_SfdnEeGH_6eRdlYQdA"
		linkNode		    [1374 1381 1383]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1383
		name		    "eventQueue"
		tag				"id=_Z7R_SvdnEeGH_6eRdlYQdA"
		linkNode		    [1374 1382 1384]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1384
		name		    "eventParamQueue"
		tag				"id=_Z7R_S_dnEeGH_6eRdlYQdA"
		linkNode		    [1374 1383 1385]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1385
		name		    "bufferOverflow"
		tag				"id=_Z7R_TPdnEeGH_6eRdlYQdA"
		linkNode		    [1374 1384 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1386
		name		"TestTurnTransmission/Link Layer turn_transmission_partner/Receive Packet"
		machine		11
		chart		1374
	}
	chart {
		id			1387
		name		"TestTurnTransmission/Link Layer turn_transmission_partner/Send Packet"
		tag			"id=_aAmkIPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		45
		viewObj		1387    
		decomposition	    CLUSTER_CHART
		firstData		1388
		firstJunction	1389
		firstTransition		1390
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1389
    chart		    1387
    tag				"id=_aAmkIfdnEeGH_6eRdlYQdA"
    linkNode		    [1387 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1391
		chart			1387
		tag				"id=_aAmkJPdnEeGH_6eRdlYQdA"
		treeNode		[1387 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1390
    chart		1387
    tag			"id=_aAmkIvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1387 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1389
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1388
		name		    "busSizeSignal"
		tag				"id=_aAmkJfdnEeGH_6eRdlYQdA"
		linkNode		    [1387 0 1392]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1392
		name		    "eventQueueIn"
		tag				"id=_aAmkJvdnEeGH_6eRdlYQdA"
		linkNode		    [1387 1388 1393]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1393
		name		    "eventParamQueueIn"
		tag				"id=_aAmkJ_dnEeGH_6eRdlYQdA"
		linkNode		    [1387 1392 1394]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1394
		name		    "packetMsg"
		tag				"id=_aAmkKPdnEeGH_6eRdlYQdA"
		linkNode		    [1387 1393 1395]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1395
		name		    "packetParam"
		tag				"id=_aAmkKfdnEeGH_6eRdlYQdA"
		linkNode		    [1387 1394 1396]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1396
		name		    "eventQueue"
		tag				"id=_aAmkKvdnEeGH_6eRdlYQdA"
		linkNode		    [1387 1395 1397]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1397
		name		    "eventParamQueue"
		tag				"id=_aAmkK_dnEeGH_6eRdlYQdA"
		linkNode		    [1387 1396 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1398
		name		"TestTurnTransmission/Link Layer turn_transmission_partner/Send Packet"
		machine		11
		chart		1387
	}
	chart {
		id			1399
		name		"TestRequestInformationProvider/Link Layer requestinformation_provider/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_arR40PdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		46
		viewObj		1399    
		decomposition	    CLUSTER_CHART
		firstData		1400
		firstJunction	1401
		firstTransition		1402
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1401
    chart		    1399
    tag				"id=_arR40fdnEeGH_6eRdlYQdA"
    linkNode		    [1399 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1403
		chart			1399
		tag				"id=_arR41PdnEeGH_6eRdlYQdA"
		treeNode		[1399 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1402
    chart		1399
    tag			"id=_arR40vdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1399 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1401
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1400
		name		    "snd_from_in"
		tag				"id=_arR41fdnEeGH_6eRdlYQdA"
		linkNode		    [1399 0 1404]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1404
		name		    "snd_to_in"
		tag				"id=_arR41vdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1400 1405]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1405
		name		    "snd_msg_in"
		tag				"id=_arR41_dnEeGH_6eRdlYQdA"
		linkNode		    [1399 1404 1406]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1406
		name		    "snd_param_in"
		tag				"id=_arR42PdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1405 1407]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1407
		name		    "recv_from_in"
		tag				"id=_arR42fdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1406 1408]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1408
		name		    "recv_to_in"
		tag				"id=_arR42vdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1407 1409]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1409
		name		    "recv_msg_in"
		tag				"id=_arR42_dnEeGH_6eRdlYQdA"
		linkNode		    [1399 1408 1410]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1410
		name		    "recv_param_in"
		tag				"id=_arR43PdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1409 1411]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1411
		name		    "recv_pkgid_in"
		tag				"id=_arR43fdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1410 1412]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1412
		name		    "recv_time_in"
		tag				"id=_arR43vdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1411 1413]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1413
		name		    "currentTime"
		tag				"id=_arR43_dnEeGH_6eRdlYQdA"
		linkNode		    [1399 1412 1414]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1414
		name		    "from"
		tag				"id=_arR44PdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1413 1415]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1415
		name		    "to"
		tag				"id=_arR44fdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1414 1416]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1416
		name		    "msg"
		tag				"id=_arR44vdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1415 1417]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1417
		name		    "param"
		tag				"id=_arR44_dnEeGH_6eRdlYQdA"
		linkNode		    [1399 1416 1418]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1418
		name		    "pkgid"
		tag				"id=_arR45PdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1417 1419]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1419
		name		    "recv_from_out"
		tag				"id=_arR45fdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1418 1420]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1420
		name		    "recv_msg_out"
		tag				"id=_arR45vdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1419 1421]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1421
		name		    "recv_param_out"
		tag				"id=_arR45_dnEeGH_6eRdlYQdA"
		linkNode		    [1399 1420 1422]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1422
		name		    "time"
		tag				"id=_arR46PdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1421 1423]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1423
		name		    "queue_sending_ratio"
		tag				"id=_arR46fdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1422 1424]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1424
		name		    "queue_received_ratio"
		tag				"id=_arR46vdnEeGH_6eRdlYQdA"
		linkNode		    [1399 1423 1425]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1425
		name		    "queue_ack_ratio"
		tag				"id=_arR46_dnEeGH_6eRdlYQdA"
		linkNode		    [1399 1424 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1426
		name		"TestRequestInformationProvider/Link Layer requestinformation_provider/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1399
	}
	chart {
		id			1427
		name		"TestRequestInformationProvider/Link Layer requestinformation_provider/Receive Packet"
		tag			"id=_a-oSoPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		47
		viewObj		1427    
		decomposition	    CLUSTER_CHART
		firstData		1428
		firstJunction	1429
		firstTransition		1430
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1429
    chart		    1427
    tag				"id=_a-oSofdnEeGH_6eRdlYQdA"
    linkNode		    [1427 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1431
		chart			1427
		tag				"id=_a-oSpPdnEeGH_6eRdlYQdA"
		treeNode		[1427 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1430
    chart		1427
    tag			"id=_a-oSovdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1427 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1429
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1428
		name		    "packetFrom"
		tag				"id=_a-oSpfdnEeGH_6eRdlYQdA"
		linkNode		    [1427 0 1432]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1432
		name		    "packetMsg"
		tag				"id=_a-oSpvdnEeGH_6eRdlYQdA"
		linkNode		    [1427 1428 1433]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1433
		name		    "packetParam"
		tag				"id=_a-oSp_dnEeGH_6eRdlYQdA"
		linkNode		    [1427 1432 1434]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1434
		name		    "eventQueueIn"
		tag				"id=_a-oSqPdnEeGH_6eRdlYQdA"
		linkNode		    [1427 1433 1435]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1435
		name		    "eventParamQueueIn"
		tag				"id=_a-oSqfdnEeGH_6eRdlYQdA"
		linkNode		    [1427 1434 1436]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1436
		name		    "eventQueue"
		tag				"id=_a-oSqvdnEeGH_6eRdlYQdA"
		linkNode		    [1427 1435 1437]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1437
		name		    "eventParamQueue"
		tag				"id=_a-oSq_dnEeGH_6eRdlYQdA"
		linkNode		    [1427 1436 1438]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1438
		name		    "bufferOverflow"
		tag				"id=_a-oSrPdnEeGH_6eRdlYQdA"
		linkNode		    [1427 1437 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1439
		name		"TestRequestInformationProvider/Link Layer requestinformation_provider/Receive Packet"
		machine		11
		chart		1427
	}
	chart {
		id			1440
		name		"TestRequestInformationProvider/Link Layer requestinformation_provider/Send Packet"
		tag			"id=_bEJEwPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		48
		viewObj		1440    
		decomposition	    CLUSTER_CHART
		firstData		1441
		firstJunction	1442
		firstTransition		1443
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1442
    chart		    1440
    tag				"id=_bEJEwfdnEeGH_6eRdlYQdA"
    linkNode		    [1440 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1444
		chart			1440
		tag				"id=_bEJExPdnEeGH_6eRdlYQdA"
		treeNode		[1440 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1443
    chart		1440
    tag			"id=_bEJEwvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1440 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1442
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1441
		name		    "busSizeSignal"
		tag				"id=_bEJExfdnEeGH_6eRdlYQdA"
		linkNode		    [1440 0 1445]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1445
		name		    "eventQueueIn"
		tag				"id=_bEJExvdnEeGH_6eRdlYQdA"
		linkNode		    [1440 1441 1446]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1446
		name		    "eventParamQueueIn"
		tag				"id=_bEJEx_dnEeGH_6eRdlYQdA"
		linkNode		    [1440 1445 1447]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1447
		name		    "packetMsg"
		tag				"id=_bEJEyPdnEeGH_6eRdlYQdA"
		linkNode		    [1440 1446 1448]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1448
		name		    "packetParam"
		tag				"id=_bEJEyfdnEeGH_6eRdlYQdA"
		linkNode		    [1440 1447 1449]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1449
		name		    "eventQueue"
		tag				"id=_bEJEyvdnEeGH_6eRdlYQdA"
		linkNode		    [1440 1448 1450]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1450
		name		    "eventParamQueue"
		tag				"id=_bEJEy_dnEeGH_6eRdlYQdA"
		linkNode		    [1440 1449 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1451
		name		"TestRequestInformationProvider/Link Layer requestinformation_provider/Send Packet"
		machine		11
		chart		1440
	}
	chart {
		id			1452
		name		"TestRequestInformaitonUser/Link Layer requestinformation_user/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_bs2DgPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		49
		viewObj		1452    
		decomposition	    CLUSTER_CHART
		firstData		1453
		firstJunction	1454
		firstTransition		1455
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1454
    chart		    1452
    tag				"id=_bs2DgfdnEeGH_6eRdlYQdA"
    linkNode		    [1452 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1456
		chart			1452
		tag				"id=_bs2DhPdnEeGH_6eRdlYQdA"
		treeNode		[1452 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1455
    chart		1452
    tag			"id=_bs2DgvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1452 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1454
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1453
		name		    "snd_from_in"
		tag				"id=_bs2DhfdnEeGH_6eRdlYQdA"
		linkNode		    [1452 0 1457]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1457
		name		    "snd_to_in"
		tag				"id=_bs2DhvdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1453 1458]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1458
		name		    "snd_msg_in"
		tag				"id=_bs2Dh_dnEeGH_6eRdlYQdA"
		linkNode		    [1452 1457 1459]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1459
		name		    "snd_param_in"
		tag				"id=_bs2DiPdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1458 1460]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1460
		name		    "recv_from_in"
		tag				"id=_bs2DifdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1459 1461]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1461
		name		    "recv_to_in"
		tag				"id=_bs2DivdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1460 1462]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1462
		name		    "recv_msg_in"
		tag				"id=_bs2Di_dnEeGH_6eRdlYQdA"
		linkNode		    [1452 1461 1463]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1463
		name		    "recv_param_in"
		tag				"id=_bs2DjPdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1462 1464]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1464
		name		    "recv_pkgid_in"
		tag				"id=_bs2DjfdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1463 1465]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1465
		name		    "recv_time_in"
		tag				"id=_bs2DjvdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1464 1466]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1466
		name		    "currentTime"
		tag				"id=_bs2Dj_dnEeGH_6eRdlYQdA"
		linkNode		    [1452 1465 1467]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1467
		name		    "from"
		tag				"id=_bs2DkPdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1466 1468]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1468
		name		    "to"
		tag				"id=_bs2DkfdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1467 1469]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1469
		name		    "msg"
		tag				"id=_bs2DkvdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1468 1470]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1470
		name		    "param"
		tag				"id=_bs2Dk_dnEeGH_6eRdlYQdA"
		linkNode		    [1452 1469 1471]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1471
		name		    "pkgid"
		tag				"id=_bs2DlPdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1470 1472]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1472
		name		    "recv_from_out"
		tag				"id=_bs2DlfdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1471 1473]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1473
		name		    "recv_msg_out"
		tag				"id=_bs2DlvdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1472 1474]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1474
		name		    "recv_param_out"
		tag				"id=_bs2Dl_dnEeGH_6eRdlYQdA"
		linkNode		    [1452 1473 1475]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1475
		name		    "time"
		tag				"id=_bs2DmPdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1474 1476]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1476
		name		    "queue_sending_ratio"
		tag				"id=_bs2DmfdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1475 1477]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1477
		name		    "queue_received_ratio"
		tag				"id=_bs2DmvdnEeGH_6eRdlYQdA"
		linkNode		    [1452 1476 1478]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1478
		name		    "queue_ack_ratio"
		tag				"id=_bs2Dm_dnEeGH_6eRdlYQdA"
		linkNode		    [1452 1477 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1479
		name		"TestRequestInformaitonUser/Link Layer requestinformation_user/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1452
	}
	chart {
		id			1480
		name		"TestRequestInformaitonUser/Link Layer requestinformation_user/Receive Packet"
		tag			"id=_cAweAPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		50
		viewObj		1480    
		decomposition	    CLUSTER_CHART
		firstData		1481
		firstJunction	1482
		firstTransition		1483
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1482
    chart		    1480
    tag				"id=_cAweAfdnEeGH_6eRdlYQdA"
    linkNode		    [1480 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1484
		chart			1480
		tag				"id=_cAweBPdnEeGH_6eRdlYQdA"
		treeNode		[1480 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1483
    chart		1480
    tag			"id=_cAweAvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1480 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1482
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1481
		name		    "packetFrom"
		tag				"id=_cAweBfdnEeGH_6eRdlYQdA"
		linkNode		    [1480 0 1485]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1485
		name		    "packetMsg"
		tag				"id=_cAweBvdnEeGH_6eRdlYQdA"
		linkNode		    [1480 1481 1486]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1486
		name		    "packetParam"
		tag				"id=_cAweB_dnEeGH_6eRdlYQdA"
		linkNode		    [1480 1485 1487]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1487
		name		    "eventQueueIn"
		tag				"id=_cAweCPdnEeGH_6eRdlYQdA"
		linkNode		    [1480 1486 1488]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1488
		name		    "eventParamQueueIn"
		tag				"id=_cAweCfdnEeGH_6eRdlYQdA"
		linkNode		    [1480 1487 1489]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1489
		name		    "eventQueue"
		tag				"id=_cAweCvdnEeGH_6eRdlYQdA"
		linkNode		    [1480 1488 1490]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1490
		name		    "eventParamQueue"
		tag				"id=_cAweC_dnEeGH_6eRdlYQdA"
		linkNode		    [1480 1489 1491]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1491
		name		    "bufferOverflow"
		tag				"id=_cAweDPdnEeGH_6eRdlYQdA"
		linkNode		    [1480 1490 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1492
		name		"TestRequestInformaitonUser/Link Layer requestinformation_user/Receive Packet"
		machine		11
		chart		1480
	}
	chart {
		id			1493
		name		"TestRequestInformaitonUser/Link Layer requestinformation_user/Send Packet"
		tag			"id=_cGTFUPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		51
		viewObj		1493    
		decomposition	    CLUSTER_CHART
		firstData		1494
		firstJunction	1495
		firstTransition		1496
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1495
    chart		    1493
    tag				"id=_cGTFUfdnEeGH_6eRdlYQdA"
    linkNode		    [1493 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1497
		chart			1493
		tag				"id=_cGTFVPdnEeGH_6eRdlYQdA"
		treeNode		[1493 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1496
    chart		1493
    tag			"id=_cGTFUvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1493 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1495
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1494
		name		    "busSizeSignal"
		tag				"id=_cGTFVfdnEeGH_6eRdlYQdA"
		linkNode		    [1493 0 1498]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1498
		name		    "eventQueueIn"
		tag				"id=_cGTFVvdnEeGH_6eRdlYQdA"
		linkNode		    [1493 1494 1499]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1499
		name		    "eventParamQueueIn"
		tag				"id=_cGTFV_dnEeGH_6eRdlYQdA"
		linkNode		    [1493 1498 1500]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1500
		name		    "packetMsg"
		tag				"id=_cGTFWPdnEeGH_6eRdlYQdA"
		linkNode		    [1493 1499 1501]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1501
		name		    "packetParam"
		tag				"id=_cGTFWfdnEeGH_6eRdlYQdA"
		linkNode		    [1493 1500 1502]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1502
		name		    "eventQueue"
		tag				"id=_cGTFWvdnEeGH_6eRdlYQdA"
		linkNode		    [1493 1501 1503]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1503
		name		    "eventParamQueue"
		tag				"id=_cGTFW_dnEeGH_6eRdlYQdA"
		linkNode		    [1493 1502 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1504
		name		"TestRequestInformaitonUser/Link Layer requestinformation_user/Send Packet"
		machine		11
		chart		1493
	}
	chart {
		id			1505
		name		"TestStartStopSlave/Link Layer startStop_Slave/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_cv9tYPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		52
		viewObj		1505    
		decomposition	    CLUSTER_CHART
		firstData		1506
		firstJunction	1507
		firstTransition		1508
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1507
    chart		    1505
    tag				"id=_cv9tYfdnEeGH_6eRdlYQdA"
    linkNode		    [1505 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1509
		chart			1505
		tag				"id=_cv9tZPdnEeGH_6eRdlYQdA"
		treeNode		[1505 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1508
    chart		1505
    tag			"id=_cv9tYvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1505 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1507
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1506
		name		    "snd_from_in"
		tag				"id=_cv9tZfdnEeGH_6eRdlYQdA"
		linkNode		    [1505 0 1510]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1510
		name		    "snd_to_in"
		tag				"id=_cv9tZvdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1506 1511]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1511
		name		    "snd_msg_in"
		tag				"id=_cv9tZ_dnEeGH_6eRdlYQdA"
		linkNode		    [1505 1510 1512]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1512
		name		    "snd_param_in"
		tag				"id=_cv9taPdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1511 1513]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1513
		name		    "recv_from_in"
		tag				"id=_cv9tafdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1512 1514]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1514
		name		    "recv_to_in"
		tag				"id=_cv9tavdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1513 1515]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1515
		name		    "recv_msg_in"
		tag				"id=_cv9ta_dnEeGH_6eRdlYQdA"
		linkNode		    [1505 1514 1516]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1516
		name		    "recv_param_in"
		tag				"id=_cv9tbPdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1515 1517]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1517
		name		    "recv_pkgid_in"
		tag				"id=_cv9tbfdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1516 1518]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1518
		name		    "recv_time_in"
		tag				"id=_cv9tbvdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1517 1519]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1519
		name		    "currentTime"
		tag				"id=_cv9tb_dnEeGH_6eRdlYQdA"
		linkNode		    [1505 1518 1520]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1520
		name		    "from"
		tag				"id=_cv9tcPdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1519 1521]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1521
		name		    "to"
		tag				"id=_cv9tcfdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1520 1522]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1522
		name		    "msg"
		tag				"id=_cv9tcvdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1521 1523]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1523
		name		    "param"
		tag				"id=_cv9tc_dnEeGH_6eRdlYQdA"
		linkNode		    [1505 1522 1524]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1524
		name		    "pkgid"
		tag				"id=_cv9tdPdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1523 1525]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1525
		name		    "recv_from_out"
		tag				"id=_cv9tdfdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1524 1526]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1526
		name		    "recv_msg_out"
		tag				"id=_cv9tdvdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1525 1527]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1527
		name		    "recv_param_out"
		tag				"id=_cv9td_dnEeGH_6eRdlYQdA"
		linkNode		    [1505 1526 1528]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1528
		name		    "time"
		tag				"id=_cv9tePdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1527 1529]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1529
		name		    "queue_sending_ratio"
		tag				"id=_cv9tefdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1528 1530]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1530
		name		    "queue_received_ratio"
		tag				"id=_cv9tevdnEeGH_6eRdlYQdA"
		linkNode		    [1505 1529 1531]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1531
		name		    "queue_ack_ratio"
		tag				"id=_cv9te_dnEeGH_6eRdlYQdA"
		linkNode		    [1505 1530 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1532
		name		"TestStartStopSlave/Link Layer startStop_Slave/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1505
	}
	chart {
		id			1533
		name		"TestStartStopSlave/Link Layer startStop_Slave/Receive Packet"
		tag			"id=_dFAwUPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		53
		viewObj		1533    
		decomposition	    CLUSTER_CHART
		firstData		1534
		firstJunction	1535
		firstTransition		1536
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1535
    chart		    1533
    tag				"id=_dFAwUfdnEeGH_6eRdlYQdA"
    linkNode		    [1533 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1537
		chart			1533
		tag				"id=_dFAwVPdnEeGH_6eRdlYQdA"
		treeNode		[1533 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1536
    chart		1533
    tag			"id=_dFAwUvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1533 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1535
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1534
		name		    "packetFrom"
		tag				"id=_dFAwVfdnEeGH_6eRdlYQdA"
		linkNode		    [1533 0 1538]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1538
		name		    "packetMsg"
		tag				"id=_dFAwVvdnEeGH_6eRdlYQdA"
		linkNode		    [1533 1534 1539]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1539
		name		    "packetParam"
		tag				"id=_dFAwV_dnEeGH_6eRdlYQdA"
		linkNode		    [1533 1538 1540]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1540
		name		    "eventQueueIn"
		tag				"id=_dFAwWPdnEeGH_6eRdlYQdA"
		linkNode		    [1533 1539 1541]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1541
		name		    "eventParamQueueIn"
		tag				"id=_dFAwWfdnEeGH_6eRdlYQdA"
		linkNode		    [1533 1540 1542]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1542
		name		    "eventQueue"
		tag				"id=_dFAwWvdnEeGH_6eRdlYQdA"
		linkNode		    [1533 1541 1543]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1543
		name		    "eventParamQueue"
		tag				"id=_dFAwW_dnEeGH_6eRdlYQdA"
		linkNode		    [1533 1542 1544]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1544
		name		    "bufferOverflow"
		tag				"id=_dFAwXPdnEeGH_6eRdlYQdA"
		linkNode		    [1533 1543 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1545
		name		"TestStartStopSlave/Link Layer startStop_Slave/Receive Packet"
		machine		11
		chart		1533
	}
	chart {
		id			1546
		name		"TestStartStopSlave/Link Layer startStop_Slave/Send Packet"
		tag			"id=_dK4HwPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		54
		viewObj		1546    
		decomposition	    CLUSTER_CHART
		firstData		1547
		firstJunction	1548
		firstTransition		1549
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1548
    chart		    1546
    tag				"id=_dK4HwfdnEeGH_6eRdlYQdA"
    linkNode		    [1546 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1550
		chart			1546
		tag				"id=_dK4HxPdnEeGH_6eRdlYQdA"
		treeNode		[1546 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1549
    chart		1546
    tag			"id=_dK4HwvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1546 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1548
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1547
		name		    "busSizeSignal"
		tag				"id=_dK4HxfdnEeGH_6eRdlYQdA"
		linkNode		    [1546 0 1551]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1551
		name		    "eventQueueIn"
		tag				"id=_dK4HxvdnEeGH_6eRdlYQdA"
		linkNode		    [1546 1547 1552]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1552
		name		    "eventParamQueueIn"
		tag				"id=_dK4Hx_dnEeGH_6eRdlYQdA"
		linkNode		    [1546 1551 1553]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1553
		name		    "packetMsg"
		tag				"id=_dK4HyPdnEeGH_6eRdlYQdA"
		linkNode		    [1546 1552 1554]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1554
		name		    "packetParam"
		tag				"id=_dK4HyfdnEeGH_6eRdlYQdA"
		linkNode		    [1546 1553 1555]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1555
		name		    "eventQueue"
		tag				"id=_dK4HyvdnEeGH_6eRdlYQdA"
		linkNode		    [1546 1554 1556]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1556
		name		    "eventParamQueue"
		tag				"id=_dK4Hy_dnEeGH_6eRdlYQdA"
		linkNode		    [1546 1555 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1557
		name		"TestStartStopSlave/Link Layer startStop_Slave/Send Packet"
		machine		11
		chart		1546
	}
	chart {
		id			1558
		name		"TestStartStopMaster/Link Layer startStop_Master/DataLinkLayer/Embedded\nMATLAB Function"
		tag			"id=_d0JuQPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		55
		viewObj		1558    
		decomposition	    CLUSTER_CHART
		firstData		1559
		firstJunction	1560
		firstTransition		1561
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1560
    chart		    1558
    tag				"id=_d0JuQfdnEeGH_6eRdlYQdA"
    linkNode		    [1558 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1562
		chart			1558
		tag				"id=_d0JuRPdnEeGH_6eRdlYQdA"
		treeNode		[1558 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [from, to, msg, param, pkgid, recv_from_out, recv_msg_out, recv_param_out, time, queue_sending_ratio, queue_received_ratio, queue_ack_ratio] = ackHandler(snd_from_in, snd_to_in, snd_msg_in, snd_param_in, recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, currentTime)
%#eml
eml.extrinsic('warning', 'disp', 'fprintf');

%Constants
BUS_SIZE =  numel(snd_msg_in);
TIMEOUT_ACK     = 2.0;
MSG_ACK         = 255;
QUEUE_SIZE_SENDING = 10 * BUS_SIZE;
QUEUE_SIZE_ACK  = 10* BUS_SIZE;
QUEUE_SIZE_RECEIVED = 10 *BUS_SIZE;


%Init
from    = zeros(1,BUS_SIZE,'uint8');
to      = zeros(1,BUS_SIZE,'uint8');
msg     = zeros(1,BUS_SIZE,'uint16');
param   = zeros(1,BUS_SIZE,'double');
pkgid   = zeros(1,BUS_SIZE,'uint32');
time    = zeros(1,BUS_SIZE,'double');
 
recv_from_out    = zeros(1,BUS_SIZE,'uint8');
recv_msg_out     = zeros(1,BUS_SIZE,'uint16');
recv_param_out   = zeros(1,BUS_SIZE,'double');


recv_in = bus(recv_from_in, recv_to_in, recv_msg_in, recv_param_in, recv_pkgid_in, recv_time_in, BUS_SIZE);



%Persistent variables
persistent sendingQueue ackQueue receivedQueue lastPkgid

if isempty(lastPkgid)
    lastPkgid = uint32(0);
end

if isempty(sendingQueue)
    sendingQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_SENDING);
end

if isempty(ackQueue)
    ackQueue = repmat(packet(0,0,0,0,0,0), 1, QUEUE_SIZE_ACK);
end

if isempty(receivedQueue)
    receivedQueue = repmat(packet(0, 0, 0, 0, 0, 0), 1, QUEUE_SIZE_RECEIVED);
end

%compute stats
queue_sending_ratio = queueNumElements(sendingQueue)/QUEUE_SIZE_SENDING;
queue_ack_ratio = queueNumElements(ackQueue)/QUEUE_SIZE_ACK;
queue_received_ratio = queueNumElements(receivedQueue)/QUEUE_SIZE_RECEIVED;

%Step 1: Check for a new outgoing packet
for i = 1:BUS_SIZE    
    if snd_msg_in(i) ~= 0
        lastPkgid = lastPkgid +1;
        outgoing = packet(snd_from_in, snd_to_in, snd_msg_in(i), snd_param_in(i), lastPkgid, currentTime);

        %Add packet so the outgoing queue
        sendingQueue = enqueue(sendingQueue, outgoing); 
    end
end
    
%Step 2: Check for a new incoming packet
for i = 1:length(recv_in)
    incoming = packet(recv_in(i).from, recv_in(i).to, recv_in(i).msg, recv_in(i).param, recv_in(i).pkgid, recv_in(i).time);
    if incoming.from ~= 0 && incoming.to == snd_from_in
        if incoming.msg == MSG_ACK
            %Remove packet from ackQueue
            for j=1:length(ackQueue)
                if ackQueue(j).pkgid == uint32(incoming.param)
                    ackQueue = dequeue(ackQueue,j);
                    break;
                end
            end
        else
            %Send ACK
            ackPacket = packet(incoming.to, incoming.from, MSG_ACK, double(incoming.pkgid),incoming.pkgid, currentTime);
            sendingQueue = enqueue(sendingQueue,ackPacket);

            %Check for duplicated packets
            duplicatedPacket = false;
            for j=1:length(receivedQueue)
                if receivedQueue(j).pkgid == incoming.pkgid && receivedQueue(j).from == incoming.from
                    duplicatedPacket = true;
                    break;
                end
            end

            if duplicatedPacket == false
                %save packet
                receivedQueue = enqueue(receivedQueue, incoming);            
            end
        end
    end
end

%Step 3: Forward incoming packet
for i = 1:BUS_SIZE
    if receivedQueue(1).from ~= 0
        recv_from_out(i)    = receivedQueue(1).from;
        recv_msg_out(i)     = receivedQueue(1).msg;
        recv_param_out(i)   = receivedQueue(1).param;
        receivedQueue = dequeue(receivedQueue,1);
    else
        break;
    end
end

%Step 4: Timeout reached? Send packet again
for i = 1:length(ackQueue)
    if ackQueue(i).to ~= 0
        if ackQueue(i).time + TIMEOUT_ACK <= currentTime
            %Reset counter
            ackQueue(i).time = currentTime;
            %Send again
            sendingQueue = enqueue(sendingQueue, ackQueue(i));
            %Remove packet from ackQueue
            ackQueue = dequeue(ackQueue, i);
        end
    end
end


%Step 5: Send outgoing packet
for i = 1:BUS_SIZE
    if sendingQueue(1).to ~= 0    
        from(i)    = sendingQueue(1).from;
        to(i)      = sendingQueue(1).to;
        msg(i)     = sendingQueue(1).msg;
        param(i)   = sendingQueue(1).param;
        pkgid(i)   = sendingQueue(1).pkgid;
        time(i)    = sendingQueue(1).time;

        %Add it to the ack queue
        if sendingQueue(1).msg ~= MSG_ACK
            ackQueue = enqueue(ackQueue, sendingQueue(1));
        end

        %remove packet from sending queue
        sendingQueue = dequeue(sendingQueue, 1);    
    else
        break;
    end
end


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          H E L P E R
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

function p = packet(from, to, msg, param, pkgid, time)
%#eml
%Defines a packet
p = struct('from', uint8(from),'to', uint8(to),'msg', uint16(msg),'param', double(param),'pkgid', uint32(pkgid), 'time', double(time));

function bus = bus(from, to, msg, param, pkgid, time, size) %emp
%Create an empty bus
bus = repmat(packet(0,0,0,0,0,0), 1, size);
for i=1:size
    bus(i) = packet(from(i), to(i), msg(i), param(i), pkgid(i), time(i));
end


function queue = enqueue(queue, packet)
%#eml
eml.extrinsic('warning', 'sprintf');
for i = 1:length(queue)
    if queue(i).to == 0
        queue(i) = packet;
        return;
    end
end
warning('RailCab:DataLinkLayer', 'DataLinkLayer Buffer overflow. Dropping packet  %3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);

function queue = dequeue(queue, index)
%#eml
assert(index <= length(queue))
for i=index:length(queue)-1;
    queue(i) = queue(i+1);
end
queue(length(queue)) = packet(0,0,0,0,0,0);

function num = queueNumElements(queue)
%#eml
num = 0;
for i = 1:length(queue)
    if queue(i).to ~= uint8(0)
        num = num+1;
    end
end    

function packetString = toString(packet) %#eml
eml.extrinsic('sprintf');
packetString = sprintf('%3u: %u->%u :%3u (%.1f) @%.2f', packet.pkgid, packet.from, packet.to, packet.msg, packet.param, packet.time);"		
		}	
	}
  transition {
  	id			1561
    chart		1558
    tag			"id=_d0JuQvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1558 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1560
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1559
		name		    "snd_from_in"
		tag				"id=_d0JuRfdnEeGH_6eRdlYQdA"
		linkNode		    [1558 0 1563]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1563
		name		    "snd_to_in"
		tag				"id=_d0JuRvdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1559 1564]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1564
		name		    "snd_msg_in"
		tag				"id=_d0JuR_dnEeGH_6eRdlYQdA"
		linkNode		    [1558 1563 1565]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1565
		name		    "snd_param_in"
		tag				"id=_d0JuSPdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1564 1566]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1566
		name		    "recv_from_in"
		tag				"id=_d0JuSfdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1565 1567]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1567
		name		    "recv_to_in"
		tag				"id=_d0JuSvdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1566 1568]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1568
		name		    "recv_msg_in"
		tag				"id=_d0JuS_dnEeGH_6eRdlYQdA"
		linkNode		    [1558 1567 1569]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1569
		name		    "recv_param_in"
		tag				"id=_d0JuTPdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1568 1570]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1570
		name		    "recv_pkgid_in"
		tag				"id=_d0JuTfdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1569 1571]
		machine		    11
		dataType		"uint32"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1571
		name		    "recv_time_in"
		tag				"id=_d0JuTvdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1570 1572]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1572
		name		    "currentTime"
		tag				"id=_d0KVUPdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1571 1573]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1573
		name		    "from"
		tag				"id=_d0KVUfdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1572 1574]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1574
		name		    "to"
		tag				"id=_d0KVUvdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1573 1575]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1575
		name		    "msg"
		tag				"id=_d0KVU_dnEeGH_6eRdlYQdA"
		linkNode		    [1558 1574 1576]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1576
		name		    "param"
		tag				"id=_d0KVVPdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1575 1577]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1577
		name		    "pkgid"
		tag				"id=_d0KVVfdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1576 1578]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1578
		name		    "recv_from_out"
		tag				"id=_d0KVVvdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1577 1579]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1579
		name		    "recv_msg_out"
		tag				"id=_d0KVV_dnEeGH_6eRdlYQdA"
		linkNode		    [1558 1578 1580]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1580
		name		    "recv_param_out"
		tag				"id=_d0KVWPdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1579 1581]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1581
		name		    "time"
		tag				"id=_d0KVWfdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1580 1582]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1582
		name		    "queue_sending_ratio"
		tag				"id=_d0KVWvdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1581 1583]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1583
		name		    "queue_received_ratio"
		tag				"id=_d0KVW_dnEeGH_6eRdlYQdA"
		linkNode		    [1558 1582 1584]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1584
		name		    "queue_ack_ratio"
		tag				"id=_d0KVXPdnEeGH_6eRdlYQdA"
		linkNode		    [1558 1583 0]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1585
		name		"TestStartStopMaster/Link Layer startStop_Master/DataLinkLayer/Embedded\nMATLAB Function"
		machine		11
		chart		1558
	}
	chart {
		id			1586
		name		"TestStartStopMaster/Link Layer startStop_Master/Receive Packet"
		tag			"id=_eIpXkPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		56
		viewObj		1586    
		decomposition	    CLUSTER_CHART
		firstData		1587
		firstJunction	1588
		firstTransition		1589
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1588
    chart		    1586
    tag				"id=_eIpXkfdnEeGH_6eRdlYQdA"
    linkNode		    [1586 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1590
		chart			1586
		tag				"id=_eIpXlPdnEeGH_6eRdlYQdA"
		treeNode		[1586 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [eventQueue, eventParamQueue, bufferOverflow] = receivePacket(packetFrom, packetMsg, packetParam, eventQueueIn, eventParamQueueIn)\n%#eml\n% This function receives packets and adds them to the event queue.\n% A packet consists of a source, a message and an optional parameter for \n% the message. Source and message are contained at position 1 and 2 in the \n% eventQueue. Because of the different data type the parameter has his own \n% queue eventParamQueue.\n\n%Constants\nSOURCE = 2;\nMESSAGE = 1;\nBUS_SIZE = numel(packetFrom);\nQUEUE_SIZE = 10;\n\n%Init\neventQueue = eventQueueIn;\neventParamQueue = eventParamQueueIn;\nbufferOverflow = false;\n\n%New incoming packet\nfor i = 1:BUS_SIZE\n    if packetFrom(i) ~= 0 \n        bufferOverflow = true;\n        %Add it to the incoming event Queue\n        for j = 1:QUEUE_SIZE\n            %Search for an empty place\n            if eventQueue(j,SOURCE) == 0\n                eventQueue(j,SOURCE)    = packetFrom(i);\n                eventQueue(j,MESSAGE)   = packetMsg(i);\n                eventParamQueue(j)      = packetParam(i);\n                bufferOverflow = false;\n                break;\n            end\n        end        \n    else\n        break;\n    end\nend"		
		}	
	}
  transition {
  	id			1589
    chart		1586
    tag			"id=_eIpXkvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1586 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1588
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1587
		name		    "packetFrom"
		tag				"id=_eIpXlfdnEeGH_6eRdlYQdA"
		linkNode		    [1586 0 1591]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1591
		name		    "packetMsg"
		tag				"id=_eIpXlvdnEeGH_6eRdlYQdA"
		linkNode		    [1586 1587 1592]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1592
		name		    "packetParam"
		tag				"id=_eIpXl_dnEeGH_6eRdlYQdA"
		linkNode		    [1586 1591 1593]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1593
		name		    "eventQueueIn"
		tag				"id=_eIpXmPdnEeGH_6eRdlYQdA"
		linkNode		    [1586 1592 1594]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1594
		name		    "eventParamQueueIn"
		tag				"id=_eIpXmfdnEeGH_6eRdlYQdA"
		linkNode		    [1586 1593 1595]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1595
		name		    "eventQueue"
		tag				"id=_eIpXmvdnEeGH_6eRdlYQdA"
		linkNode		    [1586 1594 1596]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1596
		name		    "eventParamQueue"
		tag				"id=_eIpXm_dnEeGH_6eRdlYQdA"
		linkNode		    [1586 1595 1597]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1597
		name		    "bufferOverflow"
		tag				"id=_eIpXnPdnEeGH_6eRdlYQdA"
		linkNode		    [1586 1596 0]
		machine		    11
		dataType		"boolean"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1598
		name		"TestStartStopMaster/Link Layer startStop_Master/Receive Packet"
		machine		11
		chart		1586
	}
	chart {
		id			1599
		name		"TestStartStopMaster/Link Layer startStop_Master/Send Packet"
		tag			"id=_eOgvAPdnEeGH_6eRdlYQdA"
		machine		11
		chartFileNumber		57
		viewObj		1599    
		decomposition	    CLUSTER_CHART
		firstData		1600
		firstJunction	1601
		firstTransition		1602
  disableImplicitCasting 1
  type EML_CHART
	}
  junction {
    id			    1601
    chart		    1599
    tag				"id=_eOgvAfdnEeGH_6eRdlYQdA"
    linkNode		    [1599 0 0]
    type		    CONNECTIVE_JUNCTION
  }

	state {
		id				1603
		chart			1599
		tag				"id=_eOgvBPdnEeGH_6eRdlYQdA"
		treeNode		[1599 0 0 0]
		labelString		"eML_blk_kernel()"
		type			FUNC_STATE
		decomposition	CLUSTER_STATE
		eml {
			isEML	1
			script	"function [packetMsg, packetParam, eventQueue, eventParamQueue] = sendPacket(busSizeSignal, eventQueueIn, eventParamQueueIn)
%#eml

% This function creates packets from the event queue. A packet consists
% of a destination, a message and an optional parameter for the message.
% Destination and message are contained at position 1 and 2 in the 
% eventQueue. Because of the different data type the parameter has his own 
% queue eventParamQueue.

%Constants
DESTINATION = 2;
MESSAGE = 1;
QUEUE_SIZE = 10;

busSize = numel(busSizeSignal);

%Init
eventQueue = eventQueueIn;
eventParamQueue = eventParamQueueIn;
packetMsg = zeros(1,busSize,'uint16');
packetParam = zeros(1,busSize,'double');

%There is an event in the queue
for i = 1:busSize   
    if eventQueue(1,DESTINATION) ~= 0 || eventQueue(1,MESSAGE) ~= 0
        %Create packet from the firs entry in the queue
        packetMsg(i)   = uint16(eventQueue(1,MESSAGE));
        packetParam(i) = eventParamQueue(1);
        %Remove the event from the queue
        for j=1:QUEUE_SIZE - 1
            eventQueue(j,DESTINATION)   = eventQueue(j+1,DESTINATION);
            eventQueue(j,MESSAGE)       = eventQueue(j+1,MESSAGE);
            eventParamQueue(j)          = eventParamQueue(j+1);
        end
        %Set last element to zero
        eventQueue(QUEUE_SIZE,DESTINATION)  = 0;
        eventQueue(QUEUE_SIZE,MESSAGE)      = 0;
        eventParamQueue(QUEUE_SIZE)    = 0;
    else
        break;
    end
end"		
		}	
	}
  transition {
  	id			1602
    chart		1599
    tag			"id=_eOgvAvdnEeGH_6eRdlYQdA"
    labelString "{eML_blk_kernel()}"
    linkNode 	[1599 0 0]
    executionOrder 0
  	src {
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	dst {
  	  id		1601
  	  intersection	[0 0 0 0 0 0 0 0]
  	    	  
  	}
  	slide {
  	}
  }
	data {
		id				1600
		name		    "busSizeSignal"
		tag				"id=_eOgvBfdnEeGH_6eRdlYQdA"
		linkNode		    [1599 0 1604]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1604
		name		    "eventQueueIn"
		tag				"id=_eOgvBvdnEeGH_6eRdlYQdA"
		linkNode		    [1599 1600 1605]
		machine		    11
		dataType		"uint8"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1605
		name		    "eventParamQueueIn"
		tag				"id=_eOgvB_dnEeGH_6eRdlYQdA"
		linkNode		    [1599 1604 1606]
		machine		    11
		dataType		"double"
		scope		    INPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1606
		name		    "packetMsg"
		tag				"id=_eOgvCPdnEeGH_6eRdlYQdA"
		linkNode		    [1599 1605 1607]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1607
		name		    "packetParam"
		tag				"id=_eOgvCfdnEeGH_6eRdlYQdA"
		linkNode		    [1599 1606 1608]
		machine		    11
		dataType		"Inherit: Same as Simulink"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		type {
				method			SF_INHERITED_TYPE
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1608
		name		    "eventQueue"
		tag				"id=_eOgvCvdnEeGH_6eRdlYQdA"
		linkNode		    [1599 1607 1609]
		machine		    11
		dataType		"uint8"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	data {
		id				1609
		name		    "eventParamQueue"
		tag				"id=_eOgvC_dnEeGH_6eRdlYQdA"
		linkNode		    [1599 1608 0]
		machine		    11
		dataType		"double"
		scope		    OUTPUT_DATA	
		props {

      		array {
				size			"-1"
      		}
      		complexity	      SF_COMPLEX_INHERITED
    	}				
	}  
	instance {
		id			1610
		name		"TestStartStopMaster/Link Layer startStop_Master/Send Packet"
		machine		11
		chart		1599
	}
	target {
		id			10
    	name		    "sfun"
    	description		    "Default Simulink S-Function Target."		
		machine		11
		linkNode		    [11 0 0]	
	}
}


