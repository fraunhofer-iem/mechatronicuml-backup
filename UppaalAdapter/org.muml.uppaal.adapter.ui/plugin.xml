<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>

	<extension point="org.eclipse.ui.commands" id="menu-commands">
      <category id="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID" name="UPPAAL Verification Command" description="Run UPPAAL model checking"/>
      <command id="de.uni_paderborn.fujaba.muml.verification.uppaal.UppaalVerificationAction"
         name="Run UPPAAL Model Checking"
         categoryId="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID"
         defaultHandler="org.muml.uppaal.adapter.ui.UppaalVerifyForResultAction"/>
   </extension>

   <extension point="org.eclipse.ui.commands" id="menu-commands">
      <category id="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID" name="UPPAAL XML Export Command" description="Export UPPAAL XML file"/>
      <command id="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportUppaalXMLAction"
         name="Export UPPAAL XML File"
         categoryId="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID"
         defaultHandler="org.muml.uppaal.adapter.ui.ExportUppaalXMLAction"/>
   </extension>
   
   <extension point="org.eclipse.ui.commands" id="menu-commands">
      <category id="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID" name="Export UPPAAL Model Command" description="Export UPPAAL model"/>
      <command id="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportUppaalModelAction"
         name="Export UPPAAL Model"
         categoryId="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID"
         defaultHandler="org.muml.uppaal.adapter.ui.ExportUppaalModelAction"/>
   </extension>



   <extension point="org.eclipse.ui.commands" id="menu-commands">
      <category id="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID" name="Export UPPAAL Model Command" description="Export UPPAAL model (Wizard)..."/>
      <command id="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportUppaalWizardModelAction"
         name="Export UPPAAL Model (Wizard)..."
         categoryId="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID"
         defaultHandler="org.muml.uppaal.adapter.ui.wizard.MUML2ExportUppaalWizardDialogAction"/>
   </extension>




   <extension point="org.eclipse.ui.commands" id="menu-commands">
      <category id="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID" name="Trace Image Export Command" description="Export trace image"/>
      <command id="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportTraceImageAction"
         name="Run UPPAAL Model Checking for a Trace"
         categoryId="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID"
         defaultHandler="org.muml.uppaal.adapter.ui.ExportTraceImageAction"/>
   </extension>
   
   <extension point="org.eclipse.ui.commands" id="menu-commands">
      <category id="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID" name="Add Default Properties Command" description="Add Default Verification Properties"/>
      <command id="de.uni_paderborn.fujaba.muml.verification.uppaal.AddDefaultPropertiesAction"
         name="Add Default Verification Properties"
         categoryId="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID"
         defaultHandler="org.muml.uppaal.adapter.ui.AddDefaultPropertiesAction"/>
   </extension>
   
   <extension point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:de.uni_paderborn.fujaba">
         
         


         <command
               commandId="de.uni_paderborn.fujaba.muml.verification.uppaal.AddDefaultPropertiesAction"
               label="Add Default Verification Properties">
            <visibleWhen>
               <and>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <adapt
                              type="de.uni_paderborn.fujaba.muml.protocol.AbstractCoordinationSpecification">
                        </adapt>
                     </iterate>
                  </with></and>
            </visibleWhen>
         </command>
         <command
               commandId="de.uni_paderborn.fujaba.muml.verification.uppaal.UppaalVerificationAction"
               label="Verify Multiple Properties">
             <visibleWhen>
               <and>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <adapt
                              type="de.uni_paderborn.fujaba.muml.protocol.AbstractCoordinationSpecification">
                        </adapt>
                     </iterate>
                  </with></and>
            </visibleWhen>
         </command>
      	                   
         <command
               commandId="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportTraceImageAction"
               label="Verify Single Property for a Trace">
            <visibleWhen>
               <and>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <adapt
                              type="de.uni_paderborn.fujaba.muml.protocol.AbstractCoordinationSpecification">
                        </adapt>
                     </iterate>
                  </with></and>
            </visibleWhen>
         </command>
         <menu
               id="de.uni_paderborn.de.fujaba.muml.uppaal.verification.debugging"
               label="Debugging">
               <command
                     commandId="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportUppaalModelAction"
                     label="Generate Uppaal Model">
            <visibleWhen>
               <and>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <adapt
                              type="de.uni_paderborn.fujaba.muml.protocol.AbstractCoordinationSpecification">
                        </adapt>
                     </iterate>
                  </with></and>
            </visibleWhen>
         </command>

         <command
               commandId="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportUppaalXMLAction"
               label="Generate Uppaal XML File">
             <visibleWhen>
               <and>
                  <with
                        variable="selection">
                     <iterate
                           ifEmpty="false">
                        <adapt
                              type="de.uni_paderborn.fujaba.muml.protocol.AbstractCoordinationSpecification">
                        </adapt>
                     </iterate>
                  </with></and>
            </visibleWhen>
         </command>
         </menu>
        <!-- The wizard should not be dispayed anymore
         <command commandId="de.uni_paderborn.fujaba.muml.verification.uppaal.ExportUppaalWizardModelAction">
            <visibleWhen>
               <and>
                  <with variable="activePartId"><equals value="org.muml.pim.coordinationprotocol.diagram.part.CoordinationProtocolDiagramEditorID"/></with>
               	  
               	  <with variable="selection"><iterate ifEmpty="false">
               	     <or> 
                        <instanceof value="org.muml.pim.coordinationprotocol.diagram.edit.parts.CoordinationProtocolEditPart"/>
                        <instanceof value="org.muml.pim.coordinationprotocol.diagram.edit.parts.CoordinationProtocol2EditPart"/>
                        <instanceof value="org.muml.pim.coordinationprotocol.diagram.edit.parts.CoordinationProtocolCoordinationProtocolContainerCompartmentEditPart"/>
                        <instanceof value="org.muml.pim.coordinationprotocol.diagram.edit.parts.CoordinationProtocolNameEditPart"/>
                     </or>
                  </iterate></with>    
               </and>              
            </visibleWhen>
         </command> -->
         
      </menuContribution>
   </extension>
   
   <extension
         point="org.eclipse.ui.exportWizards">
      <wizard
            category="org.muml.core.export"
            class="org.muml.uppaal.adapter.ui.wizard.MUML2UppaalExportWizard"
            id="de.uni_paderborn.fujaba.verification.upaal.export"
            name="MechatronicUML to Uppaal">
      </wizard>
   </extension>

</plugin>
