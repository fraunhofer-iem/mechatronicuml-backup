\chapter{Fujaba Diagram Editors with GMF}
	
\section{Overview}
\subsection{Introduction}
In this document several solutions will be provided that help developing a
GMF-Diagram Editor for Fujaba.
It is not necessary to do it exactly this way, but it should give the reader a
good orientation.

\subsection{Multiple ways of modifying the generated editor}
Basically there are multiple ways to modify the look and behavior of the
generated editor.
\begin{enumerate}
    \item Adjusting the generated code directly (myeditor.diagram)
	\item Creation of a "Extension"-Plugin (myeditor.diagram.custom)
\end{enumerate}

In this document, the second variant will be chosen, so that the GMF-Code can be
regenerated without problems. Furthermore, this way there is a strict separation
of generated and manually written sourcecode. This idea was taken from Dr. KÃ¶hnlein's
\href{http://www.slideshare.net/itemis/gmf-fr-anspruchsvolle-presentation}{slides}
at w-jax08 (slides 20-22). \\
In case, changes on the generated code are unavoidable, this can be achieved by
modifying the gmf-templates used to generate the code.

\subsection{Conventions}
It is assumed that the editor is called MyEditor. 

\section {Creating a NewWizard for a Fujaba Diagram Editor}
Fujaba Diagram Editor share a domain model file (the fujaba model).
Therefore a New Wizard for Fujaba Diagrams must be able to put a new
diagram into an existing model file, without deleting all of its contents.
An abstract implementation for such a New Wizard exists within the
$de.uni\_paderborn.fujaba.newwizard$ plugin.

\subsection {MANIFEST.MF}
In order to use the abstract implementation, make sure that your
$myeditor.custom$ plugin has a dependency to
$de.uni\_paderborn.fujaba.newwizard$.

\subsection {plugin.xml}
\lstinputlisting
[caption={An extension must be added to the
plugin.xml}\label{lst:javaclass},language=XML]
{files/newwizard/plugin.xml}


\subsection {Class CustomMyEditorDiagramCreationWizard}
\lstinputlisting
[caption={Example for
myeditor.diagram.custom.part.MyEditorDiagramCreationWizard.}
\label{lst:javaclass},language=JAVA] {files/newwizard/newwizard.java}
